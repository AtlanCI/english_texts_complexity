!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://chat-assets.frontapp.com/v1/",n(n.s=402)}([function(e,t,n){"use strict";e.exports=n(398)},function(e,t,n){e.exports=n(390)()},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a=n(4),s=n(55),u=n(3),c=n(365),l=n(9);function f(){}f.prototype=c;var d=new f;"function"==typeof postMessage&&addEventListener("message",function(e){"layer-delayed-event"===e.data.type&&d.trigger(e.data.internalId+"-delayed-event")});var p={},h=/\s+/,y=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._layerEventSubscriptions=[],n._delayedTriggers=[],n._lastDelayedTrigger=Date.now(),n._events={};var r=n.constructor.name;p[r]||(p[r]=0),n.internalId=r+p[r]++,d.on(n.internalId+"-delayed-event",n._processDelayedTriggers,n),n.id||e.id||!n.constructor.prefixUUID||(n.id=n.constructor.prefixUUID+a.generateUUID());var o=void 0;for(o in e)-1!==n.constructor._supportedEvents.indexOf(o)?n.on(o,e[o]):o in n&&"function"!=typeof n[o]&&(n[o]=e[o]);return n.isInitializing=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f),o(t,[{key:"destroy",value:function(){var e=this;if(this.isDestroyed)throw new Error(u.dictionary.alreadyDestroyed);this.trigger("destroy"),d.off(this.internalId+"-delayed-event",null,this),this.off(),this._layerEventSubscriptions.forEach(function(t){return t.off(null,null,e)}),this._layerEventSubscriptions=null,this._delayedTriggers=null,this.isDestroyed=!0}},{key:"toObject",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.__inToObject=!0;var r={};try{var o=[],i=void 0;for(i in this.constructor.prototype)i in t.prototype||o.push(i);o.forEach(function(o){var i=e[o];0!==o.indexOf("_")&&"function"!=typeof i&&(Array.isArray(i)?(r[o]=[],i.forEach(function(e){e instanceof t?n?delete r[o]:e.__inToObject||r[o].push(e.toObject()):r[o].push(e)})):i instanceof t?i.__inToObject||n||(r[o]=i.toObject()):i instanceof Date?r[o]=new Date(i):r[o]=i)})}catch(e){}return this.__inToObject=!1,r}},{key:"_warnForEvent",value:function(e){if(!a.includes(this.constructor._supportedEvents,e))throw new Error("Event "+e+" not defined for "+this.toString())}},{key:"_prepareOn",value:function(e,n,o){var i=this;if(o){if(o instanceof t&&o.isDestroyed)throw new Error(u.dictionary.isDestroyed);o._layerEventSubscriptions&&o._layerEventSubscriptions.push(this)}"string"==typeof e&&"all"!==e?h.test(e)?e.split(h).forEach(function(e){return i._warnForEvent(e)}):this._warnForEvent(e):e&&"object"===(void 0===e?"undefined":r(e))&&Object.keys(e).forEach(function(e){return i._warnForEvent(e)})}},{key:"on",value:function(e,t,n){return this._prepareOn(e,t,n),c.on.apply(this,[e,t,n]),this}},{key:"once",value:function(e,t,n){return this._prepareOn(e,t,n),c.once.apply(this,[e,t,n]),this}},{key:"trigger",value:function(){return this._disableEvents?this:this._trigger.apply(this,arguments)}},{key:"_trigger",value:function(){if(a.includes(this.constructor._supportedEvents,arguments.length<=0?void 0:arguments[0])){var e=this._getTriggerArgs.apply(this,arguments);c.trigger.apply(this,e);var t=this.constructor.bubbleEventParent;if(t&&"destroy"!==(arguments.length<=0?void 0:arguments[0])){var n,r=this[t];(r="function"==typeof r?r.apply(this):r)&&(n=r).trigger.apply(n,i(e))}}else a.includes(this.constructor._ignoredEvents,arguments.length<=0?void 0:arguments[0])||l.error(this.toString()+" ignored "+(arguments.length<=0?void 0:arguments[0]))}},{key:"_getTriggerArgs",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=Array.prototype.slice.call(t);if(t[1]){var i={target:this};o[1]instanceof s||("object"===r(o[1])?Object.keys(o[1]).forEach(function(e){return i[e]=o[1][e]}):i.data=o[1],o[1]=new s(i,o[0]))}else o[1]=new s({target:this},o[0]);return o}},{key:"_triggerAsync",value:function(){var e=this,t=this._getTriggerArgs.apply(this,arguments);if(this._delayedTriggers.push(t),1===this._delayedTriggers.length||this._delayedTriggers.length&&this._lastDelayedTrigger+500<Date.now())if(this._lastDelayedTrigger=Date.now(),"function"==typeof postMessage&&"undefined"==typeof jasmine){var n={type:"layer-delayed-event",internalId:this.internalId};"undefined"!=typeof document?window.postMessage(n,"*"):window.postMessage(n)}else setTimeout(function(){return e._processDelayedTriggers()},0)}},{key:"_foldEvents",value:function(e,t,n){var r=this,o=e.length?e[0][1]:null,i=o?o[t]:null;e.forEach(function(e,n){n>0&&(i.push(e[1][t][0]),r._delayedTriggers.splice(r._delayedTriggers.indexOf(e),1))}),e.length&&n&&(e[0][1].target=n)}},{key:"_foldChangeEvents",value:function(){var e=this,t=this._delayedTriggers.filter(function(e){return e[1].isChange});t.forEach(function(n,r){r>0&&(t[0][1]._mergeChanges(n[1]),e._delayedTriggers.splice(e._delayedTriggers.indexOf(n),1))})}},{key:"_processDelayedTriggers",value:function(){this.isDestroyed||(this._foldChangeEvents(),this._delayedTriggers.forEach(function(e){this.trigger.apply(this,i(e))},this),this._delayedTriggers=[])}},{key:"_runMixins",value:function(e,t){var n=this;this.constructor.mixins.forEach(function(r){r.lifecycle[e]&&r.lifecycle[e].apply(n,t)})}},{key:"toString",value:function(){return this.internalId}}],[{key:"isValidId",value:function(e){return 0===e.indexOf(this.prefixUUID)}}]),t}();y.prototype.isDestroyed=!1,y.prototype.internalId="",y.prototype.isInitializing=!0,y.prototype._layerEventSubscriptions=null,y.prototype._disableEvents=!1,y._supportedEvents=["destroy","all"],y._ignoredEvents=[],e.exports=y,e.exports.initClass=function(e,t){e.name||(e.name=t),e._supportedEvents||(e._supportedEvents=y._supportedEvents),e._ignoredEvents||(e._ignoredEvents=y._ignoredEvents),e.mixins&&e.mixins.forEach(function(t){t.events&&(e._supportedEvents=e._supportedEvents.concat(t.events)),t.properties&&Object.keys(t.properties).forEach(function(n){e.prototype[n]=t.properties[n]}),t.methods&&Object.keys(t.methods).forEach(function(n){e.prototype[n]=t.methods[n]})}),Object.keys(e.prototype).filter(function(t){return e.prototype.hasOwnProperty(t)&&!y.prototype.hasOwnProperty(t)&&"function"!=typeof e.prototype[t]}).forEach(function(t){return function(e,t){var n="__"+t,r=t.substring(0,1).toUpperCase()+t.substring(1);(e.prototype["__adjust"+r]||e.prototype["__update"+r]||e.prototype["__get"+r])&&(e.prototype[n]=e.prototype[t],Object.defineProperty(e.prototype,t,{enumerable:!0,get:function(){return this["__get"+r]?this["__get"+r](n):this[n]},set:function(e){if(!this.isDestroyed){var t=this[n];if(e!==t){if(this["__adjust"+r]){var o=this["__adjust"+r](e);void 0!==o&&(e=o)}this[n]=e}e!==t&&!this.isInitializing&&this["__update"+r]&&this["__update"+r](e,t)}}}))}(e,t)})}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(9),a=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t instanceof e?t={errType:t.errType,httpStatus:t.httpStatus,message:t.message,code:t.code,url:t.url,data:t.data}:t&&"object"===(void 0===t?"undefined":r(t))?t.errType=t.id:t={message:t},Object.keys(t).forEach(function(e){return n[e]=t[e]}),this.data||(this.data={})}return o(e,[{key:"getNonce",value:function(){return this.data&&this.data.nonce?this.data.nonce:""}},{key:"toString",value:function(){return this.code+" ("+this.id+"): "+this.message+"; (see "+this.url+")"}},{key:"log",value:function(){i.error("Layer-Error: "+this.toString())}}]),e}();a.prototype.errType="",a.prototype.code=0,a.prototype.url="",a.prototype.message="",a.prototype.httpStatus=0,a.prototype.request=null,a.prototype.data=null,a.prototype.xhr=null,a.dictionary={appIdMissing:"Property missing: appId is required",identityTokenMissing:"Identity Token missing: answerAuthenticationChallenge requires an identity token",sessionTokenMissing:"Session Token missing: _authComplete requires a {session_token: value} input",clientMissing:"Property missing: client is required",conversationMissing:"Property missing: conversation is required",partsMissing:"Property missing: parts is required",moreParticipantsRequired:"Conversation needs participants other than the current user",isDestroyed:"Object is destroyed",urlRequired:"Object needs a url property",invalidUrl:"URL is invalid",invalidId:"Identifier is invalid",idParamRequired:"The ID Parameter is required",wrongClass:"Parameter class error; should be: ",inProgress:"Operation already in progress",cantChangeIfConnected:"You can not change value after connecting",cantChangeUserId:"You can not change the userId property",alreadySent:"Already sent or sending",contentRequired:"MessagePart requires rich content for this call",alreadyDestroyed:"This object has already been destroyed",deletionModeUnsupported:"Call to deletion was made with an unsupported deletion mode",sessionAndUserRequired:"connectWithSession requires both a userId and a sessionToken",invalidUserIdChange:"The prn field in the Identity Token must match the requested UserID",predicateNotSupported:"The predicate is not supported for this value of model",invalidPredicate:"The predicate does not match the expected format",appIdImmutable:"The appId property cannot be changed",clientMustBeReady:'The Client must have triggered its "ready" event before you can call this',modelImmutable:"The model property cannot be changed",valueNotSupported:"The value provided is not a supported value",permissionDenied:"Operation not allowed on that object"},e.exports=a},function(e,t,n){"use strict";(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(370);t.atob="undefined"==typeof atob?e.getNativeSupport("atob"):atob.bind(window),t.btoa="undefined"==typeof btoa?e.getNativeSupport("btoa"):btoa.bind(window);var i="undefined"==typeof FileReader?e.getNativeSupport("FileReader"):FileReader;t.generateUUID=o.v4,t.typeFromID=function(e){var t=e.match(/([^/]*)(\/[^/]*)$/);return t?t[1]:""},t.uuid=function(e){return(e||"").replace(/^.*\//,"")},t.isEmpty=function(e){return"[object Object]"===Object.prototype.toString.apply(e)&&0===Object.keys(e).length},t.sortBy=function(e,t,n){return n=n?-1:1,e.sort(function(e,r){var o=t(e),i=t(r);return void 0===o&&void 0===i?0:void 0===o&&void 0!==i?1:void 0!==o&&void 0===i?-1:o>i?1*n:o<i?-1*n:0})},t.clone=function(e){return JSON.parse(JSON.stringify(e))},t.strictEncodeURI=function(e){return encodeURIComponent(e).replace(/[!~'()]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},t.decode=function(e){var n=new RegExp("_","g"),r=new RegExp("-","g"),o=e.replace(r,"+").replace(n,"/");switch(o.length%4){case 0:break;case 2:o+="==";break;case 3:o+="=";break;default:throw new Error("Illegal base64url string!")}return t.atob(o)},t.getExponentialBackoffSeconds=function(e,t){var n=Math.pow(2,t)/10,r=Math.random();return n>=e&&(n=e),t<2?r/=4:t<6?r/=2:r*=.5*n,n+r},t.isBlob=function(e){return"undefined"!=typeof Blob&&e instanceof Blob},t.blobToBase64=function(e,t){var n=new i;n.readAsDataURL(e),n.onloadend=function(){return t(n.result.replace(/^.*?,/,""))}},t.base64ToBlob=function(e,n){try{var r=t.atob(e),o=[],i=void 0;for(i=0;i<r.length;i+=512){var a=void 0,s=r.slice(i,i+512),u=new Array(s.length);for(a=0;a<s.length;a++)u[a]=s.charCodeAt(a);var c=new Uint8Array(u);o.push(c)}return new Blob(o,{type:n})}catch(e){}return null},t.utoa=function(e){return t.btoa(unescape(encodeURIComponent(e)))},t.atou=function(e){return decodeURIComponent(escape(t.atob(e)))},t.fetchTextFromFile=function(e,t){if("string"==typeof e)return t(e);var n=new i;n.addEventListener("loadend",function(){t(n.result)}),n.readAsText(e)},t.defer=n(368),t.layerParse=n(367),t.doesObjectMatch=function(e,n){if(!e&&n||e&&!n)return!1;var o=Object.keys(e).sort(),i=Object.keys(n).sort();if(o.length!==i.length)return!1;for(var a=0;a<o.length;a++){var s=o[a],u=i[a],c=e[s],l=n[u];if(s!==u)return!1;if(c&&"object"===(void 0===c?"undefined":r(c))){if(Array.isArray(c))throw new Error("Array comparison not handled yet");if(!t.doesObjectMatch(c,l))return!1}else if(c!==l)return!1}return!0},t.includes=function(e,t){return-1!==e.indexOf(t)},t.asciiInit=function(e){if(!e)return"Missing version";var t=e.split("-"),n=t[0]||"",r=t[1]||"";return"\n    /hNMMMMMMMMMMMMMMMMMMMms.\n  hMMy+/////////////////omMN-\n  MMN                    oMMo\n  MMN        Layer       oMMo\n  MMN       Web SDK      oMMo\n  MMM-                   oMMo\n  MMMy      v"+(n+=new Array(13-n.length).join(" "))+"oMMo\n  MMMMo     "+(r+=new Array(14-r.length).join(" "))+"oMMo\n  MMMMMy.                oMMo\n  MMMMMMNy:'             oMMo\n  NMMMMMMMMmy+:-.'      'yMM/\n  :dMMMMMMMMMMMMNNNNNNNNNMNs\n   -/+++++++++++++++++++:'"}}).call(this,n(11))},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){"use strict";e.exports={SYNC_STATE:{NEW:"NEW",SAVING:"SAVING",SYNCING:"SYNCING",SYNCED:"SYNCED",LOADING:"LOADING"},RECIPIENT_STATE:{NONE:"NONE",SOME:"SOME",ALL:"ALL"},RECEIPT_STATE:{SENT:"sent",DELIVERED:"delivered",READ:"read",PENDING:"pending"},LOCALSTORAGE_KEYS:{SESSIONDATA:"layer-session-data-"},ACCEPT:"application/vnd.layer+json; version=2.0",WEBSOCKET_PROTOCOL:"layer-2.0",LOG:{DEBUG:4,INFO:3,WARN:2,ERROR:1,NONE:0},DELETION_MODE:{ALL:"all_participants",MY_DEVICES:"my_devices"}}},function(e,t,n){var r,o,i={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),u=null,c=0,l=[],f=n(278);function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(v(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(v(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],a=t.base?i[0]+t.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function h(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),l.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function y(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=l.indexOf(e);t>=0&&l.splice(t,1)}function g(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),m(t,e.attrs),h(e,t),t}function m(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function v(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var a=c++;n=u||(u=g(t)),r=A.bind(null,n,a,!1),o=A.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(t,e.attrs),h(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=f(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),o=function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){y(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return d(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}e&&d(p(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete i[s.id]}}}};var b,_=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function A(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=_(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}},function(e,t){e.exports=function(e){return(" "+e).replace(/([^\>\+\~a-z0-9A-Z])(.fc-)/g,"$1#front-chat-container $2")}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(6).LOG,a=i.DEBUG,s=i.INFO,u=i.WARN,c=i.ERROR,l=i.NONE,f=Boolean(console.assert&&(console.assert.toString()||"").match(/assert/)),d="color: #888; font-weight: bold;",p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"log",value:function(e,t,n,o){"object"===(void 0===e?"undefined":r(e))&&(t=e,e="");var i=(new Date).toLocaleTimeString(),l=void 0;switch(n){case a:l="debug";break;case s:l="info";break;case u:l="warn";break;case c:l="error";break;default:l="log"}t?f?console[l]("%cLayer%c "+l.toUpperCase()+"%c ["+i+"]: "+e,d,"color: "+o,"color: black",t):console[l]("Layer "+l.toUpperCase()+" ["+i+"]: "+e,t):f?console[l]("%cLayer%c "+l.toUpperCase()+"%c ["+i+"]: "+e,d,"color: "+o,"color: black"):console[l]("Layer "+l.toUpperCase()+" ["+i+"]: "+e)}},{key:"debug",value:function(e,t){this.level>=a&&this.log(e,t,a,"#888")}},{key:"info",value:function(e,t){this.level>=s&&this.log(e,t,s,"black")}},{key:"warn",value:function(e,t){this.level>=u&&this.log(e,t,u,"orange")}},{key:"error",value:function(e,t){this.level>=c&&this.log(e,t,c,"red")}}]),e}();p.prototype.level="undefined"==typeof jasmine?c:l;var h=new p;e.exports=h},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(this&&this[r]||r);else if(Array.isArray(r))e.push(o.apply(this,r));else if("object"===i)for(var a in r)n.call(r,a)&&r[a]&&e.push(this&&this[a]||a)}}return e.join(" ")}void 0!==e&&e.exports?e.exports=o:void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onChallenge=t.CONVERSATON_LOADED=t.LAYER_READY=t.REMOVE_PUSH_MESSAGE=t.SET_PUSH_MESSAGE=t.LOAD_MORE_MESSAGES=t.SEND_EMAIL_CAPTURE=t.SEND_MESSAGE=t.FIND_OR_CREATE_CONVERSATION=t.SET_CONVERSATION_ID=t.LOGOUT_CLIENT=t.CONNECT_CLIENT=t.SET_USER_ID=t.INIT_CLIENT=void 0;var r,o=n(40),i=(r=o)&&r.__esModule?r:{default:r};t.initClient=function(e){return{type:l,payload:{appId:e}}},t.setUserId=function(e){return{type:f,payload:{userId:e}}},t.connectClient=function(e){return{type:d,payload:{userId:e}}},t.onReady=function(){return{type:A}},t.logoutClient=function(){return{type:p}},t.setConversationId=function(e){return{type:h,payload:{id:e}}},t.findOrCreateConversation=function(){return{type:y}},t.loadMoreMessages=function(){return{type:v}},t.sendMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return{type:g,payload:{body:e,type:t}}},t.sendEmailCapture=function(e){return{type:m,payload:{email:e}}},t.setConversationLoaded=function(){return{type:C}},t.removePush=function(){return{type:_}},t.submitFiles=function(e){return function(t,n){var r=e[0],o=(0,u.getClient)(),c=n(),l=(0,i.default)(c,"layer.conversation.id"),f=o.getConversation(l),d=(0,s.identifiedMessage)(f.createMessage({parts:[new a.MessagePart(r)]}),c.identity);d.send()}},t.setPushMessage=function(e){var t=e.author,n=e.body,r=e.avatar,o=e.id;return{type:b,payload:{id:o,avatar:r,author:t,body:n}}};var a=n(157),s=n(50),u=n(57),c=n(31);var l=t.INIT_CLIENT="INIT_CLIENT",f=t.SET_USER_ID="SET_USER_ID",d=t.CONNECT_CLIENT="CONNECT_CLIENT",p=t.LOGOUT_CLIENT="LOGOUT_CLIENT",h=t.SET_CONVERSATION_ID="SET_CONVERSATION_ID",y=t.FIND_OR_CREATE_CONVERSATION="FIND_OR_CREATE_CONVERSATION",g=t.SEND_MESSAGE="SEND_MESSAGE",m=t.SEND_EMAIL_CAPTURE="SEND_EMAIL_CAPTURE",v=t.LOAD_MORE_MESSAGES="LOAD_MORE_MESSAGES",b=t.SET_PUSH_MESSAGE="SET_PUSH_MESSAGE",_=t.REMOVE_PUSH_MESSAGE="REMOVE_PUSH_MESSAGE",A=t.LAYER_READY="LAYER_READY",C=t.CONVERSATON_LOADED="CONVERSATION_LOADED";t.onChallenge=function(e){return function(t){return Promise.resolve().then(function(){t((0,c.updateIdentityPayload)({nonce:e})),t((0,c.fetchIdentityToken)())})}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(2),i=n(6).SYNC_STATE,a=n(3),s=n(24),u=n(6),c=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.localCreatedAt=new Date,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"getClient",value:function(){return s.get(this.clientId)}},{key:"_xhr",value:function(e,t){var n=this;e.url||(e.url=""),e.method||(e.method="GET");var r=this.getClient();if(this.isDestroyed)throw new Error(a.dictionary.isDestroyed);if(!r)throw new Error(a.dictionary.clientMissing);return this.constructor.enableOpsIfNew||"POST"===e.method||"GET"===e.method||this.syncState!==u.SYNC_STATE.NEW?(e.url.match(/^https?:\/\//)||(e.url&&!e.url.match(/^(\/|\?)/)&&(e.url="/"+e.url),e.sync||(e.url=this.url+e.url)),e.sync=this._setupSyncObject(e.sync),"GET"!==e.method&&this._setSyncing(),r.xhr(e,function(r){r.success&&"GET"!==e.method&&!n.isDestroyed&&n._setSynced(),t&&t(r)}),this):this}},{key:"_setupSyncObject",value:function(e){return!1!==e&&(e||(e={}),e.target||(e.target=this.id)),e}},{key:"_handleWebsocketDelete",value:function(e){this._deleted(),this.destroy()}},{key:"_deleted",value:function(){this.trigger(this.constructor.eventPrefix+":delete")}},{key:"_load",value:function(){var e=this;this.syncState=i.LOADING,this._xhr({method:"GET",sync:!1},function(t){return e._loadResult(t)})}},{key:"_loadResult",value:function(e){var t=this;if(!this.isDestroyed){var n=this.constructor.eventPrefix;e.success?(this._populateFromServer(e.data),this._loaded(e.data),this.trigger(n+":loaded")):(this.syncState=i.NEW,this._triggerAsync(n+":loaded-error",{error:e.data}),setTimeout(function(){t.isDestroyed||t.destroy()},100))}}},{key:"_loaded",value:function(e){}},{key:"_setSyncing",value:function(){switch(this._clearObject(),this.syncState){case i.SYNCED:this.syncState=i.SYNCING;break;case i.NEW:this.syncState=i.SAVING}this._syncCounter++}},{key:"_setSynced",value:function(){this._clearObject(),this._syncCounter>0&&this._syncCounter--,this.syncState=0===this._syncCounter?i.SYNCED:i.SYNCING,this.isSending=!1}},{key:"_clearObject",value:function(){this._toObject=null}},{key:"toObject",value:function(){return this._toObject||(this._toObject=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toObject",this).call(this),this._toObject.isNew=this.isNew(),this._toObject.isSaving=this.isSaving(),this._toObject.isSaved=this.isSaved(),this._toObject.isSynced=this.isSynced()),this._toObject}},{key:"isNew",value:function(){return this.syncState===i.NEW}},{key:"isSaving",value:function(){return this.syncState===i.SAVING}},{key:"isSaved",value:function(){return!(this.isNew()||this.isSaving())}},{key:"isSynced",value:function(){return this.syncState===i.SYNCED}}],[{key:"load",value:function(e,n){if(!(n&&n instanceof o))throw new Error(a.dictionary.clientMissing);var r={id:e,url:n.url+e.substring(8),clientId:n.appId};t.sortedSubclasses||(t.sortedSubclasses=t.subclasses.filter(function(e){return e.prefixUUID}).sort(function(e,t){return e.prefixUUID.length-t.prefixUUID.length}));var s=t.sortedSubclasses.filter(function(e){return 0===e.prefixUUID.indexOf("layer:///")?0===r.id.indexOf(e.prefixUUID):-1!==r.id.indexOf(e.prefixUUID)})[0],u=new s(r),c=s.eventPrefix;return c?n.dbManager?n.dbManager.getObject(c,e,function(e){u.isDestroyed||(e?(u._populateFromServer(e),u.trigger(c+":loaded")):n.isReady?u._load():(u.syncState=i.LOADING,n.once("ready",function(){return u._load()})))}):(u.syncState=i.LOADING,n.once("ready",function(){return u._load()})):u._load(),u.syncState=i.LOADING,u}}]),t}();c.prototype.id="",c.prototype.url="",c.prototype.localCreatedAt=null,c.prototype.clientId="",c.prototype._fromDB=!1,c.prototype.syncState=i.NEW,c.prototype._syncCounter=0,c.eventPrefix="",c.enableOpsIfNew=!1,Object.defineProperty(c.prototype,"isLoading",{enumerable:!0,get:function(){return this.syncState===i.LOADING}}),c.subclasses=[],c._supportedEvents=[].concat(o._supportedEvents),c.inObjectIgnore=o.inObjectIgnore,e.exports=c},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1),i=n.n(o),a=i.a.shape({trySubscribe:i.a.func.isRequired,tryUnsubscribe:i.a.func.isRequired,notifyNestedSubs:i.a.func.isRequired,isSubscribed:i.a.func.isRequired}),s=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired});function u(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1]||t+"Subscription",o=function(e){function o(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return i[t]=n.store,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),o.prototype.getChildContext=function(){var e;return(e={})[t]=this[t],e[n]=null,e},o.prototype.render=function(){return r.Children.only(this.props.children)},o}(r.Component);return o.propTypes={store:s.isRequired,children:i.a.element.isRequired},o.childContextTypes=((e={})[t]=s.isRequired,e[n]=a,e),o}var c=u(),l=n(168),f=n.n(l),d=n(64),p=n.n(d);var h=null,y={notify:function(){}};var g=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.parentSub=n,this.onStateChange=r,this.unsubscribe=null,this.listeners=y}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){var e,t;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=h,e=h},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==h&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}))},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=y)},e}(),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var v=0,b={};function _(){}function A(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.getDisplayName,u=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,c=o.methodName,l=void 0===c?"connectAdvanced":c,d=o.renderCountProp,h=void 0===d?void 0:d,y=o.shouldHandleStateChanges,A=void 0===y||y,C=o.storeKey,w=void 0===C?"store":C,E=o.withRef,k=void 0!==E&&E,x=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),O=w+"Subscription",S=v++,T=((t={})[w]=s,t[O]=a,t),M=((n={})[O]=a,n);return function(t){p()("function"==typeof t,"You must pass a component to the function returned by "+l+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",o=u(n),i=m({},x,{getDisplayName:u,methodName:l,renderCountProp:h,shouldHandleStateChanges:A,storeKey:w,withRef:k,displayName:o,wrappedComponentName:n,WrappedComponent:t}),a=function(n){function a(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.call(this,e,t));return r.version=S,r.state={},r.renderCount=0,r.store=e[w]||t[w],r.propsMode=Boolean(e[w]),r.setWrappedInstance=r.setWrappedInstance.bind(r),p()(r.store,'Could not find "'+w+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+w+'" as a prop to "'+o+'".'),r.initSelector(),r.initSubscription(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,n),a.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[O]=t||this.context[O],e},a.prototype.componentDidMount=function(){A&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},a.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},a.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},a.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=_,this.store=null,this.selector.run=_,this.selector.shouldComponentUpdate=!1},a.prototype.getWrappedInstance=function(){return p()(k,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+l+"() call."),this.wrappedInstance},a.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},a.prototype.initSelector=function(){var t=e(this.store.dispatch,i);this.selector=function(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},a.prototype.initSubscription=function(){if(A){var e=(this.propsMode?this.props:this.context)[O];this.subscription=new g(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},a.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(b)):this.notifyNestedSubs()},a.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},a.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},a.prototype.addExtraProps=function(e){if(!(k||h||this.propsMode&&this.subscription))return e;var t=m({},e);return k&&(t.ref=this.setWrappedInstance),h&&(t[h]=this.renderCount++),this.propsMode&&this.subscription&&(t[O]=this.subscription),t},a.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(r.createElement)(t,this.addExtraProps(e.props))},a}(r.Component);return a.WrappedComponent=t,a.displayName=o,a.childContextTypes=M,a.contextTypes=T,a.propTypes=T,f()(a,t)}}var C=Object.prototype.hasOwnProperty;function w(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function E(e,t){if(w(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!C.call(t,n[o])||!w(e[n[o]],t[n[o]]))return!1;return!0}var k=n(20);Object.prototype.toString;Object.getPrototypeOf,Object;var x=Function.prototype,O=Object.prototype,S=x.toString;O.hasOwnProperty,S.call(Object);function T(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function M(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function P(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=M(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=M(o),o=r(t,n)),o},r}}var B=[function(e){return"function"==typeof e?P(e):void 0},function(e){return e?void 0:T(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?T(function(t){return Object(k.bindActionCreators)(e,t)}):void 0}];var D=[function(e){return"function"==typeof e?P(e):void 0},function(e){return e?void 0:T(function(){return{}})}],I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function j(e,t,n){return I({},n,e,t)}var R=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r=n.pure,o=n.areMergedPropsEqual,i=!1,a=void 0;return function(t,n,s){var u=e(t,n,s);return i?r&&o(u,a)||(a=u):(i=!0,a=u),a}}}(e):void 0},function(e){return e?void 0:function(){return j}}];function N(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function F(e,t,n,r,o){var i=o.areStatesEqual,a=o.areOwnPropsEqual,s=o.areStatePropsEqual,u=!1,c=void 0,l=void 0,f=void 0,d=void 0,p=void 0;function h(o,u){var h,y,g=!a(u,l),m=!i(o,c);return c=o,l=u,g&&m?(f=e(c,l),t.dependsOnOwnProps&&(d=t(r,l)),p=n(f,d,l)):g?(e.dependsOnOwnProps&&(f=e(c,l)),t.dependsOnOwnProps&&(d=t(r,l)),p=n(f,d,l)):m?(h=e(c,l),y=!s(h,f),f=h,y&&(p=n(f,d,l)),p):p}return function(o,i){return u?h(o,i):(f=e(c=o,l=i),d=t(r,l),p=n(f,d,l),u=!0,p)}}function L(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),s=r(e,i),u=o(e,i);return(i.pure?F:N)(a,s,u,e,i)}var U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function z(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function q(e,t){return e===t}var W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?A:t,r=e.mapStateToPropsFactories,o=void 0===r?D:r,i=e.mapDispatchToPropsFactories,a=void 0===i?B:i,s=e.mergePropsFactories,u=void 0===s?R:s,c=e.selectorFactory,l=void 0===c?L:c;return function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=i.pure,c=void 0===s||s,f=i.areStatesEqual,d=void 0===f?q:f,p=i.areOwnPropsEqual,h=void 0===p?E:p,y=i.areStatePropsEqual,g=void 0===y?E:y,m=i.areMergedPropsEqual,v=void 0===m?E:m,b=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),_=z(e,o,"mapStateToProps"),A=z(t,a,"mapDispatchToProps"),C=z(r,u,"mergeProps");return n(l,U({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:A,initMergeProps:C,pure:c,areStatesEqual:d,areOwnPropsEqual:h,areStatePropsEqual:g,areMergedPropsEqual:v},b))}}();n.d(t,"Provider",function(){return c}),n.d(t,"createProvider",function(){return u}),n.d(t,"connectAdvanced",function(){return A}),n.d(t,"connect",function(){return W})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identity=t.init=t.show=t.hide=t.shutdown=t.loadAPI=t.identityPermittedParams=t.settingsPermittedParams=t.apiPermittedParams=t.SHOW=t.HIDE=t.SHUTDOWN_APP=t.LOAD_API=void 0;var r=b(n(143)),o=b(n(140)),i=b(n(23)),a=b(n(36)),s=b(n(48)),u=b(n(40)),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(74),f=n(31),d=n(13),p=n(71),h=b(p),y=n(318),g=b(y),m=n(73),v=b(n(315));function b(e){return e&&e.__esModule?e:{default:e}}var _=t.LOAD_API="LOAD_API",A=t.SHUTDOWN_APP="SHUTDOWN_APP",C=t.HIDE="HIDE",w=t.SHOW="SHOW",E=t.apiPermittedParams=["chatId"],k=t.settingsPermittedParams=["useDefaultLauncher","color","remoteLogs"],x=t.identityPermittedParams=["email","name","userId","userHash"],O=(t.loadAPI=function(){return{type:_}},t.shutdown=function(){return{type:A}}),S=(t.hide=function(){return{type:C}},t.show=function(){return{type:w}},function(){return function(e,t){return(0,m.fetchInitSettings)(t().identity).then(function(t){var n=t.frontUserId,r=t.conversationId;e((0,d.setUserId)(n)),(0,i.default)(r)||e((0,d.setConversationId)(r))},function(e){console.error(e)})}});t.init=function(e){return function(t){var n=(0,r.default)(e,E),u=(0,r.default)(e,k),m=(0,r.default)(e,x),b=(0,o.default)({chatId:window.FCSP},n).chatId;return(0,i.default)(m.userId)&&!(0,i.default)(m.email)&&(m.userId=m.email),t(function(e,t,n){return function(r){return(0,g.default)(e).then(function(e){return(0,y.getWroughtFrontSettings)(t,e)}).then(function(t){if((0,a.default)(h.default.get(p.CHAT_ID_COOKIE_NAME),e)||(h.default.remove(p.CHAT_ID_COOKIE_NAME),h.default.remove(p.USER_ID_COOKIE_NAME),h.default.remove(p.CONVERSATION_ID_COOKIE_NAME),h.default.set(p.CHAT_ID_COOKIE_NAME,e)),r(O()),(0,v.default)(t))throw new Error("[FrontChat][Front][settings] Widget hidden due to offline hours.");if((0,s.default)(t))throw new Error("[FrontChat][Front][settings] Settings are empty.");var o=t.appId;if((0,i.default)(o))throw new Error("[FrontChat][Front][settings] appId is undefined.");return r((0,l.addSettings)(t)),r((0,f.updateIdentityPayload)(c({chatId:e},n))),o})}}(b,u,m)).then(function(e){return(0,i.default)(e)?{}:t((0,d.initClient)(e))}).then(function(){return t(S())}).then(function(){return(0,y.checkForLogo)(b).then(function(e){return t((0,l.addSettings)({logo:e}))})}).catch(function(e){console.error(e)})}},t.identity=function(e){return function(t,n){var o=(0,u.default)(n(),"identity.payload"),a=(0,r.default)(e,x);return(0,i.default)(a.userId)&&!(0,i.default)(a.email)&&(a.userId=a.email),Promise.resolve().then(function(){(0,m.newTokenRequired)(o,a)?(t((0,d.logoutClient)()),t((0,f.updateIdentityPayload)(a)),t(S())):t((0,f.updateIdentityPayload)(a))})}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(2),a=n(3),s=n(9),u=(n(4),function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var e=void 0,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];2===r.length?(e=r[1].build()).client=r[0]:e=r[0];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(i.predicate=i._fixPredicate(e.predicate||""),"paginationWindow"in e){var u=e.paginationWindow;i.paginationWindow=Math.min(i._getMaxPageSize(),e.paginationWindow),e.paginationWindow!==u&&s.warn("paginationWindow value "+u+" in Query constructor excedes Query.MaxPageSize of "+i._getMaxPageSize())}if(i.data=[],i._initialPaginationWindow=i.paginationWindow,!i.client)throw new Error(a.dictionary.clientMissing);return i.client.on("all",i._handleEvents,i),i.client.isReady?i._run():i.client.once("ready",function(){return i._run()},i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"destroy",value:function(){this.data=[],this._triggerChange({data:[],type:"reset"}),this.client.off(null,null,this),this.client._removeQuery(this),this.data=null,function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_getMaxPageSize",value:function(){return this.constructor.MaxPageSize}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0,n=void 0,r="function"==typeof e.build?e.build():e;if("paginationWindow"in r&&this.paginationWindow!==r.paginationWindow&&(this.paginationWindow=Math.min(this._getMaxPageSize()+this.size,r.paginationWindow),this.paginationWindow<r.paginationWindow&&s.warn("paginationWindow value "+r.paginationWindow+" in Query.update() increases size greater than Query.MaxPageSize of "+this._getMaxPageSize()),t=!0),"model"in r&&this.model!==r.model)throw new Error(a.dictionary.modelImmutable);if("predicate"in r){var o=this._fixPredicate(r.predicate||"");this.predicate!==o&&(this.predicate=o,n=!0)}return"sortBy"in r&&JSON.stringify(this.sortBy)!==JSON.stringify(r.sortBy)&&(this.sortBy=r.sortBy,n=!0),n&&this._reset(),(n||t)&&this._run(),this}},{key:"_fixPredicate",value:function(e){if(e)throw new Error(a.dictionary.predicateNotSupported);return""}},{key:"_reset",value:function(){this.totalSize=0;var e=this.data;this.data=[],this.client._checkAndPurgeCache(e),this.isFiring=!1,this._predicate=null,this._nextDBFromId="",this._nextServerFromId="",this.pagedToEnd=!1,this.paginationWindow=this._initialPaginationWindow,this._triggerChange({data:[],type:"reset"})}},{key:"reset",value:function(){this._reset(),this._run()}},{key:"_run",value:function(){var e=Math.min(this.paginationWindow-this.size,this._getMaxPageSize());if(e<0){var t=this.data.slice(this.paginationWindow);this.data=this.data.slice(0,this.paginationWindow),this.client._checkAndPurgeCache(t),this.pagedToEnd=!1,this._triggerAsync("change",{data:[]})}else 0===e||this.pagedToEnd||this._fetchData(e)}},{key:"_fetchData",value:function(e){}},{key:"_getSortField",value:function(){}},{key:"_processRunResults",value:function(e,t,n){var r=this;t!==this._firingRequest||this.isDestroyed||(this.isFiring=!1,this._firingRequest="",e.success?(this.totalSize=Number(e.xhr.getResponseHeader("Layer-Count")),(e.data.length<n||e.data.length===this.totalSize)&&(this.pagedToEnd=!0),this._appendResults(e,!1)):e.data.getNonce()?this.client.once("ready",function(){r._run()}):this.trigger("error",{error:e.data}))}},{key:"_appendResults",value:function(e,n){var r=this;e.data.forEach(function(e){e instanceof i||r.client._createObject(e)});var o=e.data.filter(function(e){return-1===r._getIndex(e.id)}),a=e.data.length;a&&(n?this._nextDBFromId=e.data[a-1].id:this._nextServerFromId=e.data[a-1].id),this.dataType===t.ObjectDataType&&(this.data=[].concat(this.data)),o.forEach(function(e){var t=r.client.getObject(e.id);t&&r._appendResultsSplice(t)}),this._triggerChange({type:"data",data:o.map(function(e){return r._getData(r.client.getObject(e.id))}),query:this,target:this.client})}},{key:"_appendResultsSplice",value:function(e){}},{key:"_getData",value:function(e){return this.dataType===t.ObjectDataType?e.toObject():e}},{key:"_getInstance",value:function(e){return e instanceof i?e:this.client.getObject(e.id)}},{key:"_getItem",value:function(e){var t=this._getIndex(e);return-1===t?null:this.data[t]}},{key:"_getIndex",value:function(e){for(var t=0;t<this.data.length;t++)if(this.data[t].id===e)return t;return-1}},{key:"_handleEvents",value:function(e,t){}},{key:"_handleChangeEvent",value:function(e,n){var r=this._getIndex(n.target.id);-1!==r&&(this.dataType===t.ObjectDataType&&(this.data=[].concat(o(this.data.slice(0,r)),[n.target.toObject()],o(this.data.slice(r+1)))),this._triggerChange({type:"property",target:this._getData(n.target),query:this,isChange:!0,changes:n.changes}))}},{key:"_handleAddEvent",value:function(e,n){var r=this,o=n[e].filter(function(e){return-1===r._getIndex(e.id)}).map(function(e){return r._getData(e)});if(o.length){var i=this.data=this.dataType===t.ObjectDataType?[].concat(this.data):this.data;o.forEach(function(e){i.push(e),r.totalSize+=1,r._triggerChange({type:"insert",index:i.length-1,target:e,query:r})})}}},{key:"_handleRemoveEvent",value:function(e,n){var r=this,i=[];n[e].forEach(function(e){var n=r._getIndex(e.id);-1!==n&&(e.id===r._nextDBFromId&&(r._nextDBFromId=r._updateNextFromId(n)),e.id===r._nextServerFromId&&(r._nextServerFromId=r._updateNextFromId(n)),i.push({data:e,index:n}),r.dataType===t.ObjectDataType?r.data=[].concat(o(r.data.slice(0,n)),o(r.data.slice(n+1))):r.data.splice(n,1))}),this.totalSize-=i.length,i.forEach(function(e){r._triggerChange({type:"remove",target:r._getData(e.data),index:e.index,query:r})})}},{key:"_updateNextFromId",value:function(e){return e>0?this.data[e-1].id:""}},{key:"_triggerChange",value:function(e){this.isDestroyed||this.client._inCleanup||(this.trigger("change",e),this.trigger("change:"+e.type,e))}},{key:"toString",value:function(){return this.id}}]),t}());u.prefixUUID="layer:///queries/",u.Conversation="Conversation",u.Channel="Channel",u.Message="Message",u.Announcement="Announcement",u.Identity="Identity",u.Membership="Membership",u.ObjectDataType="object",u.InstanceDataType="instance",u.MaxPageSize=100,Object.defineProperty(u.prototype,"size",{enumerable:!0,get:function(){return this.data?this.data.length:0}}),u.prototype.totalSize=0,u.prototype.client=null,u.prototype.data=null,u.prototype.model="",u.prototype.returnType="object",u.prototype.dataType=u.InstanceDataType,u.prototype.paginationWindow=100,u.prototype.sortBy=null,u.prototype._initialPaginationWindow=100,u.prototype.predicate=null,u.prototype.isFiring=!1,u.prototype.pagedToEnd=!1,u.prototype._firingRequest="",u.prototype._nextServerFromId="",u.prototype._nextDBFromId="",u._supportedEvents=["change","change:data","change:reset","change:property","change:insert","change:remove","change:move","error"].concat(i._supportedEvents),i.initClass.apply(u,[u,"Query"]),e.exports=u},function(e,t,n){var r=n(87)(n(86));e.exports=r},function(e,t,n){var r=n(45);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){"use strict";n.r(t);var r=Object.prototype.toString;var o=function(e){return r.call(e)};var i=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var a=function(e){return null!=e&&"object"==typeof e},s="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,d=l.call(Object);var p=function(e){if(!a(e)||o(e)!=s)return!1;var t=i(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d},h=n(106),y=n.n(h),g={INIT:"@@redux/INIT"};function m(e,t,n){var r;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(m)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,i=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){return i}function f(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return c(),s.push(e),function(){if(t){t=!1,c();var n=s.indexOf(e);s.splice(n,1)}}}function d(e){if(!p(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,i=o(i,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return d({type:g.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,d({type:g.INIT})}})[y.a]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[y.a]=function(){return this},e},r}function v(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function b(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var i=Object.keys(n);var a=void 0;try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:g.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+g.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){a=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(a)throw a;for(var r=!1,o={},s=0;s<i.length;s++){var u=i[s],c=n[u],l=e[u],f=c(l,t);if(void 0===f){var d=v(u,t);throw new Error(d)}o[u]=f,r=r||f!==l}return r?o:e}}function _(e,t){return function(){return t(e.apply(void 0,arguments))}}function A(e,t){if("function"==typeof e)return _(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},o=0;o<n.length;o++){var i=n[o],a=e[i];"function"==typeof a&&(r[i]=_(a,t))}return r}function C(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function E(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var i,a=e(n,r,o),s=a.dispatch,u={getState:a.getState,dispatch:function(e){return s(e)}};return i=t.map(function(e){return e(u)}),s=C.apply(void 0,i)(a.dispatch),w({},a,{dispatch:s})}}}n.d(t,"createStore",function(){return m}),n.d(t,"combineReducers",function(){return b}),n.d(t,"bindActionCreators",function(){return A}),n.d(t,"applyMiddleware",function(){return E}),n.d(t,"compose",function(){return C})},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=n(4),u=function(){function e(t){a(this,e);var n=void 0;for(n in t)n in this&&(this[n]=t[n]);this.depends||(this.depends=[]),this.id||(this.id="layer:///syncevents/"+s.generateUUID()),this.createdAt||(this.createdAt=Date.now())}return r(e,[{key:"destroy",value:function(){this.target=null,this.depends=null,this.callback=null,this.data=null}},{key:"_updateData",value:function(e){if(this.target){var t=e.getObject(this.target);t&&"POST"===this.operation&&t._getSendData&&(this.data=t._getSendData(this.data))}}},{key:"toObject",value:function(){return{data:this.data}}}]),e}();u.prototype.operation="",u.prototype.fromDB=!1,u.prototype.createdAt=0,Object.defineProperty(u.prototype,"isFiring",{enumerable:!0,set:function(e){this.__isFiring=e,e&&(this.__firedAt=Date.now())},get:function(){return Boolean(this.__isFiring&&Date.now()-this.__firedAt<u.FIRING_EXPIRATION)}}),Object.defineProperty(u.prototype,"_isValidating",{enumerable:!0,set:function(e){this.__isValidating=e,e&&(this.__validatedAt=Date.now())},get:function(){return Boolean(this.__isValidating&&Date.now()-this.__validatedAt<u.VALIDATION_EXPIRATION)}}),u.prototype.id="",u.prototype.success=null,u.prototype.callback=null,u.prototype.retryCount=0,u.prototype.target=null,u.prototype.depends=null,u.prototype.data=null,u.FIRING_EXPIRATION=15e3,u.VALIDATION_EXPIRATION=500;var c=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,u),r(t,[{key:"_getRequestData",value:function(e){return this._updateUrl(e),this._updateData(e),{url:this.url,method:this.method,headers:this.headers,data:this.data,telemetry:this.telemetry}}},{key:"_updateUrl",value:function(e){if(this.target){var t=e.getObject(this.target);t&&!this.url.match(/^https?:\/\//)&&(this.url=t._getUrl(this.url))}}},{key:"toObject",value:function(){return{data:this.data,url:this.url,method:this.method}}},{key:"_getCreateId",value:function(){return"POST"===this.operation&&this.data?this.data.id:""}}]),t}();c.prototype.timeout=15e3,c.prototype.url="",c.prototype.returnToOnlineCount=0,c.prototype.headers=null,c.prototype.method="GET",c.prototype.telemetry=null;var l=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,u),r(t,[{key:"_getRequestData",value:function(e){return this._updateData(e),this.data}},{key:"toObject",value:function(){return this.data}},{key:"_getCreateId",value:function(){return"POST"===this.operation&&this.data.data?this.data.data.id:""}}]),t}();l.prototype.returnChangesArray=!1,e.exports={SyncEvent:u,XHRSyncEvent:c,WebsocketSyncEvent:l}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){e.exports=function(e){return void 0===e}},function(e,t,n){"use strict";var r={},o=[],i=n(4).defer;e.exports={get:function(e){return r[e]||null},getAll:function(){return Object.keys(r).map(function(e){return r[e]})},register:function(e){var t=e.appId;r[t]&&!r[t].isDestroyed&&r[t].destroy(),r[t]=e,i(function(){return o.forEach(function(t){return t(e)})})},unregister:function(e){r[e.appId]&&delete r[e.appId]},addListener:function(e){o.push(e)},removeListener:function(e){if(e){var t=o.indexOf(e);t>=0&&o.splice(t,1)}else o.splice(0,o.length)}}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o="undefined"==typeof window?n(363):null;e.exports=function(t,n){var i=Date.now(),a=o?new o:new XMLHttpRequest,s=(t.method||"GET").toUpperCase(),u=function(){var o={"content-type":this.getResponseHeader("content-type")},a={status:this.status,success:this.status&&this.status<300,xhr:this},s=String(o["content-type"]).split(/;/)[0].match(/^application\/json/)||"json"===t.format;if("blob"===this.responseType||"arraybuffer"===this.responseType)0===this.status?a.data=new Error("Connection Failed"):a.data="function"==typeof this.response?this.responseText:this.response;else{if(s&&this.responseText)try{a.data=JSON.parse(this.responseText)}catch(e){a.data={code:999,message:"Invalid JSON from server",response:this.responseText},a.status=999}else a.data=this.responseText;e.exports.trigger({target:this,status:this.responseText||this.status?"connection:success":"connection:error",duration:Date.now()-i,request:t}),this.responseText||this.status?404===this.status&&"object"!==r(a.data)?a.data={id:"operation_not_found",message:"Endpoint "+(t.method||"GET")+" "+t.url+" does not exist",status:this.status,httpStatus:404,code:106,url:"https://docs.layer.com/reference/client_api/errors"}:"string"==typeof a.data&&this.status>=400&&(a.data={id:"unknown_error",message:a.data,status:this.status,httpStatus:this.status,code:0,url:"https://www.google.com/search?q=doh!"}):(a.status=408,a.data={id:"request_timeout",message:"The server is not responding please try again in a few minutes",url:"https://docs.layer.com/reference/client_api/errors",code:0,status:408,httpStatus:408})}if(t.headers&&(t.headers.accept||"").match(/application\/vnd.layer\+json/)){var u=this.getResponseHeader("link");u&&(a.Links=function(e){if(!e)return{};var t={};return e.split(",").forEach(function(e){var n=e.split(";");if(2===n.length){var r=n[0].replace(/<(.*)>/,"$1").trim(),o=n[1].replace(/rel='?(.*)'?/,"$1").trim();t[o]=r}}),t}(u))}a.xhr=this,n&&n(a)};a.onload=u,a.onerror=a.ontimeout=u;var c={};Object.keys(t.headers||{}).forEach(function(e){"content-type"===e.toLowerCase()?c["content-type"]=t.headers[e]:c[e.toLowerCase()]=t.headers[e]}),t.headers=c;var l="";t.data&&("undefined"!=typeof Blob&&t.data instanceof Blob?l=t.data:t.headers&&(String(t.headers["content-type"]).match(/^application\/json/)||"application/vnd.layer-patch+json"===String(t.headers["content-type"]))?l="string"==typeof t.data?t.data:JSON.stringify(t.data):t.data&&"object"===r(t.data)?Object.keys(t.data).forEach(function(e){l&&(l+="&"),l+=e+"="+t.data[e]}):l=t.data),l&&"GET"===s&&(t.url+="?"+l),a.open(s,t.url,!0),t.timeout&&(a.timeout=t.timeout),t.withCredentials&&(a.withCredentials=!0),t.responseType&&(a.responseType=t.responseType),t.headers&&Object.keys(t.headers).forEach(function(e){return a.setRequestHeader(e,t.headers[e])});try{"GET"===s?a.send():a.send(l)}catch(e){}};var i=[];e.exports.addConnectionListener=function(e){return i.push(e)};var a=!1;e.exports.trigger=function(e){if(!a){a=!0;try{i.forEach(function(t){return t(e)})}catch(e){}a=!1}}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.middlewares=t.defaultState=t.secondaryColorPropTypes=void 0;var r=n(20),o=c(n(1)),i=c(n(386)),a=c(n(165)),s=n(57),u=(c(n(312)),c(n(311)));function c(e){return e&&e.__esModule?e:{default:e}}t.secondaryColorPropTypes=o.default.oneOf(["#fff","#000"]);var l=t.defaultState={api:{loaded:!1},settings:{useDefaultLauncher:!0},launcher:{visible:!0,unread_count:0,email_capture_visible:!1,email_capture_modal_visible:!1,email_captured:!1},layer:{userId:void 0,conversation:{id:void 0,loaded:!1},ready:!1,pushMessage:{}},messages:[],identity:{payload:{}}},f=t.middlewares=[i.default,a.default,s.layerMiddleware],d=r.compose;var p=(0,r.createStore)(u.default,l,d(r.applyMiddleware.apply(void 0,f)));t.default=p},function(e,t,n){(t=e.exports=n(5)(!0)).push([e.i,".fc-3eJYG{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}","",{version:3,sources:["/home/circleci/frontapp/front-chat/src/assets/utils.css"],names:[],mappings:"AAAA,UACE,mBAAoB,AACpB,uBAAwB,AACxB,eAAiB,CAClB",file:"utils.css",sourcesContent:[".overflow-ellipsis {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n"],sourceRoot:""}]),t.locals={"overflow-ellipsis":"fc-3eJYG"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMAIL_CAPTURED=t.TOGGLE_EMAIL_CAPTURE_MODAL=t.TOGGLE_EMAIL_CAPTURE=t.RESET_UNREAD_COUNTER=t.DECREASE_UNREAD_COUNTER=t.INCREASE_UNREAD_COUNTER=t.TOGGLE_LAUNCHER=void 0;var r,o=n(129),i=(r=o)&&r.__esModule?r:{default:r};t.toggleLauncher=function(){return{type:a}},t.resetCounter=function(){return{type:c}},t.offsetCounter=function(e){return{type:e<0?u:s,payload:{offset:Math.abs(e)}}},t.toggleEmailCapture=function(e){var t=(0,i.default)(e)?{bool:e}:{};return{type:l,payload:t}},t.toggleEmailCaptureModal=function(e){var t=(0,i.default)(e)?{bool:e}:{};return{type:f,payload:t}},t.emailCaptured=function(){return{type:d}};var a=t.TOGGLE_LAUNCHER="TOGGLE_LAUNCHER",s=t.INCREASE_UNREAD_COUNTER="INCREASE_UNREAD_COUNTER",u=t.DECREASE_UNREAD_COUNTER="DECREASE_UNREAD_COUNTER",c=t.RESET_UNREAD_COUNTER="RESET_UNREAD_COUNTER",l=t.TOGGLE_EMAIL_CAPTURE="TOGGLE_EMAIL_CAPTURE",f=t.TOGGLE_EMAIL_CAPTURE_MODAL="TOGGLE_EMAIL_CAPTURE_MODAL",d=t.EMAIL_CAPTURED="EMAIL_CAPTURED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchIdentityToken=t.PUSH_IDENTITY_ALERT=t.STORE_IDENTITY_TOKEN=t.FETCH_SETTINGS_TO_CONNECT_LAYER_CLIENT=t.UPDATE_IDENTITY_PAYLOAD=void 0,t.updateIdentityPayload=function(e){return{type:o,payload:{identity:{payload:e}}}};var r=n(73),o=t.UPDATE_IDENTITY_PAYLOAD="UPDATE_IDENTITY_PAYLOAD",i=(t.FETCH_SETTINGS_TO_CONNECT_LAYER_CLIENT="FETCH_SETTINGS_TO_CONNECT_LAYER_CLIENT",t.STORE_IDENTITY_TOKEN="STORE_IDENTITY_TOKEN"),a=t.PUSH_IDENTITY_ALERT="PUSH_IDENTITY_ALERT";t.fetchIdentityToken=function(){return function(e,t){var n=t(),o=n.identity,s=n.layer.userId;return(0,r.fetchToken)(s,o).then(function(t){var n=t.token,r=t.verified;e(function(e){var t=e.token,n=e.verified;return{type:i,payload:{identity:{token:t,verified:n}}}}({token:n,verified:r}))},function(t){var n,r,o;e((r=(n={alert:"Sorry, an error occured while authenticating",status:204}).alert,o=n.status,{type:a,payload:{identity:{alert:r,status:o}}})),console.error(t)})}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};var i=n(14),a=n(2),s=n(6).SYNC_STATE,u=n(3),c=n(4).strictEncodeURI,l=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.fromServer?e.id=e.fromServer.id||"-":!e.id&&e.userId?e.id=t.prefixUUID+c(e.userId):e.id&&!e.userId&&(e.userId=decodeURIComponent(e.id.substring(t.prefixUUID.length))),e.client&&(e.clientId=e.client.appId),!e.clientId)throw new Error(u.dictionary.clientMissing);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.metadata||(n.metadata={}),"-"===n.id&&(n.id=""),n.isInitializing=!0,n._presence||(n._presence={status:null,lastSeenAt:null}),e&&e.fromServer&&n._populateFromServer(e.fromServer),!n.url&&n.id?n.url=n.getClient().url+"/"+n.id.substring(9):n.url||(n.url=""),n.getClient()._addIdentity(n),n.getClient().on("online",function(e){e.isOnline||n._updateValue(["_presence","status"],t.STATUS.OFFLINE)},n),n.isInitializing=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"destroy",value:function(){var e=this.getClient();e&&e._removeIdentity(this),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_triggerAsync",value:function(e,n){this._clearObject(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_triggerAsync",this).call(this,e,n)}},{key:"trigger",value:function(e,n){this._clearObject(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,n)}},{key:"_populateFromServer",value:function(e){var t=this,n=this.getClient();this._disableEvents=this.syncState===s.NEW,this._setSynced(),this.userId=e.user_id||"",this._updateValue(["avatarUrl"],e.avatar_url),this._updateValue(["displayName"],e.display_name),"metadata"in e&&(this.url=e.url,this.type=e.type,this._updateValue(["emailAddress"],e.email_address),this._updateValue(["lastName"],e.last_name),this._updateValue(["firstName"],e.first_name),this._updateValue(["metadata"],e.metadata||{}),this._updateValue(["publicKey"],e.public_key),this._updateValue(["phoneNumber"],e.phone_number),this.isFullIdentity=!0),!this.url&&this.id&&(this.url=this.getClient().url+this.id.substring(8)),this._disableEvents=!1,!this.isFullIdentity&&n.isAuthenticated&&n.dbManager.getObjects("identities",[this.id],function(e){e.length&&t._populateFromServer(e[0])})}},{key:"_updateValue",value:function(e,t){null!==t&&void 0!==t||(t="");for(var n=this,r=0;r<e.length-1;r++)n=n[e[r]];var o=e[e.length-1];n[o]!==t&&(this.isInitializing||("_presence"===e[0]&&(e=[e[1]]),this._triggerAsync("identities:change",{property:e.join("."),oldValue:n[o],newValue:t})),n[o]=t)}},{key:"_handlePatchEvent",value:function(e,t,n){var r=this,o=[];n.forEach(function(n){var i=e,a=t;if("presence.last_seen_at"===n)r._presence.lastSeenAt=new Date(i.last_seen_at),i=r._presence.lastSeenAt,a=a.lastSeenAt,delete r._presence.last_seen_at;else if("presence.status"===n&&(i=r._presence.status)===(a=a.status))return;var s=n.replace(/_(.)/g,function(e,t){return t.toUpperCase()}).replace(/^presence\./,"");o.push({property:s,oldValue:a,newValue:i})}),1===o.length&&"lastSeenAt"===o[0].property||o.forEach(function(e){return r._triggerAsync("identities:change",e)})}},{key:"follow",value:function(){var e=this;this.isFullIdentity||(this._xhr({method:"PUT",url:this.url.replace(/identities/,"following/users"),syncable:{}},function(t){t.success&&e._load()}),this.syncState=s.LOADING)}},{key:"unfollow",value:function(){this._xhr({url:this.url.replace(/identities/,"following/users"),method:"DELETE",syncable:{}})}},{key:"setStatus",value:function(e){var n=this;if(e=(e||"").toLowerCase(),!t.STATUS[e.toUpperCase()])throw new Error(u.dictionary.valueNotSupported);if(this!==this.getClient().user)throw new Error(u.dictionary.permissionDenied);e===t.STATUS.INVISIBLE&&(e=t.STATUS.OFFLINE);var r=this._presence.status;this.getClient().sendSocketRequest({method:"PATCH",body:{method:"Presence.update",data:[{operation:"set",property:"status",value:e}]},sync:{depends:[this.id],target:this.id}},function(e){e.success||"authentication_required"===e.data.id||n._updateValue(["_presence","status"],r)}),e===t.STATUS.OFFLINE&&(e=t.STATUS.INVISIBLE),this._updateValue(["_presence","status"],e)}},{key:"_setUserId",value:function(e){var n=this.getClient();n._removeIdentity(this),this.__userId=e;var r=c(e);this.id=t.prefixUUID+r,this.url=this.getClient().url+"/identities/"+r,n._addIdentity(this)}},{key:"__adjustUserId",value:function(e){if(this.__userId)throw new Error(u.dictionary.cantChangeUserId)}},{key:"_handleWebsocketDelete",value:function(e){var t=this;this.getClient().dbManager.deleteObjects("identities",[this]),["firstName","lastName","emailAddress","phoneNumber","metadata","publicKey","isFullIdentity","type"].forEach(function(e){return delete t[e]}),this._triggerAsync("identities:unfollow")}}],[{key:"_createFromServer",value:function(e,n){return new t({client:n,fromServer:e,_fromDB:e._fromDB})}}]),t}();l.prototype.displayName="",l.prototype.sessionOwner=!1,l.prototype.clientId="",l.prototype.isFullIdentity=!1,l.prototype.userId="",l.prototype.avatarUrl="",l.prototype.firstName="",l.prototype.lastName="",l.prototype.emailAddress="",l.prototype.phoneNumber="",l.prototype.metadata=null,l.prototype.publicKey="",l.UserType="user",l.BotType="bot",l.prototype.type=l.UserType,l.prototype._presence=null,Object.defineProperty(l.prototype,"status",{enumerable:!0,get:function(){return this._presence&&this._presence.status||l.STATUS.OFFLINE}}),Object.defineProperty(l.prototype,"lastSeenAt",{enumerable:!0,get:function(){return this._presence&&this._presence.lastSeenAt}}),Object.defineProperty(l.prototype,"isBot",{enumerable:!0,get:function(){return this.type===l.BotType}}),l.STATUS={AVAILABLE:"available",AWAY:"away",OFFLINE:"offline",BUSY:"busy",INVISIBLE:"invisible"},l.inObjectIgnore=a.inObjectIgnore,l.bubbleEventParent="getClient",l._supportedEvents=["identities:change","identities:loaded","identities:loaded-error","identities:unfollow"].concat(i._supportedEvents),l.eventPrefix="identities",l.prefixUUID="layer:///identities/",l.enableOpsIfNew=!0,a.initClass.apply(l,[l,"Identity"]),i.subclasses.push(l),e.exports=l},function(e,t,n){var r=n(27)(Object.keys,Object);e.exports=r},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(63);e.exports=function(e,t){return r(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(0)),i=u(n(1)),a=u(n(258)),s=u(n(257));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.className,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className"]);return o.default.createElement("div",r({className:(0,a.default)(t,s.default.button)},n,{role:"button"}))};c.propTypes={children:i.default.oneOfType([i.default.arrayOf(i.default.node),i.default.node]),className:i.default.string},c.defaultProps={children:[],className:""},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(33)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(0)),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var u={attachment:n(272),emoji:n(271),send:n(270),close:n(269),error:n(268)},c=function(e){var t=e.icon,n=e.size,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["icon","size"]);return i.default.createElement("svg",o({width:n,height:n,style:{fill:"currentColor"}},r,{dangerouslySetInnerHTML:{__html:u[t]}}))};c.propTypes={icon:a.default.oneOf((0,r.default)(u)).isRequired,size:a.default.number},c.defaultProps={size:22},t.default=c},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};var a=n(2),s=n(14),u=n(153),c=n(3),l=n(6),f=n(4),d=n(32),p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.fromServer?e.id=e.fromServer.id:"isUnread"in e?(e.isRead=!e.isUnread&&!e.is_unread,delete e.isUnread):e.isRead=!0,e.client&&(e.clientId=e.client.appId),!e.clientId)throw new Error(c.dictionary.clientMissing);var n=e.parts;e.parts=null;var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.parts=n;var o=r.getClient();return r.isInitializing=!0,e&&e.fromServer?r._populateFromServer(e.fromServer):(o&&(r.sender=o.user),r.sentAt=new Date),r.parts||(r.parts=[]),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),o(t,[{key:"__adjustParts",value:function(e){var t=this,n=void 0;return"string"==typeof e?n=[new u({body:e,mimeType:"text/plain",clientId:this.clientId})]:Array.isArray(e)?n=e.map(function(e){var n=void 0;return(n=e instanceof u?e:new u(e)).clientId=t.clientId,n}):e&&"object"===(void 0===e?"undefined":r(e))&&(e.clientId=this.clientId,n=[new u(e)]),this._setupPartIds(n),n&&n.forEach(function(e){e.off("messageparts:change",t._onMessagePartChange,t),e.on("messageparts:change",t._onMessagePartChange,t)}),n}},{key:"addPart",value:function(e){if(e){e.clientId=this.clientId,e instanceof u?this.parts.push(e):"object"===(void 0===e?"undefined":r(e))&&this.parts.push(new u(e));var t=this.parts.length-1,n=this.parts[t];n.off("messageparts:change",this._onMessagePartChange,this),n.on("messageparts:change",this._onMessagePartChange,this),e.id||(e.id=this.id+"/parts/"+t)}return this}},{key:"_onMessagePartChange",value:function(e){var t=this;e.changes.forEach(function(n){t._triggerAsync("messages:change",{property:"parts."+n.property,oldValue:n.oldValue,newValue:n.newValue,part:e.target})})}},{key:"presend",value:function(){var e=this,t=this.getClient();if(!t)throw new Error(c.dictionary.clientMissing);var n=this.getConversation(!1);if(!n)throw new Error(c.dictionary.conversationMissing);if(this.syncState!==l.SYNC_STATE.NEW)throw new Error(c.dictionary.alreadySent);return n._setupMessage(this),this._readAllBlobs(function(){t._addMessage(e)}),this}},{key:"send",value:function(e){var t=this,n=this.getClient();if(!n)throw new Error(c.dictionary.clientMissing);var r=this.getConversation(!0);if(!r)throw new Error(c.dictionary.conversationMissing);if(this.syncState!==l.SYNC_STATE.NEW)throw new Error(c.dictionary.alreadySent);if(r.isLoading)return r.once(r.constructor.eventPrefix+":loaded",function(){return t.send(e)}),r._setupMessage(this),this;if(!this.parts||!this.parts.length)throw new Error(c.dictionary.partsMissing);return this._setSyncing(),r.send(this),this._readAllBlobs(function(){n._addMessage(t),t.trigger("messages:sending");var r={parts:new Array(t.parts.length),id:t.id};e&&t.conversationId&&(r.notification=e),t._preparePartsForSending(r)}),this}},{key:"_readAllBlobs",value:function(e){var t=0,n=this.parts.filter(function(e){return f.isBlob(e.body)&&e.isTextualMimeType()});n.forEach(function(r){f.fetchTextFromFile(r.body,function(o){r.body=o,++t===n.length&&e()})}),n.length||e()}},{key:"_preparePartsForSending",value:function(e){var t=this,n=this.getClient(),r=0;this.parts.forEach(function(o,i){o.once("parts:send",function(n){e.parts[i]={mime_type:n.mime_type},n.content&&(e.parts[i].content=n.content),n.body&&(e.parts[i].body=n.body),n.encoding&&(e.parts[i].encoding=n.encoding),++r===t.parts.length&&t._send(e)},t),o._send(n)})}},{key:"_send",value:function(e){var t=this,n=this.getClient(),r=this.getConversation(!1);this.getClient()._triggerAsync("state-change",{started:!0,type:"send_"+f.typeFromID(this.id),telemetryId:"send_"+f.typeFromID(this.id)+"_time",id:this.id}),this.sentAt=new Date,n.sendSocketRequest({method:"POST",body:{method:"Message.create",object_id:r.id,data:e},sync:{depends:[this.conversationId,this.id],target:this.id}},function(e,n){return t._sendResult(e,n)})}},{key:"_getSendData",value:function(e){return e.object_id=this.conversationId,e}},{key:"_sendResult",value:function(e){var t=e.success,n=e.data;this.getClient()._triggerAsync("state-change",{ended:!0,type:"send_"+f.typeFromID(this.id),telemetryId:"send_"+f.typeFromID(this.id)+"_time",result:t,id:this.id}),this.isDestroyed||(t?(this._populateFromServer(n),this._triggerAsync("messages:sent"),this._triggerAsync("messages:change",{property:"syncState",oldValue:l.SYNC_STATE.SAVING,newValue:l.SYNC_STATE.SYNCED})):(this.trigger("messages:sent-error",{error:n}),this.destroy()),this._setSynced())}},{key:"on",value:function(e,n,o){if(("messages:loaded"===e||e&&"object"===(void 0===e?"undefined":r(e))&&e["messages:loaded"])&&!this.isLoading){var a="messages:loaded"===e?n:e["messages:loaded"];f.defer(function(){return a.apply(o)})}return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,n,o),this}},{key:"destroy",value:function(){var e=this.getClient();e&&e._removeMessage(this),this.parts.forEach(function(e){return e.destroy()}),this.__parts=null,i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_setupPartIds",value:function(e){var t=this;e&&e.forEach(function(e,n){e.id||(e.id=t.id+"/parts/"+n)})}},{key:"_populateFromServer",value:function(e){var t=this;this._inPopulateFromServer=!0;var n=this.getClient();this.id=e.id,this.url=e.url;var r=this.position;this.position=e.position,this._setupPartIds(e.parts),this.parts=e.parts.map(function(e){var n=t.getPartById(e.id);return n?(n._populateFromServer(e),n):u._createFromServer(e)}),this.recipientStatus=e.recipient_status||{},this.isRead=!("is_unread"in e)||!e.is_unread,this.sentAt=new Date(e.sent_at),this.receivedAt=e.received_at?new Date(e.received_at):void 0;var o=void 0;e.sender.id&&(o=n.getIdentity(e.sender.id)),o||(o=d._createFromServer(e.sender,n)),this.sender=o,this._setSynced(),r&&r!==this.position&&this._triggerAsync("messages:change",{oldValue:r,newValue:this.position,property:"position"}),this._inPopulateFromServer=!1}},{key:"getPartById",value:function(e){return(this.parts?this.parts.filter(function(t){return t.id===e})[0]:null)||null}},{key:"_handlePatchEvent",value:function(e,t,n){this._inLayerParser=!1,0===n[0].indexOf("recipient_status")&&this.__updateRecipientStatus(this.recipientStatus,t),this._inLayerParser=!0}},{key:"_getUrl",value:function(e){return this.url+(e||"")}},{key:"_setupSyncObject",value:function(e){return!1!==e&&((e=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_setupSyncObject",this).call(this,e)).depends?-1===e.depends.indexOf(this.id)&&e.depends.push(this.conversationId):e.depends=[this.conversationId]),e}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:". ",t=this.parts.filter(function(e){return"text/plain"===e.mimeType}).map(function(e){return e.body});return(t=t.filter(function(e){return e})).join(e)}},{key:"toObject",value:function(){return this._toObject||(this._toObject=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toObject",this).call(this)),this._toObject}},{key:"_triggerAsync",value:function(e,n){this._clearObject(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_triggerAsync",this).call(this,e,n)}},{key:"trigger",value:function(e,n){this._clearObject(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,n)}}],[{key:"_loadResourceForPatch",value:function(e){return!1}}]),t}();p.prototype.clientId="",p.prototype.conversationId="",p.prototype.parts=null,p.prototype.sentAt=null,p.prototype.receivedAt=null,p.prototype.sender=null,p.prototype.position=0,p.prototype._notify=!1,Object.defineProperty(p.prototype,"isUnread",{enumerable:!0,get:function(){return!this.isRead}}),p.prototype._toObject=null,p.prototype._inPopulateFromServer=!1,p.eventPrefix="messages",p.eventPrefix="messages",p.prefixUUID="layer:///messages/",p.inObjectIgnore=s.inObjectIgnore,p.bubbleEventParent="getClient",p.imageTypes=["image/gif","image/png","image/jpeg","image/jpg"],p._supportedEvents=["messages:loaded","messages:loaded-error","messages:delete","messages:sending","messages:sent","messages:sent-error","messages:change"].concat(s._supportedEvents),a.initClass.apply(p,[p,"Message"]),s.subclasses.push(p),e.exports=p},function(e,t,n){var r=n(160);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){var r=n(60),o=n(59);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t,n){"use strict";n.r(t);var r,o,i=0,a=0,s=0,u=1e3,c=0,l=0,f=0,d="object"==typeof performance&&performance.now?performance:Date,p="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function h(){return l||(p(y),l=d.now()+f)}function y(){l=0}function g(){this._call=this._time=this._next=null}function m(e,t,n){var r=new g;return r.restart(e,t,n),r}function v(){h(),++i;for(var e,t=r;t;)(e=l-t._time)>=0&&t._call.call(null,e),t=t._next;--i}function b(){l=(c=d.now())+f,i=a=0;try{v()}finally{i=0,function(){var e,t,n=r,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);o=e,A(i)}(),l=0}}function _(){var e=d.now(),t=e-c;t>u&&(f-=t,c=e)}function A(e){i||(a&&(a=clearTimeout(a)),e-l>24?(e<1/0&&(a=setTimeout(b,e-d.now()-f)),s&&(s=clearInterval(s))):(s||(c=d.now(),s=setInterval(_,u)),i=1,p(b)))}g.prototype=m.prototype={constructor:g,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?h():+n)+(null==t?0:+t),this._next||o===this||(o?o._next=this:r=this,o=this),this._call=e,this._time=n,A()},stop:function(){this._call&&(this._call=null,this._time=1/0,A())}};var C=function(e,t,n){var r=new g;return t=null==t?0:+t,r.restart(function(n){r.stop(),e(n+t)},t,n),r},w=function(e,t,n){var r=new g,o=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?h():+n,r.restart(function i(a){a+=o,r.restart(i,o+=t,n),e(a)},t,n),r)};n.d(t,"now",function(){return h}),n.d(t,"timer",function(){return m}),n.d(t,"timerFlush",function(){return v}),n.d(t,"timeout",function(){return C}),n.d(t,"interval",function(){return w})},function(e,t,n){var r=n(322),o=n(61),i=n(75),a=n(10),s=n(41),u=n(44),c=n(137),l=n(43),f="[object Map]",d="[object Set]",p=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||i(e)))return!e.length;var t=o(e);if(t==f||t==d)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(p.call(e,n))return!1;return!0}},function(e,t,n){var r=n(333),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identifiedMessage=t.TEXT_MIMETYPE=t.FRONT_URL_MIMETYPE=t.FRONT_EMAIL_MIMETYPE=t.FRONT_AUTOREPLY_MIMETYPE=t.FRONT_CHANNEL_MIMETYPE=t.FRONT_HEADER_MIMETYPE=void 0;var r=s(n(144)),o=s(n(143)),i=s(n(18)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function s(e){return e&&e.__esModule?e:{default:e}}t.isFrontAutoreply=p,t.isMessageFromFront=h,t.isInbound=function(e){return h(e)||p(e)},t.messageIsEmailCapture=function(e){return e.parts&&(0,r.default)(e.parts,function(e){return e.mimeType===f})},t.messageHasAttachments=function(e){return e.parts&&(0,r.default)(e.parts,function(e){return e.mimeType!==d&&-1===e.mimeType.indexOf("front/")})},t.getTimestamp=function(e){return e.sentAt.getTime()},t.getMessageBody=function(e){var t=e.parts&&(0,i.default)(e.parts,function(e){return e.mimeType===d});return t&&t.body},t.getMessageAuthor=function(e){var t=e.sender;return{id:t.id,avatar:t.avatarUrl,name:t.displayName}};var u=t.FRONT_HEADER_MIMETYPE="front/header",c=t.FRONT_CHANNEL_MIMETYPE="front/channel",l=t.FRONT_AUTOREPLY_MIMETYPE="front/autoreply",f=t.FRONT_EMAIL_MIMETYPE="front/email",d=(t.FRONT_URL_MIMETYPE="front/url",t.TEXT_MIMETYPE="text/plain");function p(e){return e.parts&&(0,r.default)(e.parts,function(e){return e.mimeType===l})}function h(e){return e.parts&&(0,r.default)(e.parts,function(e){return e.mimeType===c})}t.identifiedMessage=function(e,t){return e.addPart({mimeType:u,body:JSON.stringify(a({},(0,o.default)(t,["token","payload"])))})}},function(e,t,n){"use strict";e.exports={STARTED:"started",PAUSED:"paused",FINISHED:"finished"}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};var i=n(2),a=n(14),s=n(81),u=n(80),c=n(3),l=n(55),f=n(4),d=n(6),p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.membership||(e.membership={});var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._members=n.getClient()._fixIdentities(e.members||[]).map(function(e){return e.id}),n._register(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r(t,[{key:"destroy",value:function(){this.lastMessage=null,this.getClient()._removeChannel(this),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.membership=null}},{key:"createMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="string"==typeof e?{parts:[{body:e,mimeType:"text/plain"}]}:e;return t.clientId=this.clientId,t.conversationId=this.id,new u(t)}},{key:"_setupMessage",value:function(e){e.position=t.nextPosition,t.nextPosition+=8192}},{key:"_getSendData",value:function(e){var t=f.isEmpty(this.metadata),n=this._members||[];return-1===n.indexOf(this.getClient().user.id)&&n.push(this.getClient().user.id),{method:"Channel.create",data:{name:this.name,metadata:t?null:this.metadata,id:this.id,members:n}}}},{key:"_populateFromServer",value:function(e){this._inPopulateFromServer=!0,this._disableEvents=this.syncState===d.SYNC_STATE.NEW,this.name=e.name,this.isCurrentParticipant=Boolean(e.membership),this.membership=e.membership&&e.membership.id?this.getClient()._createObject(e.membership):null,o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_populateFromServer",this).call(this,e),this._register(),this._disableEvents=!1}},{key:"_createResultConflict",value:function(e){var t=e.data;t?this._createSuccess(t):(this.syncState=d.SYNC_STATE.NEW,this._syncCounter=0,this.trigger("channels:sent-error",{error:e})),this._inPopulateFromServer=!1}},{key:"__adjustName",value:function(e){if(!(this._inPopulateFromServer||this._inLayerParser||this.isNew()||this.isLoading))throw new Error(c.dictionary.permissionDenied)}},{key:"__updateName",value:function(e,t){this._triggerAsync("channels:change",{property:"name",oldValue:t,newValue:e})}},{key:"addMembers",value:function(e){var t=this;return e=this.getClient()._fixIdentities(e).map(function(e){return e.id}),this.syncState===d.SYNC_STATE.NEW?(this._members=this._members.concat(e),this):(e.forEach(function(e){t._xhr({url:"/members/"+e.replace(/^layer:\/\/\/identities\//,""),method:"PUT"})}),this)}},{key:"removeMembers",value:function(e){var t=this;return e=this.getClient()._fixIdentities(e).map(function(e){return e.id}),this.syncState===d.SYNC_STATE.NEW?(e.forEach(function(e){var n=t._members.indexOf(e);-1!==n&&t._members.splice(n,1)}),this):(e.forEach(function(e){t._xhr({url:"/members/"+e.replace(/^layer:\/\/\/identities\//,""),method:"DELETE"})}),this)}},{key:"join",value:function(){return this.addMembers([this.getClient().user.id])}},{key:"leave",value:function(){return this.removeMembers([this.getClient().user.id])}},{key:"getMember",value:function(e){e=this.getClient()._fixIdentities([e])[0].id;var t=this.id+"/members/"+e.replace(/layer:\/\/\/identities\//,"");return this.getClient().getMember(t,!0)}},{key:"delete",value:function(){this._delete("")}},{key:"_handlePatchEvent",value:function(e,n,r){this._inLayerParser=!1;try{var i=this._disableEvents;this._disableEvents=!1,o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_handlePatchEvent",this).call(this,e,n,r),this._disableEvents=i}catch(e){}this._inLayerParser=!0}},{key:"_register",value:function(){this.getClient()._addChannel(this)}},{key:"_deleteResult",value:function(e,n){var r=this.getClient();e.success||e.data&&("not_found"===e.data.id||"authentication_required"===e.data.id)||t.load(n,r)}},{key:"toObject",value:function(){return this._toObject||(this._toObject=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toObject",this).call(this),this._toObject.membership=f.clone(this.membership)),this._toObject}}],[{key:"_createFromServer",value:function(e,n){return new t({client:n,fromServer:e,_fromDB:e._fromDB})}},{key:"create",value:function(e){if(!e.client)throw new Error(c.dictionary.clientMissing);e.name||(e.name="channel-"+String(Math.random()).replace(/\./,""));var n={name:e.name,private:e.private,members:e.members?e.client._fixIdentities(e.members).map(function(e){return e.id}):[],metadata:e.metadata,client:e.client},r=e.client.findCachedChannel(function(e){return e.name===n.name});return r&&(r._sendDistinctEvent=new l({target:r,result:!e.metadata||f.doesObjectMatch(e.metadata,r.metadata)?t.FOUND:t.FOUND_WITHOUT_REQUESTED_METADATA},"channels:sent")),r||new t(n)}}]),t}();p.prototype.name="",p.prototype.membership=null,p.prototype._members=null,p.eventPrefix="channels",p.nextPosition=0x10000000000000000,p.prefixUUID="layer:///channels/",p._supportedEvents=["channels:sent","channels:sent-error","channels:loaded","channels:loaded-error","channels:delete","channels:change"].concat(a._supportedEvents),i.initClass.apply(p,[p,"Channel"]),a.subclasses.push(p),e.exports=p},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(2),i=n(39),a=n(24),s=n(3),u=n(6),c=n(4),l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.conversation&&(e.conversationId=e.conversation.id);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._disableEvents=!0,e.fromServer?n.__updateRecipientStatus(n.recipientStatus):n.recipientStatus={},n._disableEvents=!1;var r=n.getClient();if(n.isInitializing=!1,e&&e.fromServer){r._addMessage(n);var o=n.recipientStatus[r.user.id];o&&o!==u.RECEIPT_STATE.READ&&o!==u.RECEIPT_STATE.DELIVERED&&c.defer(function(){return n._sendReceipt("delivery")})}return n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"getConversation",value:function(e){return this.conversationId?a.get(this.clientId).getConversation(this.conversationId,e):null}},{key:"_loaded",value:function(e){this.conversationId=e.conversation.id,this.getClient()._addMessage(this)}},{key:"__getRecipientStatus",value:function(e){var t=this[e]||{},n=this.getClient();if(n){var r=n.user.id,o=this.getConversation(!1);o&&o.participants.forEach(function(e){t[e.id]||(t[e.id]=e.id===r?u.RECEIPT_STATE.READ:u.RECEIPT_STATE.PENDING)})}return t}},{key:"__updateRecipientStatus",value:function(e,t){var n=this.getConversation(!1),r=this.getClient();if(n&&!c.doesObjectMatch(e,t)){var o=r.user.id,i=this.sender.sessionOwner,a=e[o]===u.RECEIPT_STATE.READ;try{var s=n.participants.length-1;this.__isRead||!i&&!a||(this.__isRead=!0);var l=this._getReceiptStatus(e,o),f=l.readCount,d=l.deliveredCount;this._setReceiptStatus(f,d,s)}catch(e){}if(!this.isInitializing&&t)(a&&t[o]!==u.RECEIPT_STATE.READ||i)&&this._triggerAsync("messages:change",{oldValue:t,newValue:e,property:"recipientStatus"})}}},{key:"_getReceiptStatus",value:function(e,t){var n=0,r=0;return Object.keys(e).filter(function(e){return e!==t}).forEach(function(t){e[t]===u.RECEIPT_STATE.READ?(n++,r++):e[t]===u.RECEIPT_STATE.DELIVERED&&r++}),{readCount:n,deliveredCount:r}}},{key:"_setReceiptStatus",value:function(e,t,n){this.readStatus=e===n?u.RECIPIENT_STATE.ALL:e>0?u.RECIPIENT_STATE.SOME:u.RECIPIENT_STATE.NONE,this.deliveryStatus=t===n?u.RECIPIENT_STATE.ALL:t>0?u.RECIPIENT_STATE.SOME:u.RECIPIENT_STATE.NONE}},{key:"__updateIsRead",value:function(e){if(e){this._inPopulateFromServer||this.getConversation()._inMarkAllAsRead||this._sendReceipt(u.RECEIPT_STATE.READ),this._triggerMessageRead();var t=this.getConversation(!1);t&&t.unreadCount--}}},{key:"_triggerMessageRead",value:function(){var e=this.isRead;this._triggerAsync("messages:change",{property:"isRead",oldValue:!e,newValue:e}),this._triggerAsync("messages:change",{property:"isUnread",oldValue:e,newValue:!e})}},{key:"sendReceipt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.RECEIPT_STATE.READ;if(e===u.RECEIPT_STATE.READ){if(this.isRead)return this;this.__isRead=!0,this._triggerMessageRead();var t=this.getConversation(!1);t&&t.unreadCount--}return this._sendReceipt(e),this}},{key:"_sendReceipt",value:function(e){var t=this,n=this.getConversation(!1);n&&0===n.participants.length||(this._setSyncing(),this._xhr({url:"/receipts",method:"POST",data:{type:e},sync:{operation:"RECEIPT"}},function(){return t._setSynced()}))}},{key:"delete",value:function(e){if(this.isDestroyed)throw new Error(s.dictionary.isDestroyed);var t=void 0;switch(e){case u.DELETION_MODE.ALL:case!0:t="mode=all_participants";break;case u.DELETION_MODE.MY_DEVICES:t="mode=my_devices";break;default:throw new Error(s.dictionary.deletionModeUnsupported)}var n=this.id,r=this.getClient();this._xhr({url:"?"+t,method:"DELETE"},function(e){e.success||e.data&&("not_found"===e.data.id||"authentication_required"===e.data.id)||i.load(n,r)}),this._deleted(),this.destroy()}},{key:"toObject",value:function(){return this._toObject||(this._toObject=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toObject",this).call(this),this._toObject.recipientStatus=c.clone(this.recipientStatus)),this._toObject}}],[{key:"_createFromServer",value:function(e,n){var r=e.fromWebsocket;return new t({conversationId:e.conversation?e.conversation.id:e.conversationId,fromServer:e,clientId:n.appId,_fromDB:e._fromDB,_notify:r&&e.is_unread&&e.sender.user_id!==n.user.userId})}}]),t}();l.prototype.isRead=!1,l.prototype.recipientStatus=null,l.prototype.readStatus=u.RECIPIENT_STATE.NONE,l.prototype.deliveryStatus=u.RECIPIENT_STATE.NONE,l.inObjectIgnore=i.inObjectIgnore,l._supportedEvents=[].concat(i._supportedEvents),o.initClass.apply(l,[l,"ConversationMessage"]),e.exports=l},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};var i=n(2),a=n(14),s=n(81),u=n(53),c=n(3),l=n(4),f=n(6),d=n(55),p=n(9),h=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.participants||(e.participants=[]);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.isInitializing=!0;var r=n.getClient();return e&&e.fromServer||(n.participants=r._fixIdentities(n.participants),-1===n.participants.indexOf(r.user)&&n.participants.push(r.user)),n._register(),n.isInitializing=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r(t,[{key:"destroy",value:function(){this.lastMessage=null,this.clientId&&this.getClient()._removeConversation(this),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.participants=null,this.metadata=null}},{key:"createMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="string"==typeof e?{parts:[{body:e,mimeType:"text/plain"}]}:e;return t.clientId=this.clientId,t.conversationId=this.id,new u(t)}},{key:"_setupMessage",value:function(e){var t=void 0;this.lastMessage?t=this.lastMessage.position+1:this._lastMessagePosition?(t=this._lastMessagePosition+1,this._lastMessagePosition=0):t=0,e.position=t,this.lastMessage=e}},{key:"send",value:function(e){var n=this.getClient();if(!n)throw new Error(c.dictionary.clientMissing);var r=Boolean(this._sendDistinctEvent);return this._sendDistinctEvent&&this._handleLocalDistinctConversation(),r||this.syncState!==f.SYNC_STATE.NEW?(e&&this._setupMessage(e),this):(-1===this.participants.indexOf(n.user)&&this.participants.push(n.user),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"send",this).call(this,e))}},{key:"_handleLocalDistinctConversation",value:function(){var e=this._sendDistinctEvent;return this._sendDistinctEvent=null,this._triggerAsync("conversations:sent",e),this}},{key:"_getSendData",value:function(e){var t=l.isEmpty(this.metadata);return{method:"Conversation.create",data:{participants:this.participants.map(function(e){return e.id}),distinct:this.distinct,metadata:t?null:this.metadata,id:this.id}}}},{key:"markAllMessagesAsRead",value:function(e){if(!this.isSaved())return this;e||(e=this.lastMessage);var t=e&&e.isSaved()?e.position:null;return this._xhr({method:"POST",url:"/mark_all_read",data:{position:t},sync:{operation:"RECEIPT"}},function(e){e.success||p.error("Mark all as read failed; currently this error is not handled by Layer WebSDK")}),this}},{key:"_populateFromServer",value:function(e){var n=this,r=this.getClient();this._disableEvents=this.syncState===f.SYNC_STATE.NEW,this.participants=r._fixIdentities(e.participants),this.participants.forEach(function(e){return e.on("identities:change",n._handleParticipantChangeEvent,n)}),this.distinct=e.distinct,this.unreadCount=e.unread_message_count,this.totalMessageCount=e.total_message_count,this.isCurrentParticipant=-1!==this.participants.indexOf(r.user),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_populateFromServer",this).call(this,e),"string"==typeof e.last_message?this.lastMessage=r.getMessage(e.last_message):e.last_message&&(this.lastMessage=r._createObject(e.last_message)),this._register(),this._disableEvents=!1}},{key:"_createResultConflict",value:function(e){this._populateFromServer(e.data),this._triggerAsync(this.constructor.eventPrefix+":sent",{result:t.FOUND_WITHOUT_REQUESTED_METADATA})}},{key:"addParticipants",value:function(e){var t=this,n=this.getClient()._fixIdentities(e).filter(function(e){return-1===t.participants.indexOf(e)});return this._patchParticipants({add:n,remove:[]}),this}},{key:"removeParticipants",value:function(e){var t={};this.participants.forEach(function(e){return t[e.id]=!0});var n=this.getClient()._fixIdentities(e).filter(function(e){return t[e.id]});if(0===n.length)return this;if(n.length===this.participants.length)throw new Error(c.dictionary.moreParticipantsRequired);return this._patchParticipants({add:[],remove:n}),this}},{key:"replaceParticipants",value:function(e){if(!e||!e.length)throw new Error(c.dictionary.moreParticipantsRequired);var t=this.getClient()._fixIdentities(e),n=this._getParticipantChange(t,this.participants);return this._patchParticipants(n),this}},{key:"_patchParticipants",value:function(e){var t=this;this._applyParticipantChange(e),this.isCurrentParticipant=-1!==this.participants.indexOf(this.getClient().user);var n=[];e.remove.forEach(function(e){n.push({operation:"remove",property:"participants",id:e.id})}),e.add.forEach(function(e){n.push({operation:"add",property:"participants",id:e.id})}),this._xhr({url:"",method:"PATCH",data:JSON.stringify(n),headers:{"content-type":"application/vnd.layer-patch+json"}},function(e){e.success||"authentication_required"===e.data.id||t._load()})}},{key:"_applyParticipantChange",value:function(e){var t=[].concat(this.participants);e.add.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),e.remove.forEach(function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}),this.participants=t}},{key:"leave",value:function(){if(this.isDestroyed)throw new Error(c.dictionary.isDestroyed);this._delete("mode="+f.DELETION_MODE.MY_DEVICES+"&leave=true")}},{key:"delete",value:function(e){if(this.isDestroyed)throw new Error(c.dictionary.isDestroyed);var t=void 0;switch(e){case f.DELETION_MODE.ALL:case!0:t="mode="+f.DELETION_MODE.ALL;break;case f.DELETION_MODE.MY_DEVICES:t="mode="+f.DELETION_MODE.MY_DEVICES+"&leave=false";break;default:throw new Error(c.dictionary.deletionModeUnsupported)}this._delete(t)}},{key:"_handlePatchEvent",value:function(e,n,r){this._inLayerParser=!1;try{var i=this._disableEvents;if(this._disableEvents=!1,"participants"===r[0]){var a=this.getClient();n=n.map(function(e){return a.getIdentity(e.id)}),e=e.map(function(e){return a.getIdentity(e.id)}),this.__updateParticipants(e,n)}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_handlePatchEvent",this).call(this,e,n,r);this._disableEvents=i}catch(e){}this._inLayerParser=!0}},{key:"_getParticipantChange",value:function(e,t){var n={};return n.add=e.filter(function(e){return-1===t.indexOf(e)}),n.remove=t.filter(function(t){return-1===e.indexOf(t)}),n}},{key:"_deleteResult",value:function(e,n){var r=this.getClient();e.success||e.data&&("not_found"===e.data.id||"authentication_required"===e.data.id)||t.load(n,r)}},{key:"_register",value:function(){var e=this.getClient();e&&e._addConversation(this)}},{key:"__adjustUnreadCount",value:function(e){if(e<0)return 0}},{key:"__updateUnreadCount",value:function(e,t){var n=this;this._inLayerParser?(void 0===this._oldUnreadCount&&(this._oldUnreadCount=t),this._updateUnreadCountTimeout&&clearTimeout(this._updateUnreadCountTimeout),this._updateUnreadCountTimeout=setTimeout(function(){return n._updateUnreadCountEvent()},1e3)):this._updateUnreadCountEvent()}},{key:"_updateUnreadCountEvent",value:function(){if(!this.isDestroyed){var e=this._oldUnreadCount,t=this.__unreadCount;this._oldUnreadCount=void 0,t!==e&&this._triggerAsync("conversations:change",{newValue:t,oldValue:e,property:"unreadCount"})}}},{key:"__updateLastMessage",value:function(e,t){e&&t&&e.id===t.id||this._triggerAsync("conversations:change",{property:"lastMessage",newValue:e,oldValue:t})}},{key:"__updateParticipants",value:function(e,t){var n=this;if(!this._inLayerParser){var r=this._getParticipantChange(e,t);r.add.forEach(function(e){return e.on("identities:change",n._handleParticipantChangeEvent,n)}),r.remove.forEach(function(e){return e.off("identities:change",n._handleParticipantChangeEvent,n)}),(r.add.length||r.remove.length)&&(r.property="participants",r.oldValue=t,r.newValue=e,this._triggerAsync("conversations:change",r))}}},{key:"_handleParticipantChangeEvent",value:function(e){var t=this;e.changes.forEach(function(n){t._triggerAsync("conversations:change",{property:"participants."+n.property,identity:e.target,oldValue:n.oldValue,newValue:n.newValue})})}}],[{key:"_createFromServer",value:function(e,n){return new t({client:n,fromServer:e,_fromDB:e._fromDB})}},{key:"create",value:function(e){if(!e.client)throw new Error(c.dictionary.clientMissing);var n={distinct:e.distinct,participants:e.client._fixIdentities(e.participants),metadata:e.metadata,client:e.client};if(n.distinct){var r=this._createDistinct(n);if(r)return r}return new t(n)}},{key:"_createDistinct",value:function(e){-1===e.participants.indexOf(e.client.user)&&e.participants.push(e.client.user);var n={};e.participants.forEach(function(e){n[e.id]=e});var r=e.client.findCachedConversation(function(t){if(t.distinct&&t.participants.length===e.participants.length){for(var r=0;r<t.participants.length;r++)if(!n[t.participants[r].id])return!1;return!0}});if(r)return r._sendDistinctEvent=new d({target:r,result:!e.metadata||l.doesObjectMatch(e.metadata,r.metadata)?t.FOUND:t.FOUND_WITHOUT_REQUESTED_METADATA},"conversations:sent"),r}}]),t}();h.prototype.participants=null,h.prototype.unreadCount=0,h.prototype.distinct=!0,h.prototype.lastMessage=null,h.prototype._lastMessagePosition=0,h.prototype._inMarkAllAsRead=!1,h.eventPrefix="conversations",h.FOUND_WITHOUT_REQUESTED_METADATA="FoundMismatch",h.prefixUUID="layer:///conversations/",h._supportedEvents=["conversations:sent","conversations:sent-error","conversations:loaded","conversations:loaded-error","conversations:delete","conversations:change"].concat(a._supportedEvents),i.initClass.apply(h,[h,"Conversation"]),a.subclasses.push(h),e.exports=h},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o=this;n.match(/:change$/)?(this.changes=[{}],o=this.changes[0],this.isChange=!0):this.isChange=!1,Object.keys(t).forEach(function(e){o!==r&&"target"===e?r.target=t.target:o[e]=t[e]}),this.eventName=n}return r(e,[{key:"hasProperty",value:function(e){return!!this.isChange&&Boolean(this.changes.filter(function(t){return t.property===e}).length)}},{key:"getChangesFor",value:function(e){return this.isChange?this.changes.filter(function(t){return t.property===e}):[]}},{key:"_mergeChanges",value:function(e){this.changes=this.changes.concat(e.changes)}}]),e}();o.prototype.isChange=!1,o.prototype.changes=null,o.prototype.target=null,o.prototype.eventName="",e.exports=o},function(e,t,n){var r=n(10),o=n(375),i=n(374),a=n(372);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getClient=t.getMediaURLForMessage=t.layerMiddleware=t.onConversationsSent=t.onConversationsLoadedError=t.onConversationsLoaded=void 0;var r=A(n(23)),o=A(n(376)),i=A(n(40)),a=A(n(18)),s=A(n(158)),u=n(157),c=n(50),l=n(165),f=n(16),d=n(31),p=n(13),h=n(30),y=n(69),g=n(71),m=A(g),v=n(70),b=n(73),_=A(n(313));function A(e){return e&&e.__esModule?e:{default:e}}var C=null,w=null,E=null,k=null;u.MessagePart.TextualMimeTypes=[c.FRONT_HEADER_MIMETYPE,c.TEXT_MIMETYPE,c.FRONT_AUTOREPLY_MIMETYPE,c.FRONT_URL_MIMETYPE];var x=function(e){return(0,r.default)((0,i.default)(e,"identity.payload.userId"))&&(0,r.default)((0,i.default)(e,"identity.payload.email"))},O=function(e,t){x(t)&&m.default.set(g.USER_ID_COOKIE_NAME,(0,i.default)(t,"layer.userId")),e.dispatch((0,p.findOrCreateConversation)()),function(e,t){var n=t.settings.pushMessage.enabled;!m.default.get(g.PROACTIVE_MSG_USER_COOKIE)&&n&&setTimeout(function(){var t=e.getState();!(0,i.default)(t,"layer.conversation.loaded")&&(0,i.default)(t,"launcher.visible")&&(e.dispatch((0,p.setPushMessage)({id:String(Math.random()),author:void 0,avatar:void 0,body:(0,i.default)(t,"settings.pushMessage.message",void 0)})),m.default.set(g.PROACTIVE_MSG_USER_COOKIE,(0,v.randomString)(128)))},4e3)}(e,t)},S=function(){k&&(clearInterval(k),k=null)},T=function(){document.hidden||S()};document.addEventListener("visibilitychange",T,!0),document.addEventListener("focus",T,!0);var M=function(e){var t=(0,c.isFrontAutoreply)(e),n=(0,c.getMessageAuthor)(e),r=(0,c.getMessageBody)(e);return""===r&&(0,c.messageHasAttachments)(e)&&(r=n.name+" sent an attachment"),{id:e.id,author:t?void 0:n.name,avatar:t?void 0:n.avatar,body:r}},P=function(e,t){var n=(0,c.isFrontAutoreply)(e)?{id:""+Math.random(),name:t.getState().settings.companyName}:(0,c.getMessageAuthor)(e),r={id:e.id,position:e.position,body:(0,c.getMessageBody)(e),isInbound:(0,c.isInbound)(e),timestamp:(0,c.getTimestamp)(e),author:n,syncState:e.syncState,parts:e.parts,isRead:e.isRead};t.dispatch((0,y.addMessage)(r))},B=function(e){var t=C.getMessage(e.id);t&&(t.isRead=!0)},D=function(e){var t=u.QueryBuilder.messages().forConversation(w.id);(E=C.createQuery(t)).on("change",function(t){var n=t.type,r=e.getState(),o=r.layer.pushMessage;if("insert"===n){var i=t.target,a=(0,c.isFrontAutoreply)(i);if((0,c.messageIsEmailCapture)(i))return;if(P(i,e),!(0,c.isInbound)(i))return;var s=(0,c.getMessageAuthor)(i);if(!r.settings.useDefaultLauncher&&r.launcher.visible||function(e){var t=document.title;S();k=setInterval(function(){document.title=e+" says...",setTimeout(function(){document.title=t},1500)},3e3)}(a?r.settings.companyName:s.name),a||(0,v.playSound)(),r.launcher.visible||document.hidden||(setTimeout(S,1500),B(i)),i.id===o.id||!r.launcher.visible)return;e.dispatch((0,p.setPushMessage)(M(i))),e.dispatch((0,l.offsetCounterWithEmitOnChange)(1))}else if("property"===n){var u=t.target.id;e.dispatch((0,y.updateMessage)(u,t.changes))}else if("data"===n){var f=!1;(E.data||[]).reverse().forEach(function(t){(0,c.messageIsEmailCapture)(t)?e.dispatch((0,h.emailCaptured)()):(P(t,e),t.isUnread&&!(0,c.isFrontAutoreply)(t)&&(f=!0,e.dispatch((0,p.setPushMessage)(M(t))),e.dispatch((0,l.offsetCounterWithEmitOnChange)(1))))}),f&&(0,v.playSound)()}})},I=function(e){D(e);var t=e.getState();(0,i.default)(t,"settings.pushMessage.enabled")&&function(e){var t=e.getState(),n=t.messages.some(c.isFrontAutoreply);m.default.get(g.PROACTIVE_MSG_USER_COOKIE)&&m.default.get(g.PROACTIVE_MSG_LAYER_USER_COOKIE)||n||((0,c.identifiedMessage)(w.createMessage({parts:[new u.MessagePart({mimeType:c.FRONT_AUTOREPLY_MIMETYPE,body:t.settings.pushMessage.message}),new u.MessagePart({mimeType:c.TEXT_MIMETYPE,body:t.settings.pushMessage.message})]}),t.identity).presend(),m.default.set(g.PROACTIVE_MSG_USER_COOKIE,(0,v.randomString)(128)),m.default.set(g.PROACTIVE_MSG_LAYER_USER_COOKIE,(0,v.randomString)(128)))}(e)},j=t.onConversationsLoaded=function(e,t){t((0,p.setConversationLoaded)()),I(e)},R=t.onConversationsLoadedError=function(e,t){w.destroy(),w=null,t((0,p.setConversationId)(void 0)),m.default.remove(g.CONVERSATION_ID_COOKIE_NAME),e.dispatch((0,p.findOrCreateConversation)())},N=t.onConversationsSent=function(e){var t=e.getState();x(t)?m.default.set(g.CONVERSATION_ID_COOKIE_NAME,w.id):(0,b.persistConversationId)(w.id,(0,i.default)(t,"identity"))},F=function(e,t){(e.layer.pushMessage.id||e.launcher.unread_count>0)&&(t((0,p.removePush)()),t((0,h.resetCounter)())),e.launcher.visible&&function(e){var t=(0,s.default)(e.messages,function(e){return!e.isRead});0!==t.length&&t.forEach(B)}(e)},L=function(e,t,n,s){if(n){var l,g=n.type,m=n.payload;switch(g){case p.INIT_CLIENT:!function(e,t,n){var r=(0,i.default)(t,"settings.remoteLogs");if(C=new u.Client({appId:n,telemetryEnabled:!1}),r){var o=(0,i.default)(t,"identity.payload.userId"),a=(0,i.default)(t,"identity.payload.chatId"),s=(0,_.default)({userId:o,chatId:a});C.on("websocket:connecting",function(){s.log("DEBUG:Websocket is connecting")}),C.on("websocket:replaying-events",function(e){s.log("DEBUG:Websocket Event.replay triggered by "+e.from+" because "+e.why)}),C.on("websocket:schedule-reconnect",function(e){s.log("DEBUG:Websocket Reconnect scheduled by "+e.from+" because "+e.why)}),C.on("websocket:disconnecting",function(e){s.log("DEBUG:Websocket disconnected by "+e.from+" because "+e.why)}),C.on("websocket:ignore-skipped-counter",function(e){s.log("DEBUG:Websocket ignored skipped counters in "+e.from+" because "+e.why)}),C.on("websocket:scheduling-reconnect",function(e){s.log("DEBUG:Websocket Reconnect scheduling with counter "+e.counter+" and delay "+e.delay)})}C.on("challenge",function(t){return e.dispatch((0,p.onChallenge)(t.nonce))}),C.on("ready",function(){return e.dispatch((0,p.onReady)())}),C.on("messages:sending",function(t){var n=t.target;setTimeout(function(){C.isOnline&&n.isSaving()&&e.dispatch((0,y.updateSyncState)(n.id,"ERROR"))},6e4),setTimeout(function(){C.isOnline&&n.isSaving()&&e.dispatch((0,y.updateSyncState)(n.id,"SENDING"))},1e4)})}(e,t,m.appId);break;case p.SET_USER_ID:e.dispatch((0,p.connectClient)(m.userId));break;case p.CONNECT_CLIENT:l=m.userId,C.connect(l);break;case d.STORE_IDENTITY_TOKEN:C.answerAuthenticationChallenge(m.identity.token);break;case p.LAYER_READY:O(e,t);break;case p.LOGOUT_CLIENT:(0,o.default)(w)||(w.destroy(),w=null),!(0,o.default)(C)&&C.isConnected&&C.logout();break;case p.FIND_OR_CREATE_CONVERSATION:!function(e,t,n){var o=(0,i.default)(t,"layer.conversation.id");(0,r.default)(o)?(w=C.createConversation({participants:[]}),n((0,p.setConversationId)(w.id))):w=C.getConversation(o,!0),w.on("conversations:loaded",function(){return j(e,n)}),w.on("conversations:loaded-error",function(){return R(e,n)}),w.on("conversations:sent",function(){return N(e)})}(e,t,s);break;case p.SEND_MESSAGE:!function(e,t,n,r){var i=n.payload.body;if((0,a.default)(t.messages||[],c.isFrontAutoreply)){var s=(0,a.default)(t.messages,c.isFrontAutoreply),l=C.getMessage(s.id);(0,o.default)(l)||"NEW"!==l.syncState||l.send()}var f=window&&window.location&&window.location.href;(0,c.identifiedMessage)(w.createMessage({parts:[new u.MessagePart({body:i,mimeType:c.TEXT_MIMETYPE}),new u.MessagePart({mimeType:c.FRONT_URL_MIMETYPE,body:f?window.location.href:void 0})]}),t.identity).send(),!t.launcher.email_captured&&t.settings.emailCapture.enabled&&setTimeout(function(){r((0,h.toggleEmailCapture)(!0))},1e3)}(0,t,n,s);break;case p.LOAD_MORE_MESSAGES:E.data.length<=E.paginationWindow&&E.update({paginationWindow:E.paginationWindow+20});break;case p.SEND_EMAIL_CAPTURE:!function(e,t,n){var r=e.payload.email,o=(0,c.identifiedMessage)(w.createMessage({parts:[new u.MessagePart({body:r,mimeType:c.FRONT_EMAIL_MIMETYPE}),new u.MessagePart({mimeType:c.TEXT_MIMETYPE,body:"User submitted their email: "+r})]}),t.identity);o.send(),o.on("messages:sent",function(){n((0,h.emailCaptured)()),n((0,h.toggleEmailCapture)(!0)),setTimeout(function(){n((0,h.toggleEmailCapture)(!1))},3e3)})}(n,t,s);break;case p.REMOVE_PUSH_MESSAGE:S();break;case h.TOGGLE_LAUNCHER:case f.SHOW:F(t,s);break;case f.SHUTDOWN_APP:(0,o.default)(w)||(w.destroy(),w=null),(0,o.default)(C)||(C.logout(),C.destroy(),C=null)}}};t.layerMiddleware=function(e){return function(t){return function(n){var r=e.getState();return L(e,r,n,t),t(n)}}},t.getMediaURLForMessage=function(e,t){var n=C.getMessage(e);if(n&&(0,c.messageHasAttachments)(n)){var r=(0,a.default)(n.parts,function(e){return 0===e.mimeType.indexOf("image/")});r.url?t(r.url):r.fetchStream(t)}},t.getClient=function(){return C}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initApp=t.mockBeforeLoadAPI=t.runWrapped=t.EVENT_LIST=t.EV_UNREAD_CHANGE=t.GETTER=t.OFF_EVENT_HANDLER=t.ON_EVENT_HANDLER=t.ACTION=void 0;var r=c(n(23)),o=c(n(36)),i=c(n(42)),a=c(n(18)),s=c(n(83)),u=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function c(e){return e&&e.__esModule?e:{default:e}}var l=t.ACTION="ACTION",f=t.ON_EVENT_HANDLER="ON_EVENT_HANDLER",d=t.OFF_EVENT_HANDLER="OFF_EVENT_HANDLER",p=t.GETTER="GETTER",h=t.EV_UNREAD_CHANGE="unreadChange",y=(t.EVENT_LIST=[h],[{name:"init",type:l},{name:"identity",type:l},{name:"shutdown",type:l},{name:"hide",type:l},{name:"show",type:l},{name:"onUnreadChange",type:f,event:h},{name:"offUnreadChange",type:d,event:h},{name:"unread_count",type:p},{name:"user_id",type:p}]),g=t.runWrapped=function(e,t,n){var i=(0,a.default)(y,function(t){return(0,o.default)(t.name,e)});if(!(0,r.default)(i))return n(i);console.error('[FrontChat] Command not found: "'+e+'" .')};t.mockBeforeLoadAPI=function(){window.__frontCmdQueue=[],window.FrontChat=function(e,t){g(e,t,function(){window.__frontCmdQueue.push([e,t])})}},t.initApp=function(){var e;e=!1,(0,i.default)(window,"__frontCmdQueue")&&((0,s.default)(window.__frontCmdQueue,function(t){var n=u(t,2),r=n[0],i=n[1];window.FrontChat(r,i),e=e||(0,o.default)(r,"init")}),delete window.__frontCmdQueue),e||window.FrontChat("init",{})}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){var r=n(34),o=n(22),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==a||t==s||t==i||t==u}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(99),o=n(98),i=n(97),a=n(96),s=n(95);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(100),o=n(26);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(u=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";var r=Function.prototype.toString,o=/^\s*class /,i=function(e){try{var t=r.call(e).replace(/\/\/.*\n/g,"").replace(/\/\*[.\s\S]*\*\//g,"").replace(/\n/gm," ").replace(/ {2}/g," ");return o.test(t)}catch(e){return!1}},a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(s)return function(e){try{return!i(e)&&(r.call(e),!0)}catch(e){return!1}}(e);if(i(e))return!1;var t=a.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t,n){var r=n(114);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";n.r(t);var r=n(127),o=n.n(r);n.d(t,"Animate",function(){return o.a});var i=n(125),a=n.n(i);n.d(t,"NodeGroup",function(){return a.a})},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addMessage=function(e){var t=e.id,n=e.position,o=e.body,i=e.isInbound,a=e.timestamp,s=e.author,u=e.syncState,c=e.parts,l=e.isRead;return{type:r,payload:{id:t,position:n,body:o,is_inbound:i,timestamp:a,author:s,syncState:u,parts:c,isRead:l}}},t.updateMessage=function(e,t){return{type:o,payload:{id:e,changes:t}}},t.updateSyncState=function(e,t){return{type:o,payload:{id:e,changes:[{property:"syncState",newValue:t,oldValue:""}]}}};var r=t.ADD_MESSAGE="ADD_MESSAGE",o=t.UPDATE_MESSAGE_PROPERTY="UPDATE_MESSAGE_PROPERTY"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MOBILE_MEDIA_QUERY=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.needBlackFg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=arguments[2];if(t)return"#000"===n;var i=(0,o.parseHexCode)(e),a=Object.keys(i).reduce(function(e,t){var n=i[t]/255;return r({},e,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}({},t,n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)))},{});return.2126*a.r+.7152*a.g+.0722*a.b>.5},t.playSound=function(){if(!s)return;s.paused||(s.pause(),s.currentTime=0);var e=s.play();e instanceof Promise&&e.catch(function(){return!1})},t.randomString=function(e){if(!window.crypto||!window.crypto.getRandomValues||!window.Uint8Array)return function(e){for(var t="",n=0;n<e;n+=1)t+="0123456789abcdef".charAt(Math.floor(Math.random()*"0123456789abcdef".length));return t}(e);var t=Math.ceil(e/2),n=new window.Uint8Array(t),r="";window.crypto.getRandomValues(n);for(var o=0;o<t;o+=1){var i=n[o];r+=(i<16?"0":"")+i.toString(16)}return r};var o=n(133);var i,a,s=(i=[{src:n(317),type:"audio/ogg"},{src:n(316),type:"audio/mpeg"}],a=new Audio,i.forEach(function(e){var t=e.type,n=e.src,r=document.createElement("source");r.type=t,r.src=n,a.appendChild(r)}),a);t.MOBILE_MEDIA_QUERY="(max-width: 760px)"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROACTIVE_MSG_LAYER_USER_COOKIE=t.PROACTIVE_MSG_USER_COOKIE=t.CONVERSATION_ID_COOKIE_NAME=t.USER_ID_COOKIE_NAME=t.CHAT_ID_COOKIE_NAME=void 0;var r,o=n(319),i=(r=o)&&r.__esModule?r:{default:r};t.CHAT_ID_COOKIE_NAME="flchid",t.USER_ID_COOKIE_NAME="fluid",t.CONVERSATION_ID_COOKIE_NAME="flcid",t.PROACTIVE_MSG_USER_COOKIE="flpmuc",t.PROACTIVE_MSG_LAYER_USER_COOKIE="flpmcuc";var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{get:function(e){return i.default.get(e)},set:function(t,n){return i.default.set(t,n,e)},remove:function(t){return i.default.remove(t,e)}}};t.default=a({domain:window.location.domain})},function(e){e.exports={rsaKey:"-----BEGIN RSA PRIVATE KEY-----\nMIIEogIBAAKCAQEAkHc4IB0QUm477N0aKG08JtOMgGAT2FieEGBMn7n4w4qOzJXd\nxlpUXnTv8Zh0WPEtayZqWIhmiWFkd7r7AM5ZbQ9qGz8h+BdbVijjfhf8BaSSnuw0\nAbK9rscQt13aOupnGmVPMRIE1JMbZqm4pEP4khd7S86SRD/8nIpxVBfwN40DDl0L\nWg4udZpt8n6uz8nE62C7i1qZj1NVJYPq1A5NCVrSjabvb+m1BlhTbSUmiIpMEUZ/\nOMwvfZGj7JX8cmeDV0GUvHe1A/WrRN5dp+blx6brqSdvFvqveW6vk/IH6ZrGa+VX\nDyfJZhwIDlSJqZE6qwQjx5XyfoInMgvlORVCqwIDAQABAoIBACo2Q7aSd3n2jtkD\ntAh6/pgDuWqraDEPl8QGN212jDsqydX6tm4mZ7+f4JqR5vE0K4bDF1DeLkPXKuGX\nR49xPA0Tc3gZpuXUgVI4KVznSjMl5te8Aeg7H5SpwvcpW8JaSp0aXBzk/HdWsqt5\nTSPmXoPli5fXeMKrhbcB9uJRClZYk9i8NpO7KwthksCt6DJg1oH5BQe5EYFDKryp\nKxyN0w0Kq242mznsqAqcqZkv+codVDFqmz1I89LU5cBVfHS/1wgYgyCNmbonXrIJ\nhpLbVMbHuhekHDNmg2MGU+ojIeCAuHTxWTEprtKhRY8FXCF+ZI+3SYzdIeo1/06C\nm9jnQQECgYEAwOUBW1mDBK0GbJiG05TsQOZzdgXj2MD4pkBQmlqAPDSE/mawWOiP\nmMO3nNyQ+i4NINdutNSpm/YPeA9VdiFpAi9vb1F74RVLFRVdO5IfUyR54wT9z6JN\nVAfgEDpMydONnJw0mexpvXyFAeda1LoVTT4vanSMckzxGFYRYAGzhwECgYEAv7pH\nTZWBZok1vEy+nu1yp/nxutwtY/bRgJv0qntfuPLdWU+HiWaDi+dWmiHJUeym3G95\nLEiNpKMf9WXeQynM6sEQOERAi3wp9P8FR3wp2Xm/NOLU1day5QSsrq141QqX44R+\nxbK1mQvRlsFeh6o/kxsqMtJo4Zk72oxbYjsXFasCgYB7EiG5fPUBCLwukWqEmGHc\nTqygQsXKx+Rdfm9u7AshXoj0H+Sn9UmZOFZwOLIvTS6HI6y4p27H2UipW281fb+X\n61f3+E9HnuRWwVjI50QhMgaqd8bQsUcRNC0bbXcM1nNl1qwhARu+EDJ0sn3beBab\nP+/UxiPN0ZWJ53ASh0NaAQKBgB9U+84L/qeZCLUK/aPPPguBZyWYUbqiXT5dPjCW\nFOCOn+m2e3nSzPCSD68EknfW6rXfabf461zaY6Cg0x+6twguIM5xKPMiiWDGRECY\nY+ZsZPjpkMqZWYbfqrCpHLQEFSpTPrxkJhUqv0eZti8JfXY23ECN7iHf/s4KXezB\np1YdAoGAW1N2TSH8+Zp8ILF0zYdo+YhgYOBxshsXH4EqDjN7r0lNarLTBd5/Jfcz\ndB+i5RVIDO2WRoBXUfvcQHV2WSQ74todu0193s1lGO+7exbDAg2VkSivQeirRPe3\neym3WuFxbf2PcfPSKlsX5P/bjJ1fFRTBrjSPtTyHBu28rTXB2so=\n-----END RSA PRIVATE KEY-----",keyId:"layer:///keys/d6d31f2a-914b-11e7-acf9-ede85a125872",providerId:"layer:///providers/951a151c-1e90-11e7-b099-87cb03186800",frontSettingsDomain:"chat.frontapp.com",bugsnagKey:"09cd7060698418978d6775e5822061af",chatIdentityInitializeUrl:"https://chat-identity.frontapp.com/initialize",chatIdentityUrl:"https://chat-identity.frontapp.com/authenticate",chatIdentityPersistUrl:"https://chat-identity.frontapp.com/persist",remoteLoggerUrl:"https://frontchat-logger.herokuapp.com/log"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.persistConversationId=t.fetchToken=t.fetchInitSettings=t.newTokenRequired=t.timeout=void 0;var r=h(n(33)),o=h(n(23)),i=h(n(321)),a=h(n(36)),s=h(n(48)),u=h(n(42)),c=h(n(40)),l=h(n(320)),f=n(72),d=n(71),p=h(d);function h(e){return e&&e.__esModule?e:{default:e}}var y=t.timeout=10,g=function(e,t){if((0,l.default)(["userId","userHash"],function(n){return(0,a.default)((0,c.default)(e,n),(0,c.default)(t,n))}))return!0},m=function(e,t,n){return(0,c.default)(e,n,(0,c.default)(t,n))};t.newTokenRequired=function(e,t){return!((0,s.default)(t)||(0,a.default)((0,r.default)(t),["name"])||(0,i.default)(e,t,g)||(0,o.default)(m(e,t,"chatId"))||(0,o.default)(m(e,t,"nonce")))},t.fetchInitSettings=function(e){var t=e.payload,n=t.chatId,i=t.userId,s=t.email,c={chatId:n,userId:i||s};if((0,o.default)(c.userId)){var l=p.default.get(d.USER_ID_COOKIE_NAME);if(!(0,o.default)(l))return Promise.resolve({frontUserId:l,conversationId:p.default.get(d.CONVERSATION_ID_COOKIE_NAME)})}return new Promise(function(e,t){(0,u.default)(window,"xhrIdentity")&&window.xhrIdentity.abort();var n=new XMLHttpRequest;window.xhrIdentity=n;var o=(0,r.default)(c).filter(function(e){return c[e]}).map(function(e){return e+"="+c[e]}).join("&");n.open("GET",f.chatIdentityInitializeUrl+"?"+o),n.setRequestHeader("Content-Type","application/json"),n.onload=function(){window.xhrIdentity=void 0;try{delete window.xhrIdentity}finally{}if((0,a.default)(n.status,200)){var r=JSON.parse(n.response),o=r.frontUserId,i=r.conversationId;e({frontUserId:o,conversationId:i})}else t(new Error("[FrontChat][initialize]["+n.status+"] "+n.statusText))},n.timeout=1e3*y,n.ontimeout=function(){return t(new Error("[FrontChat][initialize]["+n.status+"] Timeout ("+y+"s.) when get token."))},n.onabort=function(){return t(new Error("[FrontChat][initialize]["+n.status+"] Abort."))},n.onerror=function(){return t(new Error("[FrontChat][initialize]["+n.status+"] "+n.statusText))},n.send()})},t.fetchToken=function(e,t){var n=t.payload,r=n.chatId,o=n.userId,i=n.userHash,s=n.nonce,c=n.email,l={frontUserId:e,chatId:r,userHash:i,nonce:s,userId:o||c};return new Promise(function(e,t){(0,u.default)(window,"xhrIdentity")&&window.xhrIdentity.abort();var n=new XMLHttpRequest;window.xhrIdentity=n,n.open("POST",f.chatIdentityUrl),n.setRequestHeader("Content-Type","application/json"),n.onload=function(){window.xhrIdentity=void 0;try{delete window.xhrIdentity}finally{}if((0,a.default)(n.status,200)){var r=JSON.parse(n.response),o=r.token,i=r.verified;e({token:o,verified:i})}else t(new Error("[FrontChat][identity]["+n.status+"] "+n.statusText))},n.timeout=1e3*y,n.ontimeout=function(){return t(new Error("[FrontChat][identity]["+n.status+"] Timeout ("+y+"s.) when get token."))},n.onabort=function(){return t(new Error("[FrontChat][identity]["+n.status+"] Abort."))},n.onerror=function(){return t(new Error("[FrontChat][identity]["+n.status+"] "+n.statusText))},n.send(JSON.stringify(l))})},t.persistConversationId=function(e,t){var n=t.payload,r=n.chatId,o=n.userId,i=n.email,s={chatId:r,userId:o||i,conversationId:e};return new Promise(function(e,t){(0,u.default)(window,"xhrIdentity")&&window.xhrIdentity.abort();var n=new XMLHttpRequest;window.xhrIdentity=n,n.open("POST",f.chatIdentityPersistUrl),n.setRequestHeader("Content-Type","application/json"),n.onload=function(){window.xhrIdentity=void 0;try{delete window.xhrIdentity}finally{}(0,a.default)(n.status,200)?e(JSON.parse(n.response)):t(new Error("[FrontChat][persist]["+n.status+"] "+n.statusText))},n.timeout=1e3*y,n.ontimeout=function(){return t(new Error("[FrontChat][persist]["+n.status+"] Timeout ("+y+"s.) when get token."))},n.onabort=function(){return t(new Error("[FrontChat][persist]["+n.status+"] Abort."))},n.onerror=function(){return t(new Error("[FrontChat][persist]["+n.status+"] "+n.statusText))},n.send(JSON.stringify(s))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSettings=function(e){return{type:r,payload:{settings:e}}};var r=t.ADD_SETTINGS="ADD_SETTINGS"},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(344);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(51),i=o.STARTED,a=o.PAUSED,s=o.FINISHED,u=n(24),c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.clientId=t.clientId,t.conversation&&(this.conversation=this._getClient().getObject(t.conversation.id)),this.state=s,this._lastMessageTime=0}return r(e,[{key:"setConversation",value:function(e){this.setState(s),this.conversation=e?this._getClient().getObject(e.id):null,this.state=s}},{key:"setState",value:function(e){if(this._pauseLoopId&&(clearInterval(this._pauseLoopId),this._pauseLoopId=0),this.conversation){if(this.state!==e)this.state=e,this._send(e);else{if(e===s)return;Date.now()>this._lastMessageTime+2500?this._send(e):this._scheduleNextMessage(e)}this.state!==s&&this._startPauseLoop()}}},{key:"_startPauseLoop",value:function(){var e=this;this._pauseLoopId||(this._pauseLoopId=window.setInterval(function(){e.state===a?e.setState(s):e.state===i&&e.setState(a)},2500))}},{key:"_scheduleNextMessage",value:function(e){var t=this;this._scheduleId&&clearTimeout(this._scheduleId);var n=2500-Math.min(Date.now()-this._lastMessageTime,2500);this._scheduleId=setTimeout(function(){t._scheduleId=0,t.state===e&&t._send(e)},n)}},{key:"_send",value:function(e){this.conversation.isSaved()&&(this._lastMessageTime=Date.now(),this._getClient().socketManager.sendSignal({type:"typing_indicator",object:{id:this.conversation.id},data:{action:e}}))}},{key:"_getClient",value:function(){return u.get(this.clientId)}},{key:"destroy",value:function(){delete this.conversation,this.isDestroyed=!0,clearTimeout(this._scheduleId),clearInterval(this._pauseLoopId)}}]),e}();e.exports=c},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};var i=n(14),a=n(2),s=n(6),u=n(3),c=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.fromServer?e.id=e.fromServer.id:e.id&&!e.userId&&(e.userId=e.id.replace(/^.*\//,"")),e.client&&(e.clientId=e.client.appId),!e.clientId)throw new Error(u.dictionary.clientMissing);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isInitializing=!0,e&&e.fromServer&&n._populateFromServer(e.fromServer),!n.url&&n.id?n.url=n.getClient().url+"/"+n.id.substring(9):n.url||(n.url=""),n.getClient()._addMembership(n),n.isInitializing=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"destroy",value:function(){var e=this.getClient();e&&e._removeMembership(this),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_triggerAsync",value:function(e,n){this._clearObject(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_triggerAsync",this).call(this,e,n)}},{key:"trigger",value:function(e,n){this._clearObject(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,n)}},{key:"_populateFromServer",value:function(e){var t=this,n=this.getClient();this._disableEvents=this.syncState===s.SYNC_STATE.NEW,this._setSynced(),this.userId=e.identity?e.identity.user_id||"":n.user.userId,this.channelId=e.channel.id,this.identity=e.identity?n._createObject(e.identity):n.user,this.identity.on("identities:change",function(e){t.trigger("members:change",{property:"identity"})},this),!this.url&&this.id&&(this.url=this.getClient().url+this.id.substring(8)),this._disableEvents=!1}},{key:"_updateValue",value:function(e,t){null!==t&&void 0!==t||(t=""),this[e]!==t&&(this.isInitializing||this._triggerAsync("members:change",{property:e,oldValue:this[e],newValue:t}),this[e]=t)}},{key:"__getUserId",value:function(){return this.identity?this.identity.userId:""}},{key:"__updateIdentity",value:function(e,t){t&&t.off(null,null,this)}}],[{key:"_createFromServer",value:function(e,n){return new t({client:n,fromServer:e,_fromDB:e._fromDB})}}]),t}();c.prototype.userId="",c.prototype.channelId="",c.prototype.role=null,c.prototype.identity="",c.inObjectIgnore=a.inObjectIgnore,c.bubbleEventParent="getClient",c._supportedEvents=["members:change","members:loaded","members:loaded-error"].concat(i._supportedEvents),c.eventPrefix="members",c.prefixUUID="/members/",a.initClass.apply(c,[c,"Membership"]),i.subclasses.push(c),e.exports=c},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(53),i=n(14),a=n(2),s=n(3),u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"send",value:function(){}},{key:"_send",value:function(){}},{key:"getConversation",value:function(){}},{key:"_loaded",value:function(e){this.getClient()._addMessage(this)}},{key:"delete",value:function(){if(this.isDestroyed)throw new Error(s.dictionary.isDestroyed);var e=this.id,t=this.getClient();this._xhr({url:"",method:"DELETE"},function(n){n.success||n.data&&("not_found"===n.data.id||"authentication_required"===n.data.id)||i.load(e,t)}),this._deleted(),this.destroy()}}],[{key:"_createFromServer",value:function(e,n){var r=e.fromWebsocket;return new t({fromServer:e,clientId:n.appId,_notify:r&&e.is_unread})}}]),t}();u.prefixUUID="layer:///announcements/",u.bubbleEventParent="getClient",u._supportedEvents=[].concat(o._supportedEvents),u.inObjectIgnore=o.inObjectIgnore,a.initClass.apply(u,[u,"Announcement"]),i.subclasses.push(u),e.exports=u},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(2),i=n(39),a=n(24),s=n(3),u=n(6),c=n(9),l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.channel&&(e.conversationId=e.channel.id);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.getClient();return n.isInitializing=!1,e&&e.fromServer&&r._addMessage(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"getConversation",value:function(e){return this.conversationId?a.get(this.clientId).getChannel(this.conversationId,e):null}},{key:"sendReceipt",value:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.RECEIPT_STATE.READ;return c.warn("Receipts not supported for Channel Messages yet"),this}},{key:"delete",value:function(){if(this.isDestroyed)throw new Error(s.dictionary.isDestroyed);var e=this.id,t=this.getClient();this._xhr({url:"",method:"DELETE"},function(n){n.success||n.data&&("not_found"===n.data.id||"authentication_required"===n.data.id)||i.load(e,t)}),this._deleted(),this.destroy()}},{key:"_loaded",value:function(e){this.conversationId=e.channel.id,this.getClient()._addMessage(this)}}],[{key:"_createFromServer",value:function(e,n){var r=e.fromWebsocket;return new t({conversationId:e.channel?e.channel.id:e.conversationId,fromServer:e,clientId:n.appId,_fromDB:e._fromDB,_notify:r&&e.is_unread&&e.sender.user_id!==n.user.userId})}}]),t}();l.prototype.isRead=!1,l.inObjectIgnore=i.inObjectIgnore,l._supportedEvents=[].concat(i._supportedEvents),o.initClass.apply(l,[l,"ChannelMessage"]),e.exports=l},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};var a=n(14),s=n(3),u=n(4),c=n(6),l=n(2),f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.fromServer&&(e.id=e.fromServer.id),e.client&&(e.clientId=e.client.appId),e.metadata||(e.metadata={});var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(!n.clientId)throw new Error(s.dictionary.clientMissing);return n.isInitializing=!0,e&&e.fromServer&&n._populateFromServer(e.fromServer),n.metadata||(n.metadata={}),n.createdAt||(n.createdAt=new Date),n.isInitializing=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),o(t,[{key:"send",value:function(e){var t=this;return this.isNew()&&(this.createdAt=new Date,this._setSyncing(),this.getClient()._triggerAsync("state-change",{started:!0,type:"send_"+u.typeFromID(this.id),telemetryId:"send_"+u.typeFromID(this.id)+"_time",id:this.id}),this.getClient().sendSocketRequest({method:"POST",body:{},sync:{depends:this.id,target:this.id}},function(e){return t._createResult(e)})),e&&this._setupMessage(e),this}},{key:"_populateFromServer",value:function(e){var t=this.getClient();this._setSynced();var n=this.id;this.id=e.id,n!==this.id&&(t._updateContainerId(this,n),this._triggerAsync(this.constructor.eventPrefix+":change",{oldValue:n,newValue:this.id,property:"id"})),this.url=e.url,this.createdAt=new Date(e.created_at),this.metadata=e.metadata}},{key:"_createResult",value:function(e){var t=e.success,n=e.data;this.getClient()._triggerAsync("state-change",{ended:!0,type:"send_"+u.typeFromID(this.id),telemetryId:"send_"+u.typeFromID(this.id)+"_time",id:this.id}),this.isDestroyed||(t?this._createSuccess(n):"conflict"===n.id?this._createResultConflict(n):(this.trigger(this.constructor.eventPrefix+":sent-error",{error:n}),this.destroy()))}},{key:"_createSuccess",value:function(e){var n=this.id;this._populateFromServer(e),this._triggerAsync(this.constructor.eventPrefix+":sent",{result:n===this.id?t.CREATED:t.FOUND})}},{key:"setMetadataProperties",value:function(e){var t=this,n=[];return Object.keys(e).forEach(function(t){var r=t;t&&("metadata"!==t&&0!==t.indexOf("metadata.")&&(r="metadata."+t),n.push({operation:"set",property:r,value:e[t]}))}),this._inLayerParser=!0,u.layerParse({object:this,type:"Conversation",operations:n,client:this.getClient()}),this._inLayerParser=!1,this._xhr({url:"",method:"PATCH",data:JSON.stringify(n),headers:{"content-type":"application/vnd.layer-patch+json"}},function(e){e.success||t.isDestroyed||"authentication_required"===e.data.id||t._load()}),this}},{key:"deleteMetadataProperties",value:function(e){var t=this,n=[];return e.forEach(function(e){"metadata"!==e&&0!==e.indexOf("metadata.")&&(e="metadata."+e),n.push({operation:"delete",property:e})},this),this._inLayerParser=!0,u.layerParse({object:this,type:"Conversation",operations:n,client:this.getClient()}),this._inLayerParser=!1,this._xhr({url:"",method:"PATCH",data:JSON.stringify(n),headers:{"content-type":"application/vnd.layer-patch+json"}},function(e){e.success||"authentication_required"===e.data.id||t._load()}),this}},{key:"_delete",value:function(e){var t=this,n=this.id;this._xhr({method:"DELETE",url:"?"+e},function(e){return t._deleteResult(e,n)}),this._deleted(),this.destroy()}},{key:"_handleWebsocketDelete",value:function(e){e.mode===c.DELETION_MODE.MY_DEVICES&&e.from_position?this.getClient()._purgeMessagesByPosition(this.id,e.from_position):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_handleWebsocketDelete",this).call(this)}},{key:"_getUrl",value:function(e){return this.url+(e||"")}},{key:"_loaded",value:function(e){this._register(this)}},{key:"on",value:function(e,n,o){var a=this.constructor.eventPrefix+":loaded";if((e===a||e&&"object"===(void 0===e?"undefined":r(e))&&e[a])&&!this.isLoading){var s=e===a?n:e[a];u.defer(function(){return s.apply(o)})}return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,n,o),this}},{key:"_triggerAsync",value:function(e,n){this._clearObject(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_triggerAsync",this).call(this,e,n)}},{key:"trigger",value:function(e,n){this._clearObject(),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,n)}},{key:"__updateMetadata",value:function(e,t,n){this._inLayerParser||JSON.stringify(e)!==JSON.stringify(t)&&this._triggerAsync(this.constructor.eventPrefix+":change",{property:"metadata",newValue:e,oldValue:t,paths:n})}},{key:"_handlePatchEvent",value:function(e,t,n){0===n[0].indexOf("metadata")&&this.__updateMetadata(e,t,n)}},{key:"toObject",value:function(){return this._toObject||(this._toObject=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toObject",this).call(this),this._toObject.metadata=u.clone(this.metadata)),this._toObject}}],[{key:"_loadResourceForPatch",value:function(e){return!0}}]),t}();f.prototype.createdAt=null,f.prototype.metadata=null,f.prototype.isCurrentParticipant=!0,f.prototype._sendDistinctEvent=null,f.prototype._toObject=null,f.bubbleEventParent="getClient",f.CREATED="Created",f.FOUND="Found",f.FOUND_WITHOUT_REQUESTED_METADATA="FoundMismatch",l.initClass.apply(f,[f,"Container"]),a.subclasses.push(f),e.exports=f},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},function(e,t,n){var r=n(85),o=n(35),i=n(84),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var u=null==n?0:i(n);return u<0&&(u=a(s+u,0)),r(e,o(t,3),u)}},function(e,t,n){var r=n(35),o=n(41),i=n(33);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!o(t)){var u=r(n,3);t=i(t),n=function(e){return u(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[u?t[c]:c]:void 0}}},function(e,t,n){var r=n(27)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(88),o=1,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,s,u){var c=n&o,l=r(e),f=l.length;if(f!=r(t).length&&!c)return!1;for(var d=f;d--;){var p=l[d];if(!(c?p in t:i.call(t,p)))return!1}var h=u.get(e);if(h&&u.get(t))return h==t;var y=!0;u.set(e,t),u.set(t,e);for(var g=c;++d<f;){var m=e[p=l[d]],v=t[p];if(a)var b=c?a(v,m,p,t,e,u):a(m,v,p,e,t,u);if(!(void 0===b?m===v||s(m,v,n,a,u):b)){y=!1;break}g||(g="constructor"==p)}if(y&&!g){var _=e.constructor,A=t.constructor;_!=A&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof A&&A instanceof A)&&(y=!1)}return u.delete(e),u.delete(t),y}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(46);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(10);e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return r(e)?e:[e]}},function(e,t,n){var r=n(93),o=n(92),i=n(91),a=1,s=2;e.exports=function(e,t,n,u,c,l){var f=n&a,d=e.length,p=t.length;if(d!=p&&!(f&&p>d))return!1;var h=l.get(e);if(h&&l.get(t))return h==t;var y=-1,g=!0,m=n&s?new r:void 0;for(l.set(e,t),l.set(t,e);++y<d;){var v=e[y],b=t[y];if(u)var _=f?u(b,v,y,t,e,l):u(v,b,y,e,t,l);if(void 0!==_){if(_)continue;g=!1;break}if(m){if(!o(t,function(e,t){if(!i(m,t)&&(v===e||c(v,e,n,u,l)))return m.push(t)})){g=!1;break}}else if(v!==b&&!c(v,b,n,u,l)){g=!1;break}}return l.delete(e),l.delete(t),g}},function(e,t,n){var r=n(19);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(19);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(19);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(19),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(62),o=n(94),i=n(90),a=n(89),s=n(61),u=n(10),c=n(44),l=n(43),f=1,d="[object Arguments]",p="[object Array]",h="[object Object]",y=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,v){var b=u(e),_=u(t),A=b?p:s(e),C=_?p:s(t),w=(A=A==d?h:A)==h,E=(C=C==d?h:C)==h,k=A==C;if(k&&c(e)){if(!c(t))return!1;b=!0,w=!1}if(k&&!w)return v||(v=new r),b||l(e)?o(e,t,n,g,m,v):i(e,t,A,n,g,m,v);if(!(n&f)){var x=w&&y.call(e,"__wrapped__"),O=E&&y.call(t,"__wrapped__");if(x||O){var S=x?e.value():e,T=O?t.value():t;return v||(v=new r),m(S,T,n,g,v)}}return!!k&&(v||(v=new r),a(e,t,n,g,m,v))}},function(e,t,n){var r=n(164),o=n(384),i=n(382);e.exports=function(e,t){return i(o(e,t,r),e+"")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,i,a,s,u){if(r(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,o,i,a,s,u],f=0;(c=new Error(t.replace(/%s/g,function(){return l[f++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))o.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)i.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(e,t,n){e.exports=n(388)},function(e,t,n){"use strict";var r=n(108);e.exports=function(){return Array.prototype.includes||r}},function(e,t,n){"use strict";(function(t){var r=n(115),o=Number.isNaN||function(e){return e!=e},i=Number.isFinite||function(e){return"number"==typeof e&&t.isFinite(e)},a=Array.prototype.indexOf;e.exports=function(e){var t=arguments.length>1?r.ToInteger(arguments[1]):0;if(a&&!o(e)&&i(t)&&void 0!==e)return a.apply(this,arguments)>-1;var n=r.ToObject(this),s=r.ToLength(n.length);if(0===s)return!1;for(var u=t>=0?t:Math.max(0,s+t);u<s;){if(r.SameValueZero(e,n[u]))return!0;u+=1}return!1}}).call(this,n(11))},function(e,t){e.exports=function(e,t){var n=e%t;return Math.floor(n>=0?n:n+t)}},function(e,t){e.exports=function(e){return e>=0?1:-1}},function(e,t){var n=Number.isNaN||function(e){return e!=e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-1/0}},function(e,t){e.exports=Number.isNaN||function(e){return e!=e}},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){"use strict";var r=n(181);e.exports=Function.prototype.bind||r},function(e,t,n){"use strict";e.exports=n(182)},function(e,t,n){"use strict";var r=n(185),o=n(183),i="function"==typeof Symbol&&"symbol"==typeof Symbol(),a=Object.prototype.toString,s=Object.defineProperty&&function(){var e={};try{for(var t in Object.defineProperty(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),u=function(e,t,n,r){var o;t in e&&("function"!=typeof(o=r)||"[object Function]"!==a.call(o)||!r())||(s?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},c=function(e,t){var n=arguments.length>2?arguments[2]:{},a=r(t);i&&(a=a.concat(Object.getOwnPropertySymbols(t))),o(a,function(r){u(e,r,t[r],n[r])})};c.supportsDescriptors=!!s,e.exports=c},function(e,t,n){var r,o=n(208);"string"==typeof o&&(o=[[e.i,o,""]]),r=n(8);var i={transform:"./transform-styles.js",singleton:!1,hmr:!0};i.transform=r,i.insertInto=void 0;n(7)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var r,o=n(240);var i=((r=o)&&r.__esModule?r:{default:r}).default,a=i.canUseDOM?window.HTMLElement:{};t.canUseDOM=i.canUseDOM;t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=s,t.setElement=function(e){var t=e;if("string"==typeof t){var n=document.querySelectorAll(t);s(n,t),t="length"in n?n[0]:n}return a=t||a},t.validateElement=u,t.hide=function(e){u(e)&&(e||a).setAttribute("aria-hidden","true")},t.show=function(e){u(e)&&(e||a).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){a=null},t.resetForTesting=function(){a=null};var r,o=n(242),i=(r=o)&&r.__esModule?r:{default:r};var a=null;function s(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function u(e){return!(!e&&!a)||((0,i.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(a)};
/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
var r=/input|select|textarea|button|object/;function o(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow"):"none"==n.getPropertyValue("display")}function i(e,t){var n=e.nodeName.toLowerCase();return(r.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(o(t))return!1;t=t.parentNode}return!0}(e)}function a(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&i(e,!n)}e.exports=t.default},function(e,t,n){var r=n(22),o=n(250),i=n(128),a="Expected a function",s=Math.max,u=Math.min;e.exports=function(e,t,n){var c,l,f,d,p,h,y=0,g=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError(a);function b(t){var n=c,r=l;return c=l=void 0,y=t,d=e.apply(r,n)}function _(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-y>=f}function A(){var e=o();if(_(e))return C(e);p=setTimeout(A,function(e){var n=t-(e-h);return m?u(n,f-(e-y)):n}(e))}function C(e){return p=void 0,v&&c?b(e):(c=l=void 0,d)}function w(){var e=o(),n=_(e);if(c=arguments,l=this,h=e,n){if(void 0===p)return function(e){return y=e,p=setTimeout(A,t),g?b(e):d}(h);if(m)return p=setTimeout(A,t),b(h)}return void 0===p&&(p=setTimeout(A,t)),d}return t=i(t)||0,r(n)&&(g=!!n.leading,f=(m="maxWait"in n)?s(i(n.maxWait)||0,t):f,v="trailing"in n?!!n.trailing:v),w.cancel=function(){void 0!==p&&clearTimeout(p),y=0,c=h=l=p=void 0},w.flush=function(){return void 0===p?d:C(o())},w}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(30);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=n(74);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var a=n(13);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var s=n(69);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var u=n(31);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})})},function(e,t,n){var r,o=n(263);"string"==typeof o&&(o=[[e.i,o,""]]),r=n(8);var i={transform:"./transform-styles.js",singleton:!1,hmr:!0};i.transform=r,i.insertInto=void 0;n(7)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){e.exports=n.p+"ed74e6c417952c335b13edc0411e7fa5.svg"},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=n(288),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(292);Object.defineProperty(t,"transition",{enumerable:!0,get:function(){return i(r).default}});var o=n(289);function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"stop",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=n(293),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(34),o=n(26),i="[object Boolean]";e.exports=function(e){return!0===e||!1===e||o(e)&&r(e)==i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.officeHourRuleMatches=t.DELAY_PER_UNITS=void 0;var r=a(n(18)),o=a(n(33));t.getRefreshDelay=function(e){var t=(0,i.default)().diff(e),n=(0,r.default)((0,o.default)(s),function(e){return t>=s[e]});return s[n]||1e3},t.getRelativeTime=function(e){if((0,i.default)().diff(e)>s.day)return(0,i.default)(e).format("M/D/YY, H:mm A");return(0,i.default)(e).fromNow(!0)};var i=a(n(131));function a(e){return e&&e.__esModule?e:{default:e}}i.default.locale("xx",{relativeTime:{future:"in %s",past:"%s ago",s:"now",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mth",MM:"%dmth",y:"1y",yy:"%dy"}}),i.default.locale("xx");var s=t.DELAY_PER_UNITS={years:31536e6,months:2592e6,day:864e5,hours:36e5,minutes:6e4,seconds:1e3},u=function(e,t){var n=String(t).split(":").map(Number);return n.length>2||!n.every(function(e){return e>-1})?null:(0,i.default)(e).hour(n[0]).minute(n[1])};t.officeHourRuleMatches=function(e,t){if(!t.timerange)return!1;var n=u(e,t.timerange.start_time),r=u(e,t.timerange.end_time);if(!i.default.isMoment(n)||!i.default.isMoment(r))return!1;n.isAfter(r)&&n.subtract(1,"d"),e.isAfter(r)&&(n.add(1,"d"),r.add(1,"d"));var o=e.isBetween(n,r),a=(t.days||[]).indexOf(e.day())>-1;return o&&a}},function(e,t,n){var r,o,i;//! moment-timezone.js
//! version : 0.5.17
//! Copyright (c) JS Foundation and other contributors
//! license : MIT
//! github.com/moment/moment-timezone
//! moment-timezone.js
//! version : 0.5.17
//! Copyright (c) JS Foundation and other contributors
//! license : MIT
//! github.com/moment/moment-timezone
!function(a,s){"use strict";o=[n(314)],void 0===(i="function"==typeof(r=function(e){var t,n={},r={},o={},i={},a=e.version.split("."),s=+a[0],u=+a[1];(s<2||2===s&&u<6)&&S("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com");function c(e){return e>96?e-87:e>64?e-29:e-48}function l(e){var t,n=0,r=e.split("."),o=r[0],i=r[1]||"",a=1,s=0,u=1;for(45===e.charCodeAt(0)&&(n=1,u=-1);n<o.length;n++)t=c(o.charCodeAt(n)),s=60*s+t;for(n=0;n<i.length;n++)a/=60,t=c(i.charCodeAt(n)),s+=t*a;return s*u}function f(e){for(var t=0;t<e.length;t++)e[t]=l(e[t])}function d(e,t){var n,r=[];for(n=0;n<t.length;n++)r[n]=e[t[n]];return r}function p(e){var t=e.split("|"),n=t[2].split(" "),r=t[3].split(""),o=t[4].split(" ");return f(n),f(r),f(o),function(e,t){for(var n=0;n<t;n++)e[n]=Math.round((e[n-1]||0)+6e4*e[n]);e[t-1]=1/0}(o,r.length),{name:t[0],abbrs:d(t[1].split(" "),r),offsets:d(n,r),untils:o,population:0|t[5]}}function h(e){e&&this._set(p(e))}function y(e){var t=e.toTimeString(),n=t.match(/\([a-z ]+\)/i);"GMT"===(n=n&&n[0]?(n=n[0].match(/[A-Z]/g))?n.join(""):void 0:(n=t.match(/[A-Z]{3,5}/g))?n[0]:void 0)&&(n=void 0),this.at=+e,this.abbr=n,this.offset=e.getTimezoneOffset()}function g(e){this.zone=e,this.offsetScore=0,this.abbrScore=0}function m(e,t){for(var n,r;r=6e4*((t.at-e.at)/12e4|0);)(n=new y(new Date(e.at+r))).offset===e.offset?e=n:t=n;return e}function v(e,t){return e.offsetScore!==t.offsetScore?e.offsetScore-t.offsetScore:e.abbrScore!==t.abbrScore?e.abbrScore-t.abbrScore:t.zone.population-e.zone.population}function b(e,t){var n,r;for(f(t),n=0;n<t.length;n++)r=t[n],i[r]=i[r]||{},i[r][e]=!0}function _(e){var t,n,r,a=e.length,s={},u=[];for(t=0;t<a;t++)for(n in r=i[e[t].offset]||{})r.hasOwnProperty(n)&&(s[n]=!0);for(t in s)s.hasOwnProperty(t)&&u.push(o[t]);return u}function A(){try{var e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e&&e.length>3){var t=o[C(e)];if(t)return t;S("Moment Timezone found "+e+" from the Intl api, but did not have that data loaded.")}}catch(e){}var n,r,i,a=function(){var e,t,n,r=(new Date).getFullYear()-2,o=new y(new Date(r,0,1)),i=[o];for(n=1;n<48;n++)(t=new y(new Date(r,n,1))).offset!==o.offset&&(e=m(o,t),i.push(e),i.push(new y(new Date(e.at+6e4)))),o=t;for(n=0;n<4;n++)i.push(new y(new Date(r+n,0,1))),i.push(new y(new Date(r+n,6,1)));return i}(),s=a.length,u=_(a),c=[];for(r=0;r<u.length;r++){for(n=new g(E(u[r]),s),i=0;i<s;i++)n.scoreOffsetAt(a[i]);c.push(n)}return c.sort(v),c.length>0?c[0].zone.name:void 0}function C(e){return(e||"").toLowerCase().replace(/\//g,"_")}function w(e){var t,r,i,a;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)i=e[t].split("|"),r=i[0],a=C(r),n[a]=e[t],o[a]=r,b(a,i[2].split(" "))}function E(e,t){e=C(e);var i,a=n[e];return a instanceof h?a:"string"==typeof a?(a=new h(a),n[e]=a,a):r[e]&&t!==E&&(i=E(r[e],E))?((a=n[e]=new h)._set(i),a.name=o[e],a):null}function k(e){var t,n,i,a;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)n=e[t].split("|"),i=C(n[0]),a=C(n[1]),r[i]=a,o[i]=n[0],r[a]=i,o[a]=n[1]}function x(e){w(e.zones),k(e.links),T.dataVersion=e.version}function O(e){var t="X"===e._f||"x"===e._f;return!(!e._a||void 0!==e._tzm||t)}function S(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function T(t){var n=Array.prototype.slice.call(arguments,0,-1),r=arguments[arguments.length-1],o=E(r),i=e.utc.apply(null,n);return o&&!e.isMoment(t)&&O(i)&&i.add(o.parse(i),"minutes"),i.tz(r),i}h.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets,this.population=e.population},_index:function(e){var t,n=+e,r=this.untils;for(t=0;t<r.length;t++)if(n<r[t])return t},parse:function(e){var t,n,r,o,i=+e,a=this.offsets,s=this.untils,u=s.length-1;for(o=0;o<u;o++)if(t=a[o],n=a[o+1],r=a[o?o-1:o],t<n&&T.moveAmbiguousForward?t=n:t>r&&T.moveInvalidForward&&(t=r),i<s[o]-6e4*t)return a[o];return a[u]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return S("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(e)]},utcOffset:function(e){return this.offsets[this._index(e)]}},g.prototype.scoreOffsetAt=function(e){this.offsetScore+=Math.abs(this.zone.utcOffset(e.at)-e.offset),this.zone.abbr(e.at).replace(/[^A-Z]/g,"")!==e.abbr&&this.abbrScore++},T.version="0.5.17",T.dataVersion="",T._zones=n,T._links=r,T._names=o,T.add=w,T.link=k,T.load=x,T.zone=E,T.zoneExists=function e(t){e.didShowError||(e.didShowError=!0,S("moment.tz.zoneExists('"+t+"') has been deprecated in favor of !moment.tz.zone('"+t+"')"));return!!E(t)},T.guess=function(e){t&&!e||(t=A());return t},T.names=function(){var e,t=[];for(e in o)o.hasOwnProperty(e)&&(n[e]||n[r[e]])&&o[e]&&t.push(o[e]);return t.sort()},T.Zone=h,T.unpack=p,T.unpackBase60=l,T.needsOffset=O,T.moveInvalidForward=!0,T.moveAmbiguousForward=!1;var M=e.fn;function P(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}e.tz=T,e.defaultZone=null,e.updateOffset=function(t,n){var r,o=e.defaultZone;void 0===t._z&&(o&&O(t)&&!t._isUTC&&(t._d=e.utc(t._a)._d,t.utc().add(o.parse(t),"minutes")),t._z=o),t._z&&(r=t._z.utcOffset(t),Math.abs(r)<16&&(r/=60),void 0!==t.utcOffset?t.utcOffset(-r,n):t.zone(r,n))},M.tz=function(t,n){return t?(this._z=E(t),this._z?e.updateOffset(this,n):S("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},M.zoneName=P(M.zoneName),M.zoneAbbr=P(M.zoneAbbr),M.utc=(B=M.utc,function(){return this._z=null,B.apply(this,arguments)}),e.tz.setDefault=function(t){return(s<2||2===s&&u<9)&&S("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?E(t):null,e};var B;var D=e.momentProperties;"[object Array]"===Object.prototype.toString.call(D)?(D.push("_z"),D.push("_a")):D&&(D._z=null);return x({version:"2018e",zones:["Africa/Abidjan|GMT|0|0||48e5","Africa/Nairobi|EAT|-30|0||47e5","Africa/Algiers|CET|-10|0||26e5","Africa/Lagos|WAT|-10|0||17e6","Africa/Maputo|CAT|-20|0||26e5","Africa/Cairo|EET EEST|-20 -30|01010|1M2m0 gL0 e10 mn0|15e6","Africa/Casablanca|WET WEST|0 -10|0101010101010101010101010101010101010101010|1H3C0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0 11A0 5A0 e00 17c0 1fA0 1a00|32e5","Europe/Paris|CET CEST|-10 -20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|11e6","Africa/Johannesburg|SAST|-20|0||84e5","Africa/Khartoum|EAT CAT|-30 -20|01|1Usl0|51e5","Africa/Sao_Tome|GMT WAT|0 -10|01|1UQN0","Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00|11e5","Africa/Windhoek|CAT WAT|-20 -10|0101010101010|1GQo0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0|32e4","America/Adak|HST HDT|a0 90|01010101010101010101010|1GIc0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|326","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1GIb0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|30e4","America/Santo_Domingo|AST|40|0||29e5","America/Araguaina|-03 -02|30 20|010|1IdD0 Lz0|14e4","America/Fortaleza|-03|30|0||34e5","America/Asuncion|-03 -04|30 40|01010101010101010101010|1GTf0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0|28e5","America/Panama|EST|50|0||15e5","America/Mexico_City|CST CDT|60 50|01010101010101010101010|1GQw0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|20e6","America/Bahia|-02 -03|20 30|01|1GCq0|27e5","America/Managua|CST|60|0||22e5","America/La_Paz|-04|40|0||19e5","America/Lima|-05|50|0||11e6","America/Denver|MST MDT|70 60|01010101010101010101010|1GI90 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|26e5","America/Campo_Grande|-03 -04|30 40|01010101010101010101010|1GCr0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0 1HB0 FX0 1HB0 IL0 1HB0 FX0 1HB0|77e4","America/Cancun|CST CDT EST|60 50 50|01010102|1GQw0 1nX0 14p0 1lb0 14p0 1lb0 Dd0|63e4","America/Caracas|-0430 -04|4u 40|01|1QMT0|29e5","America/Chicago|CST CDT|60 50|01010101010101010101010|1GI80 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|92e5","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1GQx0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|81e4","America/Phoenix|MST|70|0||42e5","America/Los_Angeles|PST PDT|80 70|01010101010101010101010|1GIa0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|15e6","America/New_York|EST EDT|50 40|01010101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|21e6","America/Rio_Branco|-04 -05|40 50|01|1KLE0|31e4","America/Fort_Nelson|PST PDT MST|80 70 70|01010102|1GIa0 1zb0 Op0 1zb0 Op0 1zb0 Op0|39e2","America/Halifax|AST ADT|40 30|01010101010101010101010|1GI60 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|39e4","America/Godthab|-03 -02|30 20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|17e3","America/Grand_Turk|EST EDT AST|50 40 40|0101010121010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 5Ip0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|37e2","America/Havana|CST CDT|50 40|01010101010101010101010|1GQt0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0|21e5","America/Metlakatla|PST AKST AKDT|80 90 80|0121212121212121|1PAa0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|14e2","America/Miquelon|-03 -02|30 20|01010101010101010101010|1GI50 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|61e2","America/Montevideo|-02 -03|20 30|01010101|1GI40 1o10 11z0 1o10 11z0 1o10 11z0|17e5","America/Noronha|-02|20|0||30e2","America/Port-au-Prince|EST EDT|50 40|010101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 3iN0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|23e5","Antarctica/Palmer|-03 -04|30 40|010101010|1H3D0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0|40","America/Santiago|-03 -04|30 40|010101010101010101010|1H3D0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0|62e5","America/Sao_Paulo|-02 -03|20 30|01010101010101010101010|1GCq0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0 1HB0 FX0 1HB0 IL0 1HB0 FX0 1HB0|20e6","Atlantic/Azores|-01 +00|10 0|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|25e4","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1GI5u 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|11e4","Antarctica/Casey|+11 +08|-b0 -80|0101|1GAF0 blz0 3m10|10","Antarctica/Davis|+05 +07|-50 -70|01|1GAI0|70","Pacific/Port_Moresby|+10|-a0|0||25e4","Pacific/Guadalcanal|+11|-b0|0||11e4","Asia/Tashkent|+05|-50|0||23e5","Pacific/Auckland|NZDT NZST|-d0 -c0|01010101010101010101010|1GQe0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00|14e5","Asia/Baghdad|+03|-30|0||66e5","Antarctica/Troll|+00 +02|0 -20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|40","Asia/Dhaka|+06|-60|0||16e6","Asia/Amman|EET EEST|-20 -30|010101010101010101010|1GPy0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00|25e5","Asia/Kamchatka|+12|-c0|0||18e4","Asia/Baku|+04 +05|-40 -50|010101010|1GNA0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5","Asia/Bangkok|+07|-70|0||15e6","Asia/Barnaul|+07 +06|-70 -60|010|1N7v0 3rd0","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1GNy0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0|22e5","Asia/Manila|+08|-80|0||24e6","Asia/Kolkata|IST|-5u|0||15e6","Asia/Chita|+10 +08 +09|-a0 -80 -90|012|1N7s0 3re0|33e4","Asia/Ulaanbaatar|+08 +09|-80 -90|01010|1O8G0 1cJ0 1cP0 1cJ0|12e5","Asia/Shanghai|CST|-80|0||23e6","Asia/Colombo|+0530|-5u|0||22e5","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1GPy0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0|26e5","Asia/Dili|+09|-90|0||19e4","Asia/Dubai|+04|-40|0||39e5","Asia/Famagusta|EET EEST +03|-20 -30 -30|0101010101201010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 15U0 2Ks0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1GPy0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1qL0 WN0 1qL0 WN0 1qL0|18e5","Asia/Hong_Kong|HKT|-80|0||73e5","Asia/Hovd|+07 +08|-70 -80|01010|1O8H0 1cJ0 1cP0 1cJ0|81e3","Asia/Irkutsk|+09 +08|-90 -80|01|1N7t0|60e4","Europe/Istanbul|EET EEST +03|-20 -30 -30|01010101012|1GNB0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 15w0|13e6","Asia/Jakarta|WIB|-70|0||31e6","Asia/Jayapura|WIT|-90|0||26e4","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1GPA0 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0|81e4","Asia/Kabul|+0430|-4u|0||46e5","Asia/Karachi|PKT|-50|0||24e6","Asia/Kathmandu|+0545|-5J|0||12e5","Asia/Yakutsk|+10 +09|-a0 -90|01|1N7s0|28e4","Asia/Krasnoyarsk|+08 +07|-80 -70|01|1N7u0|10e5","Asia/Magadan|+12 +10 +11|-c0 -a0 -b0|012|1N7q0 3Cq0|95e3","Asia/Makassar|WITA|-80|0||15e5","Europe/Athens|EET EEST|-20 -30|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|35e5","Asia/Novosibirsk|+07 +06|-70 -60|010|1N7v0 4eN0|15e5","Asia/Omsk|+07 +06|-70 -60|01|1N7v0|12e5","Asia/Pyongyang|KST KST|-90 -8u|010|1P4D0 6BAu|29e5","Asia/Rangoon|+0630|-6u|0||48e5","Asia/Sakhalin|+11 +10|-b0 -a0|010|1N7r0 3rd0|58e4","Asia/Seoul|KST|-90|0||23e6","Asia/Srednekolymsk|+12 +11|-c0 -b0|01|1N7q0|35e2","Asia/Tehran|+0330 +0430|-3u -4u|01010101010101010101010|1GLUu 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0|14e6","Asia/Tokyo|JST|-90|0||38e6","Asia/Tomsk|+07 +06|-70 -60|010|1N7v0 3Qp0|10e5","Asia/Vladivostok|+11 +10|-b0 -a0|01|1N7r0|60e4","Asia/Yekaterinburg|+06 +05|-60 -50|01|1N7w0|14e5","Europe/Lisbon|WET WEST|0 -10|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|27e5","Atlantic/Cape_Verde|-01|10|0||50e4","Australia/Sydney|AEDT AEST|-b0 -a0|01010101010101010101010|1GQg0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0|40e5","Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1GQgu 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0|11e5","Australia/Brisbane|AEST|-a0|0||20e5","Australia/Darwin|ACST|-9u|0||12e4","Australia/Eucla|+0845|-8J|0||368","Australia/Lord_Howe|+11 +1030|-b0 -au|01010101010101010101010|1GQf0 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu|347","Australia/Perth|AWST|-80|0||18e5","Pacific/Easter|-05 -06|50 60|010101010101010101010|1H3D0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0|30e2","Europe/Dublin|GMT IST|0 -10|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|12e5","Etc/GMT-1|+01|-10|0|","Pacific/Fakaofo|+13|-d0|0||483","Pacific/Kiritimati|+14|-e0|0||51e2","Etc/GMT-2|+02|-20|0|","Pacific/Tahiti|-10|a0|0||18e4","Pacific/Niue|-11|b0|0||12e2","Etc/GMT+12|-12|c0|0|","Pacific/Galapagos|-06|60|0||25e3","Etc/GMT+7|-07|70|0|","Pacific/Pitcairn|-08|80|0||56","Pacific/Gambier|-09|90|0||125","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Astrakhan|+04 +03|-40 -30|010|1N7y0 3rd0","Europe/London|GMT BST|0 -10|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|10e6","Europe/Chisinau|EET EEST|-20 -30|01010101010101010101010|1GNA0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|67e4","Europe/Kaliningrad|+03 EET|-30 -20|01|1N7z0|44e4","Europe/Volgograd|+04 +03|-40 -30|01|1N7y0|10e5","Europe/Moscow|MSK MSK|-40 -30|01|1N7y0|16e6","Europe/Saratov|+04 +03|-40 -30|010|1N7y0 5810","Europe/Simferopol|EET EEST MSK MSK|-20 -30 -40 -30|0101023|1GNB0 1qM0 11A0 1o00 11z0 1nW0|33e4","Pacific/Honolulu|HST|a0|0||37e4","MET|MET MEST|-10 -20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0","Pacific/Chatham|+1345 +1245|-dJ -cJ|01010101010101010101010|1GQe0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00|600","Pacific/Apia|+14 +13|-e0 -d0|01010101010101010101010|1GQe0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00|37e3","Pacific/Bougainville|+10 +11|-a0 -b0|01|1NwE0|18e4","Pacific/Fiji|+13 +12|-d0 -c0|01010101010101010101010|1Goe0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0|88e4","Pacific/Guam|ChST|-a0|0||17e4","Pacific/Marquesas|-0930|9u|0||86e2","Pacific/Pago_Pago|SST|b0|0||37e2","Pacific/Norfolk|+1130 +11|-bu -b0|01|1PoCu|25e4","Pacific/Tongatapu|+13 +14|-d0 -e0|010|1S4d0 s00|75e3"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Algiers|Africa/Tunis","Africa/Cairo|Egypt","Africa/Casablanca|Africa/El_Aaiun","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Lagos|Africa/Bangui","Africa/Lagos|Africa/Brazzaville","Africa/Lagos|Africa/Douala","Africa/Lagos|Africa/Kinshasa","Africa/Lagos|Africa/Libreville","Africa/Lagos|Africa/Luanda","Africa/Lagos|Africa/Malabo","Africa/Lagos|Africa/Ndjamena","Africa/Lagos|Africa/Niamey","Africa/Lagos|Africa/Porto-Novo","Africa/Maputo|Africa/Blantyre","Africa/Maputo|Africa/Bujumbura","Africa/Maputo|Africa/Gaborone","Africa/Maputo|Africa/Harare","Africa/Maputo|Africa/Kigali","Africa/Maputo|Africa/Lubumbashi","Africa/Maputo|Africa/Lusaka","Africa/Nairobi|Africa/Addis_Ababa","Africa/Nairobi|Africa/Asmara","Africa/Nairobi|Africa/Asmera","Africa/Nairobi|Africa/Dar_es_Salaam","Africa/Nairobi|Africa/Djibouti","Africa/Nairobi|Africa/Juba","Africa/Nairobi|Africa/Kampala","Africa/Nairobi|Africa/Mogadishu","Africa/Nairobi|Indian/Antananarivo","Africa/Nairobi|Indian/Comoro","Africa/Nairobi|Indian/Mayotte","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Campo_Grande|America/Cuiaba","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Beulah","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Denver|America/Boise","America/Denver|America/Cambridge_Bay","America/Denver|America/Edmonton","America/Denver|America/Inuvik","America/Denver|America/Ojinaga","America/Denver|America/Shiprock","America/Denver|America/Yellowknife","America/Denver|Canada/Mountain","America/Denver|MST7MDT","America/Denver|Navajo","America/Denver|US/Mountain","America/Fortaleza|America/Argentina/Buenos_Aires","America/Fortaleza|America/Argentina/Catamarca","America/Fortaleza|America/Argentina/ComodRivadavia","America/Fortaleza|America/Argentina/Cordoba","America/Fortaleza|America/Argentina/Jujuy","America/Fortaleza|America/Argentina/La_Rioja","America/Fortaleza|America/Argentina/Mendoza","America/Fortaleza|America/Argentina/Rio_Gallegos","America/Fortaleza|America/Argentina/Salta","America/Fortaleza|America/Argentina/San_Juan","America/Fortaleza|America/Argentina/San_Luis","America/Fortaleza|America/Argentina/Tucuman","America/Fortaleza|America/Argentina/Ushuaia","America/Fortaleza|America/Belem","America/Fortaleza|America/Buenos_Aires","America/Fortaleza|America/Catamarca","America/Fortaleza|America/Cayenne","America/Fortaleza|America/Cordoba","America/Fortaleza|America/Jujuy","America/Fortaleza|America/Maceio","America/Fortaleza|America/Mendoza","America/Fortaleza|America/Paramaribo","America/Fortaleza|America/Recife","America/Fortaleza|America/Rosario","America/Fortaleza|America/Santarem","America/Fortaleza|Antarctica/Rothera","America/Fortaleza|Atlantic/Stanley","America/Fortaleza|Etc/GMT+3","America/Halifax|America/Glace_Bay","America/Halifax|America/Goose_Bay","America/Halifax|America/Moncton","America/Halifax|America/Thule","America/Halifax|Atlantic/Bermuda","America/Halifax|Canada/Atlantic","America/Havana|Cuba","America/La_Paz|America/Boa_Vista","America/La_Paz|America/Guyana","America/La_Paz|America/Manaus","America/La_Paz|America/Porto_Velho","America/La_Paz|Brazil/West","America/La_Paz|Etc/GMT+4","America/Lima|America/Bogota","America/Lima|America/Guayaquil","America/Lima|Etc/GMT+5","America/Los_Angeles|America/Dawson","America/Los_Angeles|America/Ensenada","America/Los_Angeles|America/Santa_Isabel","America/Los_Angeles|America/Tijuana","America/Los_Angeles|America/Vancouver","America/Los_Angeles|America/Whitehorse","America/Los_Angeles|Canada/Pacific","America/Los_Angeles|Canada/Yukon","America/Los_Angeles|Mexico/BajaNorte","America/Los_Angeles|PST8PDT","America/Los_Angeles|US/Pacific","America/Los_Angeles|US/Pacific-New","America/Managua|America/Belize","America/Managua|America/Costa_Rica","America/Managua|America/El_Salvador","America/Managua|America/Guatemala","America/Managua|America/Regina","America/Managua|America/Swift_Current","America/Managua|America/Tegucigalpa","America/Managua|Canada/Saskatchewan","America/Mexico_City|America/Bahia_Banderas","America/Mexico_City|America/Merida","America/Mexico_City|America/Monterrey","America/Mexico_City|Mexico/General","America/New_York|America/Detroit","America/New_York|America/Fort_Wayne","America/New_York|America/Indiana/Indianapolis","America/New_York|America/Indiana/Marengo","America/New_York|America/Indiana/Petersburg","America/New_York|America/Indiana/Vevay","America/New_York|America/Indiana/Vincennes","America/New_York|America/Indiana/Winamac","America/New_York|America/Indianapolis","America/New_York|America/Iqaluit","America/New_York|America/Kentucky/Louisville","America/New_York|America/Kentucky/Monticello","America/New_York|America/Louisville","America/New_York|America/Montreal","America/New_York|America/Nassau","America/New_York|America/Nipigon","America/New_York|America/Pangnirtung","America/New_York|America/Thunder_Bay","America/New_York|America/Toronto","America/New_York|Canada/Eastern","America/New_York|EST5EDT","America/New_York|US/East-Indiana","America/New_York|US/Eastern","America/New_York|US/Michigan","America/Noronha|Atlantic/South_Georgia","America/Noronha|Brazil/DeNoronha","America/Noronha|Etc/GMT+2","America/Panama|America/Atikokan","America/Panama|America/Cayman","America/Panama|America/Coral_Harbour","America/Panama|America/Jamaica","America/Panama|EST","America/Panama|Jamaica","America/Phoenix|America/Creston","America/Phoenix|America/Dawson_Creek","America/Phoenix|America/Hermosillo","America/Phoenix|MST","America/Phoenix|US/Arizona","America/Rio_Branco|America/Eirunepe","America/Rio_Branco|America/Porto_Acre","America/Rio_Branco|Brazil/Acre","America/Santiago|Chile/Continental","America/Santo_Domingo|America/Anguilla","America/Santo_Domingo|America/Antigua","America/Santo_Domingo|America/Aruba","America/Santo_Domingo|America/Barbados","America/Santo_Domingo|America/Blanc-Sablon","America/Santo_Domingo|America/Curacao","America/Santo_Domingo|America/Dominica","America/Santo_Domingo|America/Grenada","America/Santo_Domingo|America/Guadeloupe","America/Santo_Domingo|America/Kralendijk","America/Santo_Domingo|America/Lower_Princes","America/Santo_Domingo|America/Marigot","America/Santo_Domingo|America/Martinique","America/Santo_Domingo|America/Montserrat","America/Santo_Domingo|America/Port_of_Spain","America/Santo_Domingo|America/Puerto_Rico","America/Santo_Domingo|America/St_Barthelemy","America/Santo_Domingo|America/St_Kitts","America/Santo_Domingo|America/St_Lucia","America/Santo_Domingo|America/St_Thomas","America/Santo_Domingo|America/St_Vincent","America/Santo_Domingo|America/Tortola","America/Santo_Domingo|America/Virgin","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","Antarctica/Palmer|America/Punta_Arenas","Asia/Baghdad|Antarctica/Syowa","Asia/Baghdad|Asia/Aden","Asia/Baghdad|Asia/Bahrain","Asia/Baghdad|Asia/Kuwait","Asia/Baghdad|Asia/Qatar","Asia/Baghdad|Asia/Riyadh","Asia/Baghdad|Etc/GMT-3","Asia/Baghdad|Europe/Minsk","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Novokuznetsk","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Bangkok|Etc/GMT-7","Asia/Bangkok|Indian/Christmas","Asia/Dhaka|Antarctica/Vostok","Asia/Dhaka|Asia/Almaty","Asia/Dhaka|Asia/Bishkek","Asia/Dhaka|Asia/Dacca","Asia/Dhaka|Asia/Kashgar","Asia/Dhaka|Asia/Qyzylorda","Asia/Dhaka|Asia/Thimbu","Asia/Dhaka|Asia/Thimphu","Asia/Dhaka|Asia/Urumqi","Asia/Dhaka|Etc/GMT-6","Asia/Dhaka|Indian/Chagos","Asia/Dili|Etc/GMT-9","Asia/Dili|Pacific/Palau","Asia/Dubai|Asia/Muscat","Asia/Dubai|Asia/Tbilisi","Asia/Dubai|Asia/Yerevan","Asia/Dubai|Etc/GMT-4","Asia/Dubai|Europe/Samara","Asia/Dubai|Indian/Mahe","Asia/Dubai|Indian/Mauritius","Asia/Dubai|Indian/Reunion","Asia/Gaza|Asia/Hebron","Asia/Hong_Kong|Hongkong","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kamchatka|Asia/Anadyr","Asia/Kamchatka|Etc/GMT-12","Asia/Kamchatka|Kwajalein","Asia/Kamchatka|Pacific/Funafuti","Asia/Kamchatka|Pacific/Kwajalein","Asia/Kamchatka|Pacific/Majuro","Asia/Kamchatka|Pacific/Nauru","Asia/Kamchatka|Pacific/Tarawa","Asia/Kamchatka|Pacific/Wake","Asia/Kamchatka|Pacific/Wallis","Asia/Kathmandu|Asia/Katmandu","Asia/Kolkata|Asia/Calcutta","Asia/Makassar|Asia/Ujung_Pandang","Asia/Manila|Asia/Brunei","Asia/Manila|Asia/Kuala_Lumpur","Asia/Manila|Asia/Kuching","Asia/Manila|Asia/Singapore","Asia/Manila|Etc/GMT-8","Asia/Manila|Singapore","Asia/Rangoon|Asia/Yangon","Asia/Rangoon|Indian/Cocos","Asia/Seoul|ROK","Asia/Shanghai|Asia/Chongqing","Asia/Shanghai|Asia/Chungking","Asia/Shanghai|Asia/Harbin","Asia/Shanghai|Asia/Macao","Asia/Shanghai|Asia/Macau","Asia/Shanghai|Asia/Taipei","Asia/Shanghai|PRC","Asia/Shanghai|ROC","Asia/Tashkent|Antarctica/Mawson","Asia/Tashkent|Asia/Aqtau","Asia/Tashkent|Asia/Aqtobe","Asia/Tashkent|Asia/Ashgabat","Asia/Tashkent|Asia/Ashkhabad","Asia/Tashkent|Asia/Atyrau","Asia/Tashkent|Asia/Dushanbe","Asia/Tashkent|Asia/Oral","Asia/Tashkent|Asia/Samarkand","Asia/Tashkent|Etc/GMT-5","Asia/Tashkent|Indian/Kerguelen","Asia/Tashkent|Indian/Maldives","Asia/Tehran|Iran","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Choibalsan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Asia/Vladivostok|Asia/Ust-Nera","Asia/Yakutsk|Asia/Khandyga","Atlantic/Azores|America/Scoresbysund","Atlantic/Cape_Verde|Etc/GMT+1","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/Lord_Howe|Australia/LHI","Australia/Perth|Australia/West","Australia/Sydney|Australia/ACT","Australia/Sydney|Australia/Canberra","Australia/Sydney|Australia/Currie","Australia/Sydney|Australia/Hobart","Australia/Sydney|Australia/Melbourne","Australia/Sydney|Australia/NSW","Australia/Sydney|Australia/Tasmania","Australia/Sydney|Australia/Victoria","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Astrakhan|Europe/Ulyanovsk","Europe/Athens|Asia/Nicosia","Europe/Athens|EET","Europe/Athens|Europe/Bucharest","Europe/Athens|Europe/Helsinki","Europe/Athens|Europe/Kiev","Europe/Athens|Europe/Mariehamn","Europe/Athens|Europe/Nicosia","Europe/Athens|Europe/Riga","Europe/Athens|Europe/Sofia","Europe/Athens|Europe/Tallinn","Europe/Athens|Europe/Uzhgorod","Europe/Athens|Europe/Vilnius","Europe/Athens|Europe/Zaporozhye","Europe/Chisinau|Europe/Tiraspol","Europe/Dublin|Eire","Europe/Istanbul|Asia/Istanbul","Europe/Istanbul|Turkey","Europe/Lisbon|Atlantic/Canary","Europe/Lisbon|Atlantic/Faeroe","Europe/Lisbon|Atlantic/Faroe","Europe/Lisbon|Atlantic/Madeira","Europe/Lisbon|Portugal","Europe/Lisbon|WET","Europe/London|Europe/Belfast","Europe/London|Europe/Guernsey","Europe/London|Europe/Isle_of_Man","Europe/London|Europe/Jersey","Europe/London|GB","Europe/London|GB-Eire","Europe/Moscow|W-SU","Europe/Paris|Africa/Ceuta","Europe/Paris|Arctic/Longyearbyen","Europe/Paris|Atlantic/Jan_Mayen","Europe/Paris|CET","Europe/Paris|Europe/Amsterdam","Europe/Paris|Europe/Andorra","Europe/Paris|Europe/Belgrade","Europe/Paris|Europe/Berlin","Europe/Paris|Europe/Bratislava","Europe/Paris|Europe/Brussels","Europe/Paris|Europe/Budapest","Europe/Paris|Europe/Busingen","Europe/Paris|Europe/Copenhagen","Europe/Paris|Europe/Gibraltar","Europe/Paris|Europe/Ljubljana","Europe/Paris|Europe/Luxembourg","Europe/Paris|Europe/Madrid","Europe/Paris|Europe/Malta","Europe/Paris|Europe/Monaco","Europe/Paris|Europe/Oslo","Europe/Paris|Europe/Podgorica","Europe/Paris|Europe/Prague","Europe/Paris|Europe/Rome","Europe/Paris|Europe/San_Marino","Europe/Paris|Europe/Sarajevo","Europe/Paris|Europe/Skopje","Europe/Paris|Europe/Stockholm","Europe/Paris|Europe/Tirane","Europe/Paris|Europe/Vaduz","Europe/Paris|Europe/Vatican","Europe/Paris|Europe/Vienna","Europe/Paris|Europe/Warsaw","Europe/Paris|Europe/Zagreb","Europe/Paris|Europe/Zurich","Europe/Paris|Poland","Europe/Volgograd|Europe/Kirov","Pacific/Auckland|Antarctica/McMurdo","Pacific/Auckland|Antarctica/South_Pole","Pacific/Auckland|NZ","Pacific/Chatham|NZ-CHAT","Pacific/Easter|Chile/EasterIsland","Pacific/Fakaofo|Etc/GMT-13","Pacific/Fakaofo|Pacific/Enderbury","Pacific/Galapagos|Etc/GMT+6","Pacific/Gambier|Etc/GMT+9","Pacific/Guadalcanal|Antarctica/Macquarie","Pacific/Guadalcanal|Etc/GMT-11","Pacific/Guadalcanal|Pacific/Efate","Pacific/Guadalcanal|Pacific/Kosrae","Pacific/Guadalcanal|Pacific/Noumea","Pacific/Guadalcanal|Pacific/Pohnpei","Pacific/Guadalcanal|Pacific/Ponape","Pacific/Guam|Pacific/Saipan","Pacific/Honolulu|HST","Pacific/Honolulu|Pacific/Johnston","Pacific/Honolulu|US/Hawaii","Pacific/Kiritimati|Etc/GMT-14","Pacific/Niue|Etc/GMT+11","Pacific/Pago_Pago|Pacific/Midway","Pacific/Pago_Pago|Pacific/Samoa","Pacific/Pago_Pago|US/Samoa","Pacific/Pitcairn|Etc/GMT+8","Pacific/Port_Moresby|Antarctica/DumontDUrville","Pacific/Port_Moresby|Etc/GMT-10","Pacific/Port_Moresby|Pacific/Chuuk","Pacific/Port_Moresby|Pacific/Truk","Pacific/Port_Moresby|Pacific/Yap","Pacific/Tahiti|Etc/GMT+10","Pacific/Tahiti|Pacific/Rarotonga"]}),e})?r.apply(t,o):r)||(e.exports=i)}()},function(e,t,n){var r=n(34),o=n(10),i=n(26),a="[object String]";e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&r(e)==a}},function(e,t,n){"use strict";function r(e){var t=e.replace("#","");return{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16)}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseHexCode=r,t.hexToHsl=function(e){var t=r(e);t.r/=255,t.g/=255,t.b/=255;var n=Math.max(t.r,t.g,t.b),o=Math.min(t.r,t.g,t.b),i={},a=void 0;if(i.l=(n+o)/2,n===o)i.h=0,i.s=0;else{switch(a=n-o,i.s=i.l>=.5?a/(2-n-o):a/(n+o),n){case t.r:i.h=(t.g-t.b)/a+(t.g<t.b?6:0);break;case t.g:i.h=(t.b-t.r)/a+2;break;case t.b:i.h=(t.r-t.g)/a+4}i.h/=6}return i.h=parseInt((360*i.h).toFixed(0),10),i.s=parseInt((100*i.s).toFixed(0),10),i.l=parseInt((100*i.l).toFixed(0),10),i}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t){e.exports=function(e,t){return"__proto__"==t?void 0:e[t]}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(27)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(76),o=n(45);e.exports=function(e,t,n){(void 0===n||o(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(338),o=n(323)(function(e,t,n){r(e,t,n)});e.exports=o},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var o=typeof e;return!!(t=null==t?n:t)&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(76),o=n(45),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(347),o=n(339)(function(e,t){return null==e?{}:r(e,t)});e.exports=o},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(2),a=n(3),s=n(4),u=n(9),c=n(17),l=new RegExp(/^conversation.id\s*=\s*['"]((layer:\/\/\/conversations\/)?.{8}-.{4}-.{4}-.{4}-.{12})['"]$/),f=new RegExp(/^channel.id\s*=\s*['"]((layer:\/\/\/channels\/)?.{8}-.{4}-.{4}-.{4}-.{12})['"]$/),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c),r(t,[{key:"_fixPredicate",value:function(e){if(""===e)return"";if(-1!==e.indexOf("conversation.id")){var t=e.match(l)?e.replace(l,"$1"):null;if(!t)throw new Error(a.dictionary.invalidPredicate);return 0!==t.indexOf("layer:///conversations/")&&(t="layer:///conversations/"+t),"conversation.id = '"+t+"'"}if(-1!==e.indexOf("channel.id")){var n=e.match(f)?e.replace(f,"$1"):null;if(!n)throw new Error(a.dictionary.invalidPredicate);return 0!==n.indexOf("layer:///channels/")&&(n="layer:///channels/"+n),"channel.id = '"+n+"'"}throw new Error(a.dictionary.invalidPredicate)}},{key:"_fetchData",value:function(e){var t=this._getConversationPredicateIds();if(t)switch(t.type){case c.Conversation:this._fetchConversationMessages(e,t);break;case c.Channel:this._fetchChannelMessages(e,t)}else this.predicate&&!this.predicate.match(/['"]/)&&u.error("This query may need to quote its value")}},{key:"_getSortField",value:function(){return"position"}},{key:"_getConversationPredicateIds",value:function(){if(-1!==this.predicate.indexOf("conversation.id")){if(this.predicate.match(l)){var e=this.predicate.replace(l,"$1"),t=(this._predicate||e).replace(/^layer:\/\/\/conversations\//,"");if(t)return{uuid:t,id:e,type:c.Conversation}}}else if(-1!==this.predicate.indexOf("channel.id")&&this.predicate.match(f)){var n=this.predicate.replace(f,"$1"),r=(this._predicate||n).replace(/^layer:\/\/\/channels\//,"");if(r)return{uuid:r,id:n,type:c.Channel}}}},{key:"_fetchConversationMessages",value:function(e,t){var n=this,r="layer:///conversations/"+t.uuid;this._predicate||(this._predicate=t.id);var o=this.client.getConversation(r);this.client.dbManager.loadMessages(r,this._nextDBFromId,e,function(e){e.length&&n._appendResults({data:e},!0)});var i="conversations/"+t.uuid+"/messages?page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");o&&!o.isSaved()||i===this._firingRequest||(this.isFiring=!0,this._firingRequest=i,this.client.xhr({telemetry:{name:"message_query_time"},url:i,method:"GET",sync:!1},function(t){return n._processRunResults(t,i,e)})),o&&!o.isSaved()&&(this.pagedToEnd=!0),0===this.data.length&&o&&o.lastMessage&&(this.data=[this._getData(o.lastMessage)],this._triggerChange({type:"data",data:[this._getData(o.lastMessage)],query:this,target:this.client}))}},{key:"_fetchChannelMessages",value:function(e,t){var n=this,r="layer:///channels/"+t.uuid;this._predicate||(this._predicate=t.id);var o=this.client.getChannel(r);this.client.dbManager.loadMessages(r,this._nextDBFromId,e,function(e){e.length&&n._appendResults({data:e},!0)});var i="channels/"+t.uuid+"/messages?page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");o&&!o.isSaved()||i===this._firingRequest||(this.isFiring=!0,this._firingRequest=i,this.client.xhr({url:i,method:"GET",sync:!1},function(t){return n._processRunResults(t,i,e)})),o&&!o.isSaved()&&(this.pagedToEnd=!0)}},{key:"_appendResultsSplice",value:function(e){var t=this.data,n=this._getInsertIndex(e,t);t.splice(n,0,this._getData(e))}},{key:"_getInsertIndex",value:function(e,t){var n=void 0;for(n=0;n<t.length&&!(e.position>t[n].position);n++);return n}},{key:"_handleEvents",value:function(e,t){switch(e){case"conversations:change":this._handleConvIdChangeEvent(t);break;case"messages:change":case"messages:read":this._handleChangeEvent("messages",t);break;case"messages:add":this._handleAddEvent("messages",t);break;case"messages:remove":this._handleRemoveEvent("messages",t)}}},{key:"_handleConvIdChangeEvent",value:function(e){var t=e.getChangesFor("id");t.length&&this._predicate===t[0].oldValue&&(this._predicate=t[0].newValue,this.predicate="conversation.id = '"+this._predicate+"'",this._run())}},{key:"_handlePositionChange",value:function(e,t){if(-1===t)return!1;var n=[].concat(o(this.data.slice(0,t)),o(this.data.slice(t+1))),r=this._getInsertIndex(e.target,n);return r!==t&&(n.splice(r,0,this._getData(e.target)),this.data=n,this._triggerChange({type:"property",target:this._getData(e.target),query:this,isChange:!0,changes:e.changes}),!0)}},{key:"_handleChangeEvent",value:function(e,t){var n=this._getIndex(t.target.id),r=t.getChangesFor("position");if(r.length&&this._handlePositionChange(t,n)){if(r.length===t.changes.length)return;n=this._getIndex(t.target.id)}-1!==n&&(this.dataType===c.ObjectDataType&&(this.data=[].concat(o(this.data.slice(0,n)),[t.target.toObject()],o(this.data.slice(n+1)))),this._triggerChange({type:"property",target:this._getData(t.target),query:this,isChange:!0,changes:t.changes}))}},{key:"_handleAddEvent",value:function(e,t){var n=this,r=t[e].filter(function(e){var t=s.typeFromID(e.id);return"messages"===t&&n.model===c.Message||"announcements"===t&&n.model===c.Announcement}).filter(function(e){return"announcements"===s.typeFromID(e.id)||e.conversationId===n._predicate}).filter(function(e){return-1===n._getIndex(e.id)}).map(function(e){return n._getData(e)});if(r.length){var o=this.data=this.dataType===c.ObjectDataType?[].concat(this.data):this.data;r.forEach(function(e){var t=n._getInsertIndex(e,o);o.splice(t,0,e),0!==t&&u.warn("Index of "+e.id+" is "+t+"; position is "+e.position+"; compared to "+o[0].position),n.totalSize+=1,n._triggerChange({type:"insert",target:e,query:n,index:t})})}}},{key:"_handleRemoveEvent",value:function(e,t){var n=this,r=[];t[e].forEach(function(e){var t=n._getIndex(e.id);-1!==t&&(e.id===n._nextDBFromId&&(n._nextDBFromId=n._updateNextFromId(t)),e.id===n._nextServerFromId&&(n._nextServerFromId=n._updateNextFromId(t)),r.push({data:e,index:t}),n.dataType===c.ObjectDataType?n.data=[].concat(o(n.data.slice(0,t)),o(n.data.slice(t+1))):n.data.splice(t,1))}),this.totalSize-=r.length,r.forEach(function(e){n._triggerChange({type:"remove",target:n._getData(e.data),index:e.index,query:n})})}}]),t}();d._supportedEvents=[].concat(c._supportedEvents),d.MaxPageSize=100,d.prototype.model=c.Message,i.initClass.apply(d,[d,"MessagesQuery"]),e.exports=d},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(2),a=n(4),s=n(6).SYNC_STATE,u=n(17),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r(t,[{key:"_fetchData",value:function(e){var t=this,n=this._getSortField();this.client.dbManager.loadConversations(n,this._nextDBFromId,e,function(e){e.length&&t._appendResults({data:e},!0)});var r="conversations?sort_by="+n+"&page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");r!==this._firingRequest&&(this.isFiring=!0,this._firingRequest=r,this.client.xhr({telemetry:{name:"conversation_query_time"},url:this._firingRequest,method:"GET",sync:!1},function(n){return t._processRunResults(n,r,e)}))}},{key:"_getSortField",value:function(){return this.sortBy&&this.sortBy[0]&&this.sortBy[0]["lastMessage.sentAt"]?"last_message":"created_at"}},{key:"_getItem",value:function(e){switch(a.typeFromID(e)){case"messages":for(var n=0;n<this.data.length;n++){var r=this.data[n];if(r.lastMessage&&r.lastMessage.id===e)return r.lastMessage}return null;case"conversations":return function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getItem",this).call(this,e)}}},{key:"_appendResultsSplice",value:function(e){var t=this.data,n=this._getInsertIndex(e,t);t.splice(n,0,this._getData(e))}},{key:"_handleEvents",value:function(e,t){switch(e){case"conversations:change":this._handleChangeEvent("conversations",t);break;case"conversations:add":this._handleAddEvent("conversations",t);break;case"conversations:remove":this._handleRemoveEvent("conversations",t)}}},{key:"_handleChangeEvent",value:function(e,t){var n=this._getIndex(t.target.id);if(this.dataType===u.ObjectDataType){var r=t.getChangesFor("id");r.length&&(n=this._getIndex(r[0].oldValue))}if(-1!==n){var i=this._getSortField(),a=t.hasProperty("lastMessage")&&"last_message"===i,s=void 0;this.dataType===u.ObjectDataType?a?(s=this._getInsertIndex(t.target,this.data),this.data.splice(n,1),this.data.splice(s,0,this._getData(t.target)),this.data=this.data.concat([])):this.data=[].concat(o(this.data.slice(0,n)),[t.target.toObject()],o(this.data.slice(n+1))):a&&(s=this._getInsertIndex(t.target,this.data))!==n&&(this.data.splice(n,1),this.data.splice(s,0,t.target)),this._triggerChange({type:"property",target:this._getData(t.target),query:this,isChange:!0,changes:t.changes}),a&&s!==n&&this._triggerChange({type:"move",target:this._getData(t.target),query:this,isChange:!1,fromIndex:n,toIndex:s})}}},{key:"_getInsertIndex",value:function(e,t){if(!e.isSaved())return 0;var n=void 0;if("created_at"===this._getSortField()){for(n=0;n<t.length;n++){var r=t[n];if(r.syncState===s.NEW||r.syncState===s.SAVING);else if(e.createdAt>=r.createdAt)break}return n}var o=-1,i=e.lastMessage?e.lastMessage.sentAt:e.createdAt;for(n=0;n<t.length;n++){var a=t[n];if(a.id===e.id)o=n;else if(a.syncState===s.NEW||a.syncState===s.SAVING);else{if(i>=(a.lastMessage?a.lastMessage.sentAt:a.createdAt))break}}return-1===o||o>n?n:n-1}},{key:"_handleAddEvent",value:function(e,t){var n=this,r=t[e].filter(function(e){return-1===n._getIndex(e.id)});if(r.length){var o=this.data;r.forEach(function(e){var t=n._getInsertIndex(e,o);o.splice(t,0,n._getData(e)),n.dataType===u.ObjectDataType&&(n.data=[].concat(o)),n.totalSize+=1;var r=n._getData(e);n._triggerChange({type:"insert",index:t,target:r,query:n})})}}},{key:"_handleRemoveEvent",value:function(e,t){var n=this,r=[];t[e].forEach(function(e){var t=n._getIndex(e.id);-1!==t&&(e.id===n._nextDBFromId&&(n._nextDBFromId=n._updateNextFromId(t)),e.id===n._nextServerFromId&&(n._nextServerFromId=n._updateNextFromId(t)),r.push({data:e,index:t}),n.dataType===u.ObjectDataType?n.data=[].concat(o(n.data.slice(0,t)),o(n.data.slice(t+1))):n.data.splice(t,1))}),this.totalSize-=r.length,r.forEach(function(e){n._triggerChange({type:"remove",index:e.index,target:n._getData(e.data),query:n})})}}]),t}();c._supportedEvents=[].concat(u._supportedEvents),c.MaxPageSize=100,c.prototype.model=u.Conversation,i.initClass.apply(c,[c,"ConversationsQuery"]),e.exports=c},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(77),i=n(51),a=i.STARTED,s=(i.PAUSED,i.FINISHED),u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.clientId=t.clientId,this.conversation=t.conversation,this.publisher=new o({clientId:this.clientId,conversation:this.conversation}),this.intervalId=0,this.lastKeyId=0,this._handleKeyPress=this._handleKeyPress.bind(this),this._handleKeyDown=this._handleKeyDown.bind(this),this.setInput(t.input)}return r(e,[{key:"destroy",value:function(){this._removeInput(this.input),this.publisher.destroy()}},{key:"setInput",value:function(e){e!==this.input&&(this._removeInput(this.input),this.input=e,this.input.addEventListener("keypress",this._handleKeyPress),this.input.addEventListener("keydown",this._handleKeyDown))}},{key:"_removeInput",value:function(e){e&&(e.removeEventListener("keypress",this._handleKeyPress),e.removeEventListener("keydown",this._handleKeyDown),this.input=null)}},{key:"setConversation",value:function(e){e!==this.conversation&&(this.conversation=e,this.publisher.setConversation(e))}},{key:"_handleKeyPress",value:function(e){var t=this;this.lastKeyId&&window.clearTimeout(this.lastKeyId),this.lastKeyId=window.setTimeout(function(){t.lastKeyId=0;var e=!t.input.value;t.send(e?s:a)},50)}},{key:"_handleKeyDown",value:function(e){-1!==[8,46,13].indexOf(e.keyCode)&&this._handleKeyPress()}},{key:"send",value:function(e){this.publisher.setState(e)}}]),e}();e.exports=u},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(2),i=n(9),a=n(21),s=n(6),u=n(4),c=n(79),l=9007199254740991,f=s.SYNC_STATE.NEW;function d(e){return e?e.toISOString():null}var p=[{name:"conversations",indexes:{created_at:["created_at"],last_message_sent:["last_message_sent"]}},{name:"channels",indexes:{created_at:["created_at"]}},{name:"messages",indexes:{conversationId:["conversationId","position"]}},{name:"identities",indexes:{}},{name:"syncQueue",indexes:{}}],h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(window.indexedDB&&e.enabled){var r=!0;try{window.IDBKeyRange.bound(["announcement",0],["announcement",l])}catch(t){e.tables={},r=!1}r&&-1!==n.client.constructor._supportedEvents.indexOf("conversations:add")&&(n.client.on("conversations:add",function(e){return n.writeConversations(e.conversations)},n),n.client.on("conversations:change",function(e){return n._updateConversation(e.target,e.changes)},n),n.client.on("conversations:delete conversations:sent-error",function(e){return n.deleteObjects("conversations",[e.target])},n),n.client.on("channels:add",function(e){return n.writeChannels(e.channels)},n),n.client.on("channels:change",function(e){return n._updateChannel(e.target,e.changes)},n),n.client.on("channels:delete channels:sent-error",function(e){return n.deleteObjects("channels",[e.target])},n),n.client.on("messages:add",function(e){return n.writeMessages(e.messages)},n),n.client.on("messages:change",function(e){return n.writeMessages([e.target])},n),n.client.on("messages:delete messages:sent-error",function(e){return n.deleteObjects("messages",[e.target])},n),n.client.on("identities:add",function(e){return n.writeIdentities(e.identities)},n),n.client.on("identities:change",function(e){return n.writeIdentities([e.target])},n),n.client.on("identities:unfollow",function(e){return n.deleteObjects("identities",[e.target])},n)),(e.tables.conversations||e.tables.channels)&&e.tables.messages||(e.tables.syncQueue=!1)}else e.tables={};return p.forEach(function(t){n["_permission_"+t.name]=Boolean(e.tables[t.name])}),n._open(!1),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"_getDbName",value:function(){return"LayerWebSDK_"+this.client.appId}},{key:"_open",value:function(e){var t=this;if(this.db&&(this.db.close(),delete this.db),0===p.filter(function(e){return t["_permission_"+e.name]}).length)return this._isOpenError=!0,void this.trigger("error",{error:"Persistence is disabled by application"});var n=window.indexedDB.open(this._getDbName(),5);try{n.onerror=function(n){e?(t._isOpenError=!0,i.warn("Database Unable to Open (common cause: private browsing window)",n.target.error),t.trigger("error",{error:n})):t.deleteTables(function(){return t._open(!0)})},n.onupgradeneeded=function(e){return t._onUpgradeNeeded(e)},n.onsuccess=function(e){t.db=e.target.result,t.isOpen=!0,t.trigger("open"),t.db.onversionchange=function(){t.db.close(),t.isOpen=!1},t.db.onerror=function(e){return i.error("db-manager Error: ",e)}}}catch(e){this._isOpenError=!0,i.error("Database Unable to Open: ",e),this.trigger("error",{error:e})}}},{key:"onOpen",value:function(e){this.isOpen||this._isOpenError?e():this.once("open error",e)}},{key:"_onUpgradeNeeded",value:function(e){var t=this,n=e.target.result,r=function(e){t.db=n,t.isComplete=!0,t.isOpen=!0,t.trigger("open")},o=Array.prototype.slice.call(n.objectStoreNames);p.forEach(function(e){try{-1!==o.indexOf(e.name)&&n.deleteObjectStore(e.name)}catch(e){}try{var t=n.createObjectStore(e.name,{keyPath:"id"});Object.keys(e.indexes).forEach(function(n){return t.createIndex(n,e.indexes[n],{unique:!1})}),t.transaction.oncomplete=r}catch(t){i.error("Failed to create object store "+e.name,t)}})}},{key:"_getConversationData",value:function(e){var t=this;return e.filter(function(e){return e._fromDB?(e._fromDB=!1,!1):!e.isLoading&&e.syncState!==f}).map(function(e){return{id:e.id,url:e.url,participants:t._getIdentityData(e.participants,!0),distinct:e.distinct,created_at:d(e.createdAt),metadata:e.metadata,unread_message_count:e.unreadCount,last_message:e.lastMessage?e.lastMessage.id:"",last_message_sent:e.lastMessage?d(e.lastMessage.sentAt):d(e.createdAt),sync_state:e.syncState}})}},{key:"_updateConversation",value:function(e,t){var n=this,r=t.filter(function(e){return"id"===e.property});r.length?this.deleteObjects("conversations",[{id:r[0].oldValue}],function(){n.writeConversations([e])}):this.writeConversations([e])}},{key:"writeConversations",value:function(e,t){this._writeObjects("conversations",this._getConversationData(e.filter(function(e){return!e.isDestroyed})),t)}},{key:"_getChannelData",value:function(e){return e.filter(function(e){return e._fromDB?(e._fromDB=!1,!1):!e.isLoading&&e.syncState!==f}).map(function(e){return{id:e.id,url:e.url,created_at:d(e.createdAt),sync_state:e.syncState,membership:null,name:e.name,metadata:e.metadata}})}},{key:"_updateChannel",value:function(e,t){var n=this,r=t.filter(function(e){return"id"===e.property});r.length?this.deleteObjects("channels",[{id:r[0].oldValue}],function(){n.writeChannels([e])}):this.writeChannels([e])}},{key:"writeChannels",value:function(e,t){this._writeObjects("channels",this._getChannelData(e.filter(function(e){return!e.isDestroyed})),t)}},{key:"_getIdentityData",value:function(e,t){return e.filter(function(e){return!(e.isDestroyed||!e.isFullIdentity&&!t)&&(e._fromDB?(e._fromDB=!1,!1):!e.isLoading)}).map(function(e){return e.isFullIdentity&&!t?{id:e.id,url:e.url,user_id:e.userId,first_name:e.firstName,last_name:e.lastName,display_name:e.displayName,avatar_url:e.avatarUrl,metadata:e.metadata,public_key:e.publicKey,phone_number:e.phoneNumber,email_address:e.emailAddress,sync_state:e.syncState,type:e.type}:{id:e.id,url:e.url,user_id:e.userId,display_name:e.displayName,avatar_url:e.avatarUrl}})}},{key:"writeIdentities",value:function(e,t){this._writeObjects("identities",this._getIdentityData(e),t)}},{key:"_getMessageData",value:function(e,n){var r=this,o=e.filter(function(e){return e._fromDB?(e._fromDB=!1,!1):e.syncState!==s.SYNC_STATE.LOADING}).map(function(e){return{id:e.id,url:e.url,parts:e.parts.map(function(e){return{body:u.isBlob(e.body)&&e.body.size>t.MaxPartSize?null:e.body,id:e.id,encoding:e.encoding,mime_type:e.mimeType,content:e._content?{id:e._content.id,download_url:e._content.downloadUrl,expiration:e._content.expiration,refresh_url:e._content.refreshUrl,size:e._content.size}:null}}),position:e.position,sender:r._getIdentityData([e.sender],!0)[0],recipient_status:e.recipientStatus,sent_at:d(e.sentAt),received_at:d(e.receivedAt),conversationId:e instanceof c?"announcement":e.conversationId,sync_state:e.syncState,is_unread:e.isUnread}}),i=0,a=[];o.forEach(function(e){e.parts.forEach(function(e){u.isBlob(e.body)&&a.push(e)})}),0===a.length?n(o):a.forEach(function(e){u.blobToBase64(e.body,function(t){e.body=t,e.useBlob=!0,++i===a.length&&n(o)})})}},{key:"writeMessages",value:function(e,t){var n=this;this._getMessageData(e.filter(function(e){return!e.isDestroyed}),function(e){return n._writeObjects("messages",e,t)})}},{key:"_getSyncEventData",value:function(e){return e.filter(function(e){return!e.fromDB||(e.fromDB=!1,!1)}).map(function(e){return{id:e.id,target:e.target,depends:e.depends,isWebsocket:e instanceof a.WebsocketSyncEvent,operation:e.operation,data:e.data,url:e.url||"",headers:e.headers||null,method:e.method||null,created_at:e.createdAt}})}},{key:"writeSyncEvents",value:function(e,t){this._writeObjects("syncQueue",this._getSyncEventData(e),t)}},{key:"_writeObjects",value:function(e,t,n){var r=this;if(!this["_permission_"+e]||this._isOpenError)return n?n():null;t.length?this.onOpen(function(){r.getObjects(e,t.map(function(e){return e.id}),function(o){var a={};o.forEach(function(e){a[e.id]=e});var s=r.db.transaction([e],"readwrite"),u=s.objectStore(e);s.oncomplete=s.onerror=n,t.forEach(function(e){try{a[e.id]?u.put(e):u.add(e)}catch(e){i.error(e)}})})}):n&&n()}},{key:"loadConversations",value:function(e,t,n,r){var o=this;try{var i=void 0,a=null,s=t?this.client.getConversation(t):null;"last_message"===e?(i="last_message_sent",s&&(a=window.IDBKeyRange.upperBound([s.lastMessage?d(s.lastMessage.sentAt):d(s.createdAt)]))):(i="created_at",s&&(a=window.IDBKeyRange.upperBound([d(s.createdAt)]))),this._loadByIndex("conversations",i,a,Boolean(t),n,function(e){var t=e.map(function(e){return e.last_message}).filter(function(e){return e&&!o.client.getMessage(e)});o.getObjects("messages",t,function(t){o._loadConversationsResult(e,t,r)})})}catch(e){}}},{key:"_loadConversationsResult",value:function(e,t,n){var r=this;t.forEach(function(e){return r._createMessage(e)});var o=e.map(function(e){return r._createConversation(e)||r.client.getConversation(e.id)}).filter(function(e){return e});n&&n(o)}},{key:"loadChannels",value:function(e,t,n){var r=this;try{var o=null,i=e?this.client.getChannel(e):null;i&&(o=window.IDBKeyRange.upperBound([d(i.createdAt)])),this._loadByIndex("channels","created_at",o,Boolean(e),t,function(e){r._loadChannelsResult(e,n)})}catch(e){}}},{key:"_loadChannelsResult",value:function(e,t){var n=this,r=e.map(function(e){return n._createChannel(e)||n.client.getChannel(e.id)}).filter(function(e){return e});t&&t(r)}},{key:"loadMessages",value:function(e,t,n,r){var o=this;if(!this._permission_messages||this._isOpenError)return r([]);try{var i=t?this.client.getMessage(t):null,a=window.IDBKeyRange.bound([e,0],[e,i?i.position:l]);this._loadByIndex("messages","conversationId",a,Boolean(t),n,function(e){o._loadMessagesResult(e,r)})}catch(e){}}},{key:"loadAnnouncements",value:function(e,t,n){var r=this;if(!this._permission_messages||this._isOpenError)return n([]);try{var o=e?this.client.getMessage(e):null,i=window.IDBKeyRange.bound(["announcement",0],["announcement",o?o.position:l]);this._loadByIndex("messages","conversationId",i,Boolean(e),t,function(e){r._loadMessagesResult(e,n)})}catch(e){}}},{key:"_blobifyPart",value:function(e){e.useBlob&&(e.body=u.base64ToBlob(e.body),delete e.useBlob,e.encoding=null)}},{key:"_loadMessagesResult",value:function(e,t){var n=this;e.forEach(function(e){return e.parts.forEach(function(e){return n._blobifyPart(e)})});var r=e.map(function(e){return n._createMessage(e)||n.client.getMessage(e.id)}).filter(function(e){return e});t&&t(r)}},{key:"loadIdentities",value:function(e){var t=this;this._loadAll("identities",function(n){t._loadIdentitiesResult(n,e)})}},{key:"_loadIdentitiesResult",value:function(e,t){var n=this,r=e.map(function(e){return n._createIdentity(e)||n.client.getIdentity(e.id)}).filter(function(e){return e});t&&t(r)}},{key:"_createConversation",value:function(e){if(!this.client.getConversation(e.id)){e._fromDB=!0;var t=this.client._createObject(e);return t.syncState=e.sync_state,t}}},{key:"_createChannel",value:function(e){if(!this.client.getChannel(e.id)){e._fromDB=!0;var t=this.client._createObject(e);return t.syncState=e.sync_state,t}}},{key:"_createMessage",value:function(e){if(!this.client.getMessage(e.id)){e._fromDB=!0,0===e.conversationId.indexOf("layer:///conversations")?e.conversation={id:e.conversationId}:0===e.conversationId.indexOf("layer:///channels")&&(e.channel={id:e.conversationId}),delete e.conversationId;var t=this.client._createObject(e);return t.syncState=e.sync_state,t}}},{key:"_createIdentity",value:function(e){if(!this.client.getIdentity(e.id)){e._fromDB=!0;var t=this.client._createObject(e);return t.syncState=e.sync_state,t}}},{key:"loadSyncQueue",value:function(e){var t=this;this._loadAll("syncQueue",function(n){return t._loadSyncEventRelatedData(n,e)})}},{key:"_loadSyncEventRelatedData",value:function(e,t){var n=this,r=e.filter(function(e){return"DELETE"!==e.operation&&e.target&&e.target.match(/messages/)}).map(function(e){return e.target}),o=e.filter(function(e){return"DELETE"!==e.operation&&e.target&&e.target.match(/conversations/)}).map(function(e){return e.target}),i=e.filter(function(e){return"DELETE"!==e.operation&&e.target&&e.target.match(/identities/)}).map(function(e){return e.target}),a=0;this.getObjects("messages",r,function(r){r.forEach(function(e){return n._createMessage(e)}),3===++a&&n._loadSyncEventResults(e,t)}),this.getObjects("conversations",o,function(r){r.forEach(function(e){return n._createConversation(e)}),3===++a&&n._loadSyncEventResults(e,t)}),this.getObjects("identities",i,function(r){r.forEach(function(e){return n._createIdentity(e)}),3===++a&&n._loadSyncEventResults(e,t)})}},{key:"_loadSyncEventResults",value:function(e,t){var n=this,r=e.filter(function(e){var t=Boolean(e.target&&n.client.getObject(e.target));return"DELETE"===e.operation||t}).map(function(e){return e.isWebsocket?new a.WebsocketSyncEvent({target:e.target,depends:e.depends,operation:e.operation,id:e.id,data:e.data,fromDB:!0,createdAt:e.created_at}):new a.XHRSyncEvent({target:e.target,depends:e.depends,operation:e.operation,id:e.id,data:e.data,method:e.method,headers:e.headers,url:e.url,fromDB:!0,createdAt:e.created_at})});u.sortBy(r,function(e){return e.createdAt}),t(r)}},{key:"_loadAll",value:function(e,t){var n=this;if(!this["_permission_"+e]||this._isOpenError)return t([]);this.onOpen(function(){var r=[];n.db.transaction([e],"readonly").objectStore(e).openCursor().onsuccess=function(e){if(!n.isDestroyed){var o=e.target.result;o?(r.push(o.value),o.continue()):n.isDestroyed||t(r)}}})}},{key:"_loadByIndex",value:function(e,t,n,r,o,i){var a=this;if(!this["_permission_"+e]||this._isOpenError)return i([]);var s=r;this.onOpen(function(){var r=[];a.db.transaction([e],"readonly").objectStore(e).index(t).openCursor(n,"prev").onsuccess=function(e){if(!a.isDestroyed){var t=e.target.result;t?(s?s=!1:r.push(t.value),o&&r.length>=o?i(r):t.continue()):i(r)}}})}},{key:"deleteObjects",value:function(e,t,n){var r=this;if(!this["_permission_"+e]||this._isOpenError)return n?n():null;this.onOpen(function(){var o=r.db.transaction([e],"readwrite"),i=o.objectStore(e);o.oncomplete=n,t.forEach(function(e){return i.delete(e.id)})})}},{key:"getObjects",value:function(e,t,n){var r=this;if(!this["_permission_"+e]||this._isOpenError)return n([]);for(var o=[],i=t.sort(),a=i.length-1;a>0;a--)i[a]===i[a-1]&&i.splice(a,1);var s=0;this.onOpen(function(){r.db.transaction([e],"readonly").objectStore(e).openCursor().onsuccess=function(e){if(!r.isDestroyed){var t=e.target.result;if(t){for(var a=t.key;a>i[s];)s++;a===i[s]&&(o.push(t.value),s++),s===i.length?r.isDestroyed||n(o):t.continue(i[s])}else n(o)}}})}},{key:"getObject",value:function(e,t,n){var r=this;if(!this["_permission_"+e]||this._isOpenError)return n();this.onOpen(function(){r.db.transaction([e],"readonly").objectStore(e).openCursor(window.IDBKeyRange.only(t)).onsuccess=function(t){var o=t.target.result;if(!o)return n(null);switch(e){case"messages":return o.value.parts.forEach(function(e){return r._blobifyPart(e)}),n(o.value);case"identities":case"channels":return n(o.value);case"conversations":if(o.value.last_message){var i=r.client.getMessage(o.value.last_message);return i?r._getMessageData([i],function(e){o.value.last_message=e[0],n(o.value)}):r.getObject("messages",o.value.last_message,function(e){o.value.last_message=e,n(o.value)})}return n(o.value)}}})}},{key:"claimSyncEvent",value:function(e,t){var n=this;if(!this._permission_syncQueue||this._isOpenError)return t(!0);this.onOpen(function(){var r=n.db.transaction(["syncQueue"],"readwrite").objectStore("syncQueue");r.get(e.id).onsuccess=function(e){return t(Boolean(e.target.result))},r.delete(e.id)})}},{key:"deleteTables",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};try{var t=window.indexedDB.deleteDatabase(this._getDbName());t.onsuccess=t.onerror=e,delete this.db}catch(t){i.error("Failed to delete database",t),e&&e(t)}}}]),t}();h.prototype.client=null,h.prototype.isOpen=!1,h.prototype._isOpenError=!1,h.prototype._permission_messages=!1,h.prototype._permission_conversations=!1,h.prototype._permission_channels=!1,h.prototype._permission_identities=!1,h.prototype._permission_syncQueue=!1,h.prototype.db=null,h.MaxPartSize=25e4,h._supportedEvents=["open","error"].concat(o._supportedEvents),o.initClass.apply(h,[h,"DbManager"]),e.exports=h},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(2),i=n(21).WebsocketSyncEvent,a=n(25),s=n(9),u=n(4),c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.client=e.client,n.client&&n.client.on("ready",function(){n._processNextRequest(),n._loadPersistedQueue()},n),n.queue=[],n.receiptQueue=[],n.onlineManager.on("disconnected",n._onlineStateChange,n),n.socketManager.on("connected disconnected",n._onlineStateChange,n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"isOnline",value:function(){return this.onlineManager.isOnline}},{key:"_onlineStateChange",value:function(e){var t=this;"connected"===e.eventName?(this.queue.length&&this.queue[0].returnToOnlineCount++,setTimeout(function(){return t._processNextRequest()},100)):"disconnected"===e.eventName&&(this.queue.length&&(this.queue[0].isFiring=!1),this.receiptQueue.length&&this.receiptQueue.forEach(function(e){return e.isFiring=!1}))}},{key:"request",value:function(e){"PATCH"===e.operation&&this._findUnfiredCreate(e)?s.info("Sync Manager Request PATCH "+e.target+" request ignored; create request still enqueued",e.toObject()):(s.info("Sync Manager Request "+e.operation+" on target "+e.target,e.toObject()),"RECEIPT"===e.operation?this.receiptQueue.push(e):this.queue.push(e),this.trigger("sync:add",{request:e,target:e.target})),"DELETE"===e.operation&&this._purgeOnDelete(e),this._processNextRequest(e)}},{key:"_processNextRequest",value:function(e){var t=this;this.queue.length&&!this.queue[0].isFiring&&(e?this.client.dbManager.writeSyncEvents([e],function(){return t._processNextStandardRequest()}):this._processNextStandardRequest()),this.receiptQueue.length&&this._processNextReceiptRequest()}},{key:"_findUnfiredCreate",value:function(e){return Boolean(this.queue.filter(function(t){return t.target===e.target&&"POST"===t.operation&&!t.isFiring}).length)}},{key:"_processNextStandardRequest",value:function(){var e=this;if(!this.isDestroyed&&this.client.isAuthenticated){var t=this.queue[0];this.isOnline()&&t&&!t.isFiring&&!t._isValidating&&(t._isValidating=!0,this._validateRequest(t,function(n){if(t._isValidating=!1,!n)return e._removeRequest(t,!1),e._processNextStandardRequest();e._fireRequest(t)}))}}},{key:"_processNextReceiptRequest",value:function(){var e=this,t=0;this.receiptQueue.forEach(function(n){e.isOnline()&&n&&(n.isFiring||n._isValidating?t++:t<4&&(t++,e._fireRequest(n)))})}},{key:"_fireRequest",value:function(e){e instanceof i?this._fireRequestWebsocket(e):this._fireRequestXHR(e)}},{key:"_fireRequestXHR",value:function(e){var t=this;e.isFiring=!0,e.headers||(e.headers={}),e.headers.authorization='Layer session-token="'+this.client.sessionToken+'"',s.info("Sync Manager XHR Request Firing "+e.operation+" "+e.target+" at "+(new Date).toISOString(),e.toObject()),a(e._getRequestData(this.client),function(n){return t._xhrResult(n,e)})}},{key:"_fireRequestWebsocket",value:function(e){var t=this;this.socketManager&&this.socketManager._isOpen()?(s.debug("Sync Manager Websocket Request Firing "+e.operation+" on target "+e.target,e.toObject()),e.isFiring=!0,this.requestManager.sendRequest({data:e._getRequestData(this.client),callback:function(n){return t._xhrResult(n,e)},isChangesArray:e.returnChangesArray})):s.debug("Sync Manager Websocket Request skipped; socket closed")}},{key:"_validateRequest",value:function(e,t){this.client.dbManager.claimSyncEvent(e,function(e){return t(e)})}},{key:"_handleDeduplicationErrors",value:function(e){e.data&&"id_in_use"===e.data.id&&e.data.data&&e.data.data.id===e.request._getCreateId()&&(e.success=!0,e.data=e.data.data)}},{key:"_xhrResult",value:function(e,t){this.isDestroyed||(e.request=t,t.isFiring=!1,this._handleDeduplicationErrors(e),e.success?this._xhrSuccess(e):this._xhrError(e))}},{key:"_getErrorState",value:function(e,n,r){var o=e.data?e.data.id:"";return r?"not_found"===o?"notFound":"id_in_use"===o?"invalidId":408===e.status||"request_timeout"===o?n.retryCount>=t.MAX_RETRIES?"tooManyFailuresWhileOnline":"validateOnlineAndRetry":-1!==[502,503,504].indexOf(e.status)?n.retryCount>=t.MAX_RETRIES?"tooManyFailuresWhileOnline":"serverUnavailable":"authentication_required"===o&&e.data.data&&e.data.data.nonce?"reauthorize":"serverRejectedRequest":n.returnToOnlineCount>=t.MAX_RETRIES_BEFORE_CORS_ERROR?"CORS":"offline"}},{key:"_xhrError",value:function(e){var t=e.request;s.warn("Sync Manager "+(t instanceof i?"Websocket":"XHR")+" "+t.operation+" Request on target "+t.target+" has Failed",t.toObject());var n=this._getErrorState(e,t,this.isOnline());switch(s.warn("Sync Manager Error State: "+n),n){case"tooManyFailuresWhileOnline":this._xhrHandleServerError(e,"Sync Manager Server Unavailable Too Long; removing request",!1);break;case"notFound":this._xhrHandleServerError(e,"Resource not found; presumably deleted",!1);break;case"invalidId":this._xhrHandleServerError(e,"ID was not unique; request failed",!1);break;case"validateOnlineAndRetry":case"serverUnavailable":this._xhrHandleServerUnavailableError(e);break;case"reauthorize":t.callback&&t.callback(e);break;case"serverRejectedRequest":this._xhrHandleServerError(e,"Sync Manager Server Rejects Request; removing request",!0);break;case"CORS":this._xhrHandleServerError(e,"Sync Manager Server detects CORS-like errors; removing request",!1);break;case"offline":this._xhrHandleConnectionError()}-1===this.queue.indexOf(t)&&-1===this.receiptQueue.indexOf(t)||this.client.dbManager.writeSyncEvents([t])}},{key:"_xhrHandleServerUnavailableError",value:function(e){var n=e.request;this.trigger("sync:error-will-retry",{target:n.target,request:n,error:e.data,retryCount:n.retryCount});var r=t.MAX_UNAVAILABLE_RETRY_WAIT,o=u.getExponentialBackoffSeconds(r,Math.min(15,n.retryCount++));s.warn("Sync Manager Server Unavailable; retry count "+n.retryCount+"; retrying in "+o+" seconds"),setTimeout(this._processNextRequest.bind(this),1e3*o)}},{key:"_xhrHandleServerError",value:function(e,t,n){e.request.callback&&e.request.callback(e),n?s.error(t+"\nREQUEST: "+JSON.stringify(e.request.toObject(),null,4)+"\nRESPONSE: "+JSON.stringify(e.data,null,4)):s.error(t,e),this.trigger("sync:error",{target:e.request.target,request:e.request,error:e.data}),e.request.success=!1,"POST"===e.request.operation&&this._purgeDependentRequests(e.request),this._removeRequest(e.request,!0),this._processNextRequest()}},{key:"_xhrHandleConnectionError",value:function(){}},{key:"_xhrValidateIsOnline",value:function(e){var t=this;s.debug("Sync Manager verifying online state"),this.onlineManager.checkOnlineStatus(function(n){return t._xhrValidateIsOnlineCallback(n,e)})}},{key:"_xhrValidateIsOnlineCallback",value:function(e,t){s.debug("Sync Manager online check result is "+e),e?(t.retryCount++,this._processNextRequest()):this._xhrHandleConnectionError()}},{key:"_xhrSuccess",value:function(e){var t=e.request;s.debug("Sync Manager "+(t instanceof i?"Websocket":"XHR")+" "+t.operation+" Request on target "+t.target+" has Succeeded",t.toObject()),e.data&&s.debug(e.data),t.success=!0,this._removeRequest(t,!0),t.callback&&t.callback(e),this._processNextRequest(),this.trigger("sync:success",{target:t.target,request:t,response:e.data})}},{key:"_removeRequest",value:function(e,t){var n="RECEIPT"===e.operation?this.receiptQueue:this.queue,r=n.indexOf(e);-1!==r&&n.splice(r,1),t&&this.client.dbManager.deleteObjects("syncQueue",[e])}},{key:"_purgeDependentRequests",value:function(e){this.queue=this.queue.filter(function(t){return-1===t.depends.indexOf(e.target)||t===e}),this.receiptQueue=this.receiptQueue.filter(function(t){return-1===t.depends.indexOf(e.target)||t===e})}},{key:"_purgeOnDelete",value:function(e){var t=this;this.queue.filter(function(t){return-1!==t.depends.indexOf(e.target)&&e!==t}).forEach(function(e){t.trigger("sync:abort",{target:e.target,request:e}),t._removeRequest(e,!0)})}},{key:"destroy",value:function(){this.queue.forEach(function(e){return e.destroy()}),this.queue=null,this.receiptQueue.forEach(function(e){return e.destroy()}),this.receiptQueue=null,function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_loadPersistedQueue",value:function(){var e=this;this.client.dbManager.loadSyncQueue(function(t){t.length&&(e.queue=e.queue.concat(t),e._processNextRequest())})}}]),t}();c.prototype.socketManager=null,c.prototype.requestManager=null,c.prototype.onlineManager=null,c.prototype.queue=null,c.prototype.receiptQueue=null,c.prototype.client=null,c.MAX_UNAVAILABLE_RETRY_WAIT=60,c.MAX_RETRIES_BEFORE_CORS_ERROR=3,c.MAX_RETRIES=20,c._supportedEvents=["sync:error","sync:error-will-retry","sync:success","sync:add","sync:abort"].concat(o._supportedEvents),o.initClass(c),e.exports=c},function(e,t,n){"use strict";(function(t){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(2),i=n(25),a=n(9),s=n(4),u=n(6).ACCEPT,c=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));if(i.addConnectionListener(function(e){return r._connectionListener(e)}),r.socketManager.on("message",function(){return r._connectionListener({status:"connection:success"})},r),"undefined"!=typeof window&&window.addEventListener)window.addEventListener("online",r._handleOnlineEvent.bind(r)),window.addEventListener("offline",r._handleOnlineEvent.bind(r));else{var o=t.getNativeSupport("OnlineEvents");o&&o.addEventListener("change",r._handleOnlineEvent.bind(r))}return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o),r(n,[{key:"start",value:function(){a.info("OnlineStateManager: start"),this.isClientReady=!0,this.isOnline=!0,this.checkOnlineStatus()}},{key:"stop",value:function(){a.info("OnlineStateManager: stop"),this.isClientReady=!1,this._clearCheck(),this._changeToOffline()}},{key:"_scheduleNextOnlineCheck",value:function(){if(!this.isDestroyed&&this.isClientReady&&!this.isOnline){this._clearCheck();var e=Math.min(10,this.offlineCounter+3);this.offlineCounter++;var t=s.getExponentialBackoffSeconds(this.maxOfflineWait,e);a.info("OnlineStateManager: Scheduled checkOnlineStatus "+t+" seconds"),this.onlineCheckId=setTimeout(this.checkOnlineStatus.bind(this),Math.floor(1e3*t))}}},{key:"_clearCheck",value:function(){this.onlineCheckId&&(clearTimeout(this.onlineCheckId),this.onlineCheckId=0)}},{key:"_handleOnlineEvent",value:function(e){this.offlineCounter=0,this.checkOnlineStatus()}},{key:"_onlineExpiring",value:function(){var e=this;a.info("OnlineStateManager: Online State Expiring; pinging to verify"),this._isOnlineExpiring=!0,this.checkOnlineStatus(function(t){!t&&e._isOnlineExpiring&&e._onlineExpired(),e._isOnlineExpiring=!1})}},{key:"_onlineExpired",value:function(){a.info("OnlineStateManager: Online State Expired"),this._clearCheck(),this._changeToOffline(),this._scheduleNextOnlineCheck()}},{key:"checkOnlineStatus",value:function(e){if(!this.isDestroyed){this._clearCheck();var t=this.socketManager.client;a.info("OnlineStateManager: Firing XHR for online check"),this._lastCheckOnlineStatus=new Date,i({url:t.url+"/ping?client="+t.constructor.version,method:"HEAD",headers:{accept:u}},function(t){var n=t.status;e&&e(408!==n)})}}},{key:"_changeToOffline",value:function(){this.isOnline&&(a.info("OnlineStateManager: Connection lost"),this.isOnline=!1,this.trigger("disconnected"))}},{key:"_connectionListener",value:function(e){if("connection:success"===e.status){this._isOnlineExpiring=!1;var t=this.lastMessageTime;this.lastMessageTime=new Date,this.isOnline||(this.isOnline=!0,this.offlineCounter=0,this.trigger("connected",{offlineDuration:t?Date.now()-t:0}),void 0===this.connectedCounter&&(this.connectedCounter=0),this.connectedCounter++,a.info("OnlineStateManager: Connected restored")),this._clearCheck(),this.onlineCheckId=setTimeout(this._onlineExpiring.bind(this),this.pingFrequency)}else this.isOnline?this._onlineExpiring():this._scheduleNextOnlineCheck()}},{key:"destroy",value:function(){this._clearCheck(),this.socketManager=null,function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}}]),n}();c.prototype.isClientReady=!1,c.prototype.socketManager=null,c.prototype.offlineCounter=0,c.prototype.maxOfflineWait=60,c.prototype.minBackoffWait=100,c.prototype.lastMessageTime=null,c.prototype._lastCheckOnlineStatus=null,c.prototype.isOnline=!1,c.prototype.onlineCheckId=0,c.prototype._isOnlineExpiring=!1,c.prototype.pingFrequency=1e5,c._supportedEvents=["connected","disconnected"].concat(o._supportedEvents),o.initClass.apply(c,[c,"OnlineStateManager"]),e.exports=c}).call(this,n(11))},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(4),i=n(9),a=n(3),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.client=t.client,this.socketManager=t.socketManager,this.socketManager.on({message:this._handleResponse,disconnected:this._reset},this),this._requestCallbacks={}}return r(e,[{key:"_reset",value:function(){this._requestCallbacks={}}},{key:"cancelOperation",value:function(e){var t=this;Object.keys(this._requestCallbacks).forEach(function(n){t._requestCallbacks[n].method===e&&delete t._requestCallbacks[n]})}},{key:"_handleResponse",value:function(e){if("response"===e.data.type){var t=e.data.body,n=t.request_id;i.debug("Websocket response "+n+" "+(t.success?"Successful":"Failed")),n&&this._requestCallbacks[n]&&this._processResponse(n,e)}}},{key:"_processResponse",value:function(e,t){var n=this._requestCallbacks[e],r=t.data.body,o=(r.success?r.data:new a(r.data))||{};r.success&&(n.isChangesArray&&this._handleChangesArray(o.changes),"batch"in o&&(n.batchTotal=o.batch.count,n.batchIndex=o.batch.index,n.isChangesArray?n.results=n.results.concat(o.changes):"results"in o&&Array.isArray(o.results)&&(n.results=n.results.concat(o.results)),o.batch.index<o.batch.count-1))||(n.callback({success:r.success,fullData:"batch"in o?n.results:t.data,data:o}),delete this._requestCallbacks[e])}},{key:"_handleChangesArray",value:function(e){var t=this;e.forEach(function(e){return t.client.socketChangeManager._processChange(e)})}},{key:"sendRequest",value:function(e){var t=e.data,n=e.callback,r=e.isChangesArray,s=void 0!==r&&r;if(!this._isOpen())return n?n(new a({success:!1,data:{id:"not_connected",code:0,message:"WebSocket not connected"}})):void 0;var u=o.clone(t);return u.request_id="r"+this._nextRequestId++,i.debug("Request "+u.request_id+" is sending"),n&&(this._requestCallbacks[u.request_id]={request_id:u.request_id,date:Date.now(),callback:n,isChangesArray:s,method:t.method,batchIndex:-1,batchTotal:-1,results:[]}),this.socketManager.send({type:"request",body:u}),this._scheduleCallbackCleanup(),u.request_id?this._requestCallbacks[u.request_id]:void 0}},{key:"_scheduleCallbackCleanup",value:function(){this._callbackCleanupId||(this._callbackCleanupId=setTimeout(this._runCallbackCleanup.bind(this),45050))}},{key:"_runCallbackCleanup",value:function(){var e=this;if(this._callbackCleanupId=0,!this.isDestroyed&&this._isOpen()){var t=0,n=!1,r=Date.now();Object.keys(this._requestCallbacks).forEach(function(o){var i=e._requestCallbacks[o];n||(i&&r<i.date+45e3?t++:r>e.socketManager._lastDataFromServerTimestamp+45e3?(n=!0,e._failAll(),e.socketManager._reconnect(!1)):e._timeoutRequest(o))}),t&&this._scheduleCallbackCleanup()}}},{key:"_failAll",value:function(){var e=this;Object.keys(this._requestCallbacks).forEach(function(t){try{i.warn("Websocket request aborted due to reconnect"),e._requestCallbacks[t].callback({success:!1,status:503,data:new a({id:"socket_dead",message:"Websocket appears to be dead. Reconnecting.",url:"https:/developer.layer.com/docs/websdk",code:0,status:503,httpStatus:503})})}catch(e){}delete e._requestCallbacks[t]})}},{key:"_timeoutRequest",value:function(e){try{i.warn("Websocket request timeout"),this._requestCallbacks[e].callback({success:!1,data:new a({id:"request_timeout",message:"The server is not responding. We know how much that sucks.",url:"https:/developer.layer.com/docs/websdk",code:0,status:408,httpStatus:408})})}catch(e){}delete this._requestCallbacks[e]}},{key:"_isOpen",value:function(){return this.socketManager._isOpen()}},{key:"destroy",value:function(){this.isDestroyed=!0,this._callbackCleanupId&&clearTimeout(this._callbackCleanupId),this._requestCallbacks=null}}]),e}();s.prototype._nextRequestId=1,s.prototype.client=null,s.prototype._requestCallbacks=null,s.prototype._callbackCleanupId=0,s.prototype.socketManager=null,e.exports=s},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(2),i=n(25),a=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof e&&(e={id:e}),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"loadContent",value:function(e,t){i({url:this.downloadUrl,responseType:"arraybuffer"},function(n){if(n.success)if("undefined"!=typeof Blob){var r=new Blob([n.data],{type:e});t(null,r)}else t(null,n.data);else t(n.data,null)})}},{key:"refreshContent",value:function(e,t){var n=this;e.xhr({url:this.refreshUrl,method:"GET",sync:!1},function(e){var r=e.data;n.expiration=new Date(r.expiration),n.downloadUrl=r.download_url,t&&t(n.downloadUrl)})}},{key:"isExpired",value:function(){return this.expiration.getTime()-6e5<Date.now()}}],[{key:"_createFromServer",value:function(e){return new t({id:e.id,downloadUrl:e.download_url,expiration:new Date(e.expiration),refreshUrl:e.refresh_url})}}]),t}();a.prototype.id="",a.prototype.blob=null,a.prototype.downloadUrl="",a.prototype.refreshUrl="",a.prototype.size=0,a.prototype.expiration=null,o.initClass.apply(a,[a,"Content"]),e.exports=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(2),i=n(152),a=n(25),s=n(24),u=n(3),c=n(4),l=n(9),f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e;if("string"==typeof e)n={body:e},(arguments.length<=1?0:arguments.length-1)>0?n.mimeType=arguments.length<=1?void 0:arguments[1]:n.mimeType="text/plain";else if(c.isBlob(e)||c.isBlob(e.body)){var r=e instanceof Blob?e:e.body;n={mimeType:c.isBlob(e.body)?e.mimeType:r.type,body:r,size:r.size,hasContent:!0}}var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));!o.size&&o.body&&(o.size=o.body.length),"base64"===e.encoding&&(o.body=c.base64ToBlob(o.body));var i=c.isBlob(o.body);return o.isTextualMimeType()||(!i&&o.body&&(o.body=new Blob([o.body],{type:o.mimeType})),o.body&&(o.url=URL.createObjectURL(o.body))),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"destroy",value:function(){this.__url&&(URL.revokeObjectURL(this.__url),this.__url=null),this.body=null,function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_getClient",value:function(){return s.get(this.clientId)}},{key:"_getMessage",value:function(){return this._getClient().getMessage(this.id.replace(/\/parts.*$/,""))}},{key:"fetchContent",value:function(e){var t=this;if(this._content&&!this.isFiring){this.isFiring=!0;var n="image/jpeg+preview"===this.mimeType?"image/jpeg":this.mimeType;this._content.loadContent(n,function(n,r){t.isDestroyed||t._fetchContentCallback(n,r,e)})}return this}},{key:"_fetchContentCallback",value:function(e,t,n){var r=this;e?this.trigger("content-loaded-error",e):(this.isFiring=!1,this.isTextualMimeType()?c.fetchTextFromFile(t,function(e){return r._fetchContentComplete(e,n)}):(this.url=URL.createObjectURL(t),this._fetchContentComplete(t,n)))}},{key:"_fetchContentComplete",value:function(e,t){var n=this._getMessage();n&&(this.body=e,this.trigger("content-loaded"),n._triggerAsync("messages:change",{oldValue:n.parts,newValue:n.parts,property:"parts"}),t&&t(this.body))}},{key:"fetchStream",value:function(e){var t=this;if(!this._content)throw new Error(u.dictionary.contentRequired);return this._content.isExpired()?this._content.refreshContent(this._getClient(),function(n){return t._fetchStreamComplete(n,e)}):this._fetchStreamComplete(this._content.downloadUrl,e),this}},{key:"_fetchStreamComplete",value:function(e,t){var n=this._getMessage();this.trigger("url-loaded"),this._triggerAsync("messageparts:change",{oldValue:"",newValue:e,property:"url"}),n._triggerAsync("messages:change",{oldValue:n.parts,newValue:n.parts,property:"parts"}),t&&t(e)}},{key:"_send",value:function(e){this._content?this._sendWithContent():this.size>2048?this._generateContentAndSend(e):c.isBlob(this.body)?this._sendBlob(e):this._sendBody()}},{key:"_sendBody",value:function(){if("string"!=typeof this.body){var e="MessagePart.body must be a string in order to send it";throw l.error(e,{mimeType:this.mimeType,body:this.body}),new Error(e)}var t={mime_type:this.mimeType,body:this.body};this.trigger("parts:send",t)}},{key:"_sendWithContent",value:function(){this.trigger("parts:send",{mime_type:this.mimeType,content:{size:this.size,id:this._content.id}})}},{key:"_sendBlob",value:function(e){var t=this;c.blobToBase64(this.body,function(n){if(n.length<2048){var r={body:n.substring(n.indexOf(",")+1),mime_type:t.mimeType,encoding:"base64"};t.trigger("parts:send",r)}else t._generateContentAndSend(e)})}},{key:"_generateContentAndSend",value:function(e){var t=this;this.hasContent=!0;var n=void 0;n=c.isBlob(this.body)?this.body:c.base64ToBlob(c.utoa(this.body),this.mimeType),e.xhr({url:"/content",method:"POST",headers:{"Upload-Content-Type":this.mimeType,"Upload-Content-Length":n.size,"Upload-Origin":"undefined"!=typeof location?location.origin:""},sync:{}},function(r){return t._processContentResponse(r.data,n,e)})}},{key:"_processContentResponse",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._content=new i(e.id),this.hasContent=!0,a({url:e.upload_url,method:"PUT",data:t,headers:{"Upload-Content-Length":this.size,"Upload-Content-Type":this.mimeType}},function(i){return r._processContentUploadResponse(i,e,n,t,o)})}},{key:"_processContentUploadResponse",value:function(e,n,r,o,i){e.success?this.trigger("parts:send",{mime_type:this.mimeType,content:{size:this.size,id:this._content.id}}):r.onlineManager.isOnline?i<t.MaxRichContentRetryCount?this._processContentResponse(n,o,r,i+1):(l.error("Failed to upload rich content; triggering message:sent-error event; status of ",e.status,this),this._getMessage().trigger("messages:sent-error",{error:new u({message:"Upload of rich content failed",httpStatus:e.status,code:0,data:e.xhr}),part:this})):r.onlineManager.once("connected",this._processContentResponse.bind(this,n,r),this)}},{key:"getText",value:function(){return this.isTextualMimeType()?this.body:""}},{key:"_populateFromServer",value:function(e){var t=this;e.content&&this._content?(this._content.downloadUrl=e.content.download_url,this._content.expiration=new Date(e.content.expiration)):this.isTextualMimeType()?this.body=e.body:e.body?c.blobToBase64(this.body,function(n){n!==c.btoa(e.body)&&(t.body=new Blob([e.body],{type:t.mimeType}),t.body&&(t.url=URL.createObjectURL(t.body)))}):(this.body=null,this.url="")}},{key:"isTextualMimeType",value:function(){var e=0;for(e=0;e<t.TextualMimeTypes.length;e++){var n=t.TextualMimeTypes[e];if("string"==typeof n){if(n===this.mimeType)return!0}else if(n instanceof RegExp&&this.mimeType.match(n))return!0}return!1}},{key:"__updateBody",value:function(e,t){this._triggerAsync("messageparts:change",{property:"body",newValue:e,oldValue:t})}},{key:"__updateMimeType",value:function(e,t){this._triggerAsync("messageparts:change",{property:"mimeType",newValue:e,oldValue:t})}},{key:"_updateUrl",value:function(e,t){t&&URL.revokeObjectURL(t)}}],[{key:"_createFromServer",value:function(e){var n=e.content?i._createFromServer(e.content):null;return"base64"===e.encoding&&(e.body=c.base64ToBlob(e.body,e.mimeType)),new t({id:e.id,mimeType:e.mime_type,body:e.body||"",_content:n,hasContent:Boolean(n),size:e.size||0})}}]),t}();f.prototype.clientId="",f.prototype.id="",f.prototype.body=null,f.prototype._content=null,f.prototype.hasContent=!1,Object.defineProperty(f.prototype,"url",{enumerable:!0,get:function(){return this.__url?this.__url:this._content?this._content.isExpired()?"":this._content.downloadUrl:""},set:function(e){this.__url=e}}),f.prototype.mimeType="text/plain",f.prototype.size=0,f.TextualMimeTypes=[/^text\/.+$/,/^application\/json(\+.+)?$/],f.MaxRichContentRetryCount=3,f._supportedEvents=["parts:send","content-loaded","url-loaded","content-loaded-error","messageparts:change"].concat(o._supportedEvents),o.initClass.apply(f,[f,"MessagePart"]),e.exports=f},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(4),i=n(9),a=n(39),s=n(54),u=n(52),c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.client=t.client,t.socketManager.on("message",this._handleChange,this)}return r(e,[{key:"_handleChange",value:function(e){"change"===e.data.type?this._processChange(e.data.body):"operation"===e.data.type&&this.client.trigger("websocket:operation",{data:e.data.body})}},{key:"_processChange",value:function(e){switch(e.operation){case"create":i.info("Websocket Change Event: Create "+e.object.type+" "+e.object.id),i.debug(e.data),this._handleCreate(e);break;case"delete":i.info("Websocket Change Event: Delete "+e.object.type+" "+e.object.id),i.debug(e.data),this._handleDelete(e);break;case"update":i.info("Websocket Change Event: Patch "+e.object.type+" "+e.object.id+": "+e.data.map(function(e){return e.property}).join(", ")),i.debug(e.data),this._handlePatch(e)}}},{key:"_handleCreate",value:function(e){e.data.fromWebsocket=!0,this.client._createObject(e.data)}},{key:"_handleDelete",value:function(e){var t=this.getObject(e);t&&t._handleWebsocketDelete(e.data)}},{key:"_handlePatch",value:function(e){var t=this.getObject(e);if(t)try{t._inLayerParser=!0,o.layerParse({object:t,type:e.object.type,operations:e.data,client:this.client}),t._inLayerParser=!1}catch(t){i.error("websocket-manager: Failed to handle event",e.data)}else switch(o.typeFromID(e.object.id)){case"channels":u._loadResourceForPatch(e.data)&&this.client.getObject(e.object.id,!0);break;case"conversations":s._loadResourceForPatch(e.data)&&this.client.getObject(e.object.id,!0);break;case"messages":a._loadResourceForPatch(e.data)&&this.client.getMessage(e.object.id,!0)}}},{key:"getObject",value:function(e){return this.client.getObject(e.object.id)}},{key:"destroy",value:function(){this.client=null}}]),e}();c.prototype.client=null,e.exports=c},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(2),i=n(4),a=n(9),s=n(3),u=n(6).WEBSOCKET_PROTOCOL,c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(!n.client)throw new Error("SocketManager requires a client");return n._onMessage=n._onMessage.bind(n),n._onOpen=n._onOpen.bind(n),n._onSocketClose=n._onSocketClose.bind(n),n._onError=n._onError.bind(n),n.client.isAuthenticated&&n.client.onlineManager.isOnline&&(n.trigger("connecting",{from:"constructor",why:"initialization"}),n.connect()),n.client.on("online",n._onlineStateChange,n),n.client.on("authenticated",function(){n.trigger("connecting",{from:"constructor",why:"authenticated"}),n.connect()},n),n._lastTimestamp=Date.now(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"_reset",value:function(){this._lastTimestamp=0,this._lastDataFromServerTimestamp=0,this._hasZeroCounter=!1,this._needsReplayFrom=null}},{key:"_onlineStateChange",value:function(e){this.client.isAuthenticated&&(e.isOnline?(this.trigger("connecting",{from:"_onlineStateChange",why:"detect change to online"}),this._reconnect(e.reset)):(a.info("Websocket closed due to ambigious connection state"),this.trigger("disconnecting",{from:"_onlineStateChange",why:"detect change to offline"}),this.close()))}},{key:"_reconnect",value:function(e){this.close(),e&&this._reset(),this.connect()}},{key:"connect",value:function(e){if(!this.client.isDestroyed&&this.client.isOnline&&this.client._wantsToBeConnected){if(this._socket)return this._reconnect();this._closing=!1;var t=this.client.websocketUrl+"/?session_token="+this.client.sessionToken+"&client-id="+this.client._tabId+"&layer-xdk-version="+this.client.constructor.version;a.info("Websocket Connecting");var r="undefined"==typeof WebSocket?n(362).w3cwebsocket:WebSocket;this._socket=new r(t,u),"undefined"==typeof WebSocket?(this._socket.onmessage=this._onMessage,this._socket.onclose=this._onSocketClose,this._socket.onopen=this._onOpen,this._socket.onerror=this._onError):(this._socket.addEventListener("message",this._onMessage),this._socket.addEventListener("close",this._onSocketClose),this._socket.addEventListener("open",this._onOpen),this._socket.addEventListener("error",this._onError)),this._connectionFailedId=setTimeout(this._connectionFailed.bind(this),5e3)}}},{key:"_clearConnectionFailed",value:function(){this._connectionFailedId&&(clearTimeout(this._connectionFailedId),this._connectionFailedId=0)}},{key:"_connectionFailed",value:function(){this._connectionFailedId=0;var e="Websocket failed to connect to server";a.warn(e);try{this.isOpen=!1,this._removeSocketEvents(),this._socket&&(this._socket.close(),this._socket&&(this._socket=null))}catch(e){}this._onError(new Error(e))}},{key:"_onOpen",value:function(){this._clearConnectionFailed(),this._isOpen()&&(this._lastSkippedCounter=0,this.isOpen=!0,this.trigger("connected",{verified:!1}),a.debug("Websocket Connected"),this._lastTimestamp?(this.trigger("replaying-events",{from:"resync",why:"reconnected"}),this.resync(this._lastTimestamp)):(this._enablePresence(),this._reschedulePing()))}},{key:"_isOpen",value:function(){return!!this._socket&&("undefined"==typeof WebSocket||this._socket&&this._socket.readyState===WebSocket.OPEN)}},{key:"_onError",value:function(e){this._closing||(this._clearConnectionFailed(),a.debug("Websocket Error causing websocket to close",e),this.isOpen?(this._hasZeroCounter||(a.error("An apparrently open connection has closed without any messages; there may be a problem with the websocket services"),this._lostConnectionCount++),this._onSocketClose(),this._socket.close(),this._socket=null):(this._removeSocketEvents(),this._lostConnectionCount++,this.trigger("schedule-reconnect",{from:"_onError",why:"websocket failed to open"}),this._scheduleReconnect()))}},{key:"sendSignal",value:function(e){this._isOpen()&&this._socket.send(JSON.stringify({type:"signal",body:e}))}},{key:"getCounter",value:function(e){var t=this;Date.now()-this._lastGetCounterRequest<1e3?this._lastGetCounterId||(this._lastGetCounterId=setTimeout(function(){t._lastGetCounterId=0,t.getCounter(e)},Date.now()-this._lastGetCounterRequest-1e3)):(this._lastGetCounterRequest=Date.now(),this._lastGetCounterId&&(clearTimeout(this._lastGetCounterId),this._lastGetCounterId=0),a.debug("Websocket request: getCounter"),this.client.socketRequestManager.sendRequest({data:{method:"Counter.read"},callback:function(t){a.debug("Websocket response: getCounter "+t.data.counter),e&&(t.success?e(!0,t.data.counter,t.fullData.counter):e(!1))},isChangesArray:!1}))}},{key:"resync",value:function(e,t){var n=this;if(!e)throw new Error(s.dictionary.valueNotSupported);"number"==typeof e&&(e=new Date(e).toISOString()),this.client.socketRequestManager.cancelOperation("Event.replay"),this.client.socketRequestManager.cancelOperation("Presence.sync"),this._replayEvents(e,function(){n._enablePresence(e,function(){n.trigger("synced"),t&&t()})})}},{key:"_replayEvents",value:function(e,t){var n=this;this._isOpen()||this._needsReplayFrom?(a.info("Websocket request: _replayEvents"),this.client.socketRequestManager.sendRequest({data:{method:"Event.replay",data:{from_timestamp:e}},callback:function(r){return n._replayEventsComplete(e,t,r.success)},isChangesArray:!1})):(a.debug("Websocket request: _replayEvents updating _needsReplayFrom"),this._needsReplayFrom=e)}},{key:"_replayEventsComplete",value:function(e,n,r){t.ENABLE_REPLAY_RETRIES?this._replayEventsCompleteWithRetries(e,n,r):this._replayEventsCompleteWithoutRetries(e,n,r)}},{key:"_replayEventsCompleteWithoutRetries",value:function(e,t,n){n?(this._replayRetryCount=0,this._needsReplayFrom=null,a.info("Websocket replay complete"),t&&t()):(this._needsReplayFrom=null,a.warn("Websocket Event.replay has failed"))}},{key:"_replayEventsCompleteWithRetries",value:function(e,t,n){var r=this;if(n)if(this._replayRetryCount=0,this._needsReplayFrom){if(this._needsReplayFrom){a.info("Websocket replay partially complete");var o=this._needsReplayFrom;this._needsReplayFrom=null,this.trigger("replaying-events",{from:"_replayEventsComplete",why:"_needsReplayFrom: "+o}),this._replayEvents(o)}}else a.info("Websocket replay complete"),t&&t();else if(this._replayRetryCount<8){var s=Math.min(this._replayRetryCount+4,11),u=i.getExponentialBackoffSeconds(20,s);a.info("Websocket replay retry in "+u+" ms"),setTimeout(function(){r.trigger("replaying-events",{from:"_replayEventsComplete",why:"_replayRetryCount: "+r._replayRetryCount}),r._replayEvents(e)},1e3*u),this._replayRetryCount++}else this._needsReplayFrom=null,a.error("Websocket Event.replay has failed")}},{key:"_enablePresence",value:function(e,t){this.client.socketRequestManager.sendRequest({data:{method:"Presence.subscribe"},callback:null,isChangesArray:!1}),this.client.isPresenceEnabled&&this.client.socketRequestManager.sendRequest({data:{method:"Presence.update",data:[{operation:"set",property:"status",value:"auto"}]},callback:null,isChangesArray:!1}),e?this.syncPresence(e,t):t&&t({success:!0})}},{key:"syncPresence",value:function(e,t){if(e)return this.client.socketRequestManager.sendRequest({data:{method:"Presence.sync",data:{since:e}},isChangesArray:!0,callback:t})}},{key:"_onMessage",value:function(e){this._lostConnectionCount=0;try{var t=JSON.parse(e.data),n=0===t.counter,r=!this._hasZeroCounter&&n;this._hasZeroCounter=this._hasZeroCounter||n,this._lastDataFromServerTimestamp=Date.now(),n&&!r?(this.trigger("replaying-events",{from:"_onMessage",why:"Zero Counter"}),this.resync(this._lastTimestamp)):(this._lastTimestamp=new Date(t.timestamp).getTime(),n&&r&&this.trigger("connected",{verified:!0})),this.trigger("message",{data:t}),this._reschedulePing()}catch(t){a.error("Layer-Websocket: Failed to handle websocket message: "+t+"\n",e.data)}}},{key:"_reschedulePing",value:function(){this._nextPingId&&clearTimeout(this._nextPingId),this._nextPingId=setTimeout(this._ping.bind(this),this.pingFrequency)}},{key:"_ping",value:function(){a.debug("Websocket ping"),this._nextPingId=0,this._isOpen()&&this.getCounter(this._reschedulePing.bind(this))}},{key:"close",value:function(){a.debug("Websocket close requested"),this._closing=!0,this.isOpen=!1,this._socket&&(this._onSocketClose(),this._socket.close(),this._socket=null)}},{key:"send",value:function(e){this._socket.send(JSON.stringify(e))}},{key:"destroy",value:function(){this.trigger("disconnecting",{from:"destroy",why:"client is being destroyed"}),this.close(),this._nextPingId&&clearTimeout(this._nextPingId),function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_onSocketClose",value:function(){a.debug("Websocket closed"),this.isOpen=!1,this._hasZeroCounter=!1,this._closing||(this.trigger("schedule-reconnect",{from:"_onSocketClose",why:"Socket closed"}),this._scheduleReconnect()),this._removeSocketEvents(),this.trigger("disconnected")}},{key:"_removeSocketEvents",value:function(){"undefined"!=typeof WebSocket&&this._socket?(this._socket.removeEventListener("message",this._onMessage),this._socket.removeEventListener("close",this._onSocketClose),this._socket.removeEventListener("open",this._onOpen),this._socket.removeEventListener("error",this._onError)):this._socket&&(this._socket.onmessage=null,this._socket.onclose=null,this._socket.onopen=null,this._socket.onerror=null),this._clearConnectionFailed()}},{key:"_scheduleReconnect",value:function(){var e=this;if(!this.isDestroyed&&this.client.isOnline&&this.client.isAuthenticated){var t=Math.min(this._lostConnectionCount+4,13),n=i.getExponentialBackoffSeconds(this.maxDelaySecondsBetweenReconnect,t);this.trigger("scheduling-reconnect",{counter:t,delay:n}),a.warn("Websocket Reconnect in "+n+" seconds"),this._reconnectId||(this._reconnectId=setTimeout(function(){e._reconnectId=0,e._validateSessionBeforeReconnect()},1e3*n))}}},{key:"_validateSessionBeforeReconnect",value:function(){var e=this;!this.isDestroyed&&this.client.isOnline&&this.client.isAuthenticated&&this.client.xhr({url:"/?action=validateConnectionForWebsocket&client="+this.client.constructor.version,method:"GET",sync:!1},function(t){t.success?(e.trigger("connecting",{from:"_validateSessionBeforeReconnect",why:"has valid session token"}),e.connect()):401===t.status||(e.trigger("schedule-reconnect",{from:"_validateSessionBeforeReconnect",why:"Unexpected error: "+t.status}),e._scheduleReconnect())})}}]),t}();c.prototype.isOpen=!1,c.prototype._reconnectId=0,c.prototype._connectionFailedId=0,c.prototype._lastTimestamp=0,c.prototype._lastDataFromServerTimestamp=0,c.prototype._hasZeroCounter=!1,c.prototype._needsReplayFrom=null,c.prototype._replayRetryCount=0,c.prototype._lastGetCounterRequest=0,c.prototype._lastGetCounterId=0,c.prototype.pingFrequency=3e4,c.prototype.maxDelaySecondsBetweenReconnect=480,c.prototype.client=null,c.prototype._socket=null,c.prototype._closing=!1,c.prototype._lostConnectionCount=0,c.IGNORE_SKIPPED_COUNTER_INTERVAL=6e4,c.ENABLE_REPLAY_RETRIES=!1,c._supportedEvents=["message","connected","disconnected","syncing","synced","connecting","disconnecting","replaying-events","scheduling-reconnect","schedule-reconnect","ignore-skipped-counter"].concat(o._supportedEvents),o.initClass.apply(c,[c,"SocketManager"]),e.exports=c},function(e,t,n){"use strict";(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(25),a=n(2),s=n(155),u=n(154),c=n(151),l=n(3),f=n(150),d=n(149),p=n(148),h=n(32),y=n(21),g=y.XHRSyncEvent,m=y.WebsocketSyncEvent,v=n(6),b=v.ACCEPT,_=v.LOCALSTORAGE_KEYS,A=n(9),C=n(4),w=function(e){function n(e){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),!e.appId)throw new Error(l.dictionary.appIdMissing);return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a),o(n,[{key:"_initComponents",value:function(){var e=this;this.socketManager=new s({client:this}),this.socketManager.on("connecting",function(t){return e.trigger("websocket:connecting")}),this.socketManager.on("disconnecting",function(t){return e.trigger("websocket:disconnecting",{from:t.from,why:t.why})}),this.socketManager.on("replaying-events",function(t){return e.trigger("websocket:replaying-events",{from:t.from,why:t.why})}),this.socketManager.on("schedule-reconnect",function(t){return e.trigger("websocket:schedule-reconnect",{from:t.from,why:t.why})}),this.socketManager.on("scheduling-reconnect",function(t){return e.trigger("websocket:scheduling-reconnect",{counter:t.counter,delay:t.delay})}),this.socketManager.on("ignore-skipped-counter",function(t){return e.trigger("websocket:ignore-skipped-counter",{from:t.from,why:t.why})}),this.socketChangeManager=new u({client:this,socketManager:this.socketManager}),this.socketRequestManager=new c({client:this,socketManager:this.socketManager}),this.onlineManager=new f({socketManager:this.socketManager}),this.onlineManager.on("connected",this._handleOnlineChange,this),this.onlineManager.on("disconnected",this._handleOnlineChange,this),this.syncManager=new d({onlineManager:this.onlineManager,socketManager:this.socketManager,requestManager:this.socketRequestManager,client:this})}},{key:"_destroyComponents",value:function(){this.syncManager.destroy(),this.onlineManager.destroy(),this.socketManager.destroy(),this.socketChangeManager.destroy(),this.socketRequestManager.destroy(),this.dbManager&&this.dbManager.destroy()}},{key:"_isPersistedSessionsDisabled",value:function(){return!t.localStorage||this.persistenceFeatures&&!this.persistenceFeatures.sessionToken}},{key:"_restoreLastSession",value:function(){if(!this._isPersistedSessionsDisabled())try{var e=t.localStorage[_.SESSIONDATA+this.appId];if(!e)return;var n=JSON.parse(e);n.expires<Date.now()?t.localStorage.removeItem(_.SESSIONDATA+this.appId):this.sessionToken=n.sessionToken}catch(e){}}},{key:"_restoreLastUser",value:function(){try{var e=t.localStorage[_.SESSIONDATA+this.appId];if(!e)return null;var n=JSON.parse(e).user;return new h({clientId:this.appId,sessionOwner:!0,fromServer:n})}catch(e){return null}}},{key:"_hasUserIdChanged",value:function(e){try{var n=t.localStorage[_.SESSIONDATA+this.appId];return!n||JSON.parse(n).user.user_id!==e}catch(e){return!0}}},{key:"_connect",value:function(){var e=this;this._triggerAsync("state-change",{started:!0,type:"authentication",telemetryId:"auth_time",id:null}),this.xhr({url:"/nonces",method:"POST",sync:!1},function(t){return e._connectionResponse(t)})}},{key:"connect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.isAuthenticated)return this;var t=void 0;return this.isConnected=!1,this._lastChallengeTime=0,this._wantsToBeAuthenticated=!0,this._wantsToBeConnected=!0,this.user=null,this.onlineManager.start(),this.isTrustedDevice&&e&&!this._isPersistedSessionsDisabled()&&!this._hasUserIdChanged(e)||this._clearStoredData(),this.isTrustedDevice&&e&&(this._restoreLastSession(e),(t=this._restoreLastUser())&&(this.user=t)),this.user||(this.user=new h({userId:e,sessionOwner:!0,clientId:this.appId,id:e?h.prefixUUID+encodeURIComponent(e):""})),this.sessionToken&&this.user.userId?this._sessionTokenRestored():this._connect(),this}},{key:"connectWithSession",value:function(e,t){var n=this;if(this.isAuthenticated)return this;var r=void 0;if(this.isConnected=!1,this.user=null,this._lastChallengeTime=0,this._wantsToBeAuthenticated=!0,this._wantsToBeConnected=!0,!e||!t)throw new Error(l.dictionary.sessionAndUserRequired);return(!this.isTrustedDevice||this._isPersistedSessionsDisabled()||this._hasUserIdChanged(e))&&this._clearStoredData(),this.isTrustedDevice&&(r=this._restoreLastUser())&&(this.user=r),this.onlineManager.start(),this.user||(this.user=new h({userId:e,sessionOwner:!0,clientId:this.appId})),this.isConnected=!0,setTimeout(function(){n.isAuthenticated||n._authComplete({session_token:t},!1)},1),this}},{key:"reconnect",value:function(){this.isAuthenticated?(this._wantsToBeConnected=!0,this._clientReady(),this.onlineManager.start(),this.socketManager.connect()):this.sessionToken&&this.user&&this.user.userId?this.connectWithSession(this.user.userId,this.sessionToken):this.connect()}},{key:"disconnect",value:function(){this.isReady=!1,this._wantsToBeConnected=!1,this.socketManager.close(),this.onlineManager.stop()}},{key:"_connectionResponse",value:function(e){e.success?this._connectionComplete(e.data):this._connectionError(e.data)}},{key:"_connectionComplete",value:function(e){this.isConnected=!0,this.trigger("connected"),this._authenticate(e.nonce)}},{key:"_connectionError",value:function(e){this.trigger("connected-error",{error:e})}},{key:"_authenticate",value:function(e){this._lastChallengeTime=Date.now(),e&&this.trigger("challenge",{nonce:e,callback:this.answerAuthenticationChallenge.bind(this)})}},{key:"answerAuthenticationChallenge",value:function(e){var t=this;if(!e)throw new Error(l.dictionary.identityTokenMissing);var n=C.decode(e.split(".")[1]),r=JSON.parse(n);if(!r.prn)throw new Error("Your identity token prn (user id) is empty");if(this.user.userId&&this.user.userId!==r.prn)throw new Error(l.dictionary.invalidUserIdChange);this.user._setUserId(r.prn),r.display_name&&(this.user.displayName=r.display_name),r.avatar_url&&(this.user.avatarUrl=r.avatar_url),this.xhr({url:"/sessions",method:"POST",sync:!1,data:{identity_token:e,app_id:this.appId}},function(n){return t._authResponse(n,e)})}},{key:"_authResponse",value:function(e,t){this._triggerAsync("state-change",{ended:!0,type:"authentication",telemetryId:"auth_time",result:e.success}),e.success?this._authComplete(e.data,!1):this._authError(e.data,t)}},{key:"_authComplete",value:function(e,n){if(!e||!e.session_token)throw new Error(l.dictionary.sessionTokenMissing);if(this.sessionToken=e.session_token,!this._isPersistedSessionsDisabled()&&!n)try{t.localStorage[_.SESSIONDATA+this.appId]=JSON.stringify({sessionToken:this.sessionToken||"",user:p.prototype._getIdentityData([this.user],!0)[0],expires:Date.now()+2592e6})}catch(e){}this._clientAuthenticated()}},{key:"_authError",value:function(e,t){this.trigger("authenticated-error",{error:e})}},{key:"_sessionTokenRestored",value:function(){this.isConnected=!0,this.trigger("connected"),this._clientAuthenticated()}},{key:"_clientAuthenticated",value:function(){var e=this;if(this.isAuthenticated=!0,this.trigger("authenticated"),this.isTrustedDevice||(this.isPersistenceEnabled=!1),!this.persistenceFeatures||!this.isPersistenceEnabled){var t=void 0;t=this.persistenceFeatures&&"sessionToken"in this.persistenceFeatures?Boolean(this.persistenceFeatures.sessionToken):this.isTrustedDevice,this.persistenceFeatures={conversations:this.isPersistenceEnabled,channels:this.isPersistenceEnabled,messages:this.isPersistenceEnabled,identities:this.isPersistenceEnabled,syncQueue:this.isPersistenceEnabled,sessionToken:t}}this.dbManager||(this.dbManager=new p({client:this,tables:this.persistenceFeatures,enabled:this.isPersistenceEnabled})),this.isPersistenceEnabled?this.dbManager.onOpen(function(){return e._loadUser()}):this._loadUser()}},{key:"_loadUser",value:function(){var e=this;this.user.isFullIdentity?this._clientReady():(this.user._load(),this.user.once("identities:loaded",function(){e._isPersistedSessionsDisabled()||(e._writeSessionOwner(),e.user.on("identities:change",e._writeSessionOwner,e)),e._clientReady()}).once("identities:loaded-error",function(){e.user.displayName||(e.user.displayName=e.defaultOwnerDisplayName),e._clientReady()}))}},{key:"_writeSessionOwner",value:function(){try{var e=JSON.parse(t.localStorage[_.SESSIONDATA+this.appId]);e.user=p.prototype._getIdentityData([this.user])[0],t.localStorage[_.SESSIONDATA+this.appId]=JSON.stringify(e)}catch(e){}}},{key:"_clientReady",value:function(){this.isReady||(this._wantsToBeConnected=!0,this._wantsToBeAuthenticated=!0,this.isReady=!0,this.trigger("ready"))}},{key:"logout",value:function(e){this._wantsToBeAuthenticated=!1,this._wantsToBeConnected=!0;var t=1,n=0;return this.isAuthenticated&&(t++,this.xhr({method:"DELETE",url:"/sessions/"+escape(this.sessionToken),sync:!1},function(){++n===t&&e&&e()})),this._clearStoredData(function(){++n===t&&e&&e()}),this._resetSession(),this}},{key:"_clearStoredData",value:function(e){t.localStorage&&localStorage.removeItem(_.SESSIONDATA+this.appId),this.dbManager?this.dbManager.deleteTables(e):e&&e()}},{key:"_resetSession",value:function(){this.isReady=!1,this.isConnected=!1,this.isAuthenticated=!1,this.sessionToken&&(this.sessionToken="",t.localStorage&&localStorage.removeItem(_.SESSIONDATA+this.appId)),this.trigger("deauthenticated"),this.onlineManager.stop()}},{key:"registerIOSPushToken",value:function(e,t){this.xhr({url:"push_tokens",method:"POST",sync:!1,data:{token:e.token,type:"apns",device_id:e.deviceId,ios_version:e.iosVersion,apns_bundle_id:e.bundleId}},function(e){return t(e.data)})}},{key:"registerAndroidPushToken",value:function(e,t){this.xhr({url:"push_tokens",method:"POST",sync:!1,data:{token:e.token,type:"gcm",device_id:e.deviceId,gcm_sender_id:e.senderId}},function(e){return t(e.data)})}},{key:"unregisterPushToken",value:function(e,t){this.xhr({url:"push_tokens/"+e,method:"DELETE"},function(e){return t(e.data)})}},{key:"__adjustAppId",value:function(){if(this.isConnected)throw new Error(l.dictionary.cantChangeIfConnected)}},{key:"__adjustUser",value:function(e){if(this.isConnected)throw new Error(l.dictionary.cantChangeIfConnected)}},{key:"_addIdentity",value:function(e){}},{key:"_removeIdentity",value:function(e){}},{key:"sendSocketRequest",value:function(e,t){var n=Boolean(e.isChangesArray);if(this._wantsToBeAuthenticated&&!this.isAuthenticated&&this._connect(),e.sync){var r=e.sync.target,o=e.sync.depends;r&&!o&&(o=[r]),this.syncManager.request(new m({data:e.body,operation:e.method,returnChangesArray:n,target:r,depends:o,callback:t}))}else"function"==typeof e.data&&(e.data=e.data()),this.socketRequestManager.sendRequest({data:e,isChangesArray:n,callback:t})}},{key:"_handleOnlineChange",value:function(e){if(this._wantsToBeAuthenticated&&this._wantsToBeConnected){var t=e.offlineDuration,r="connected"===e.eventName,o={isOnline:r};r&&(o.reset=t>n.ResetAfterOfflineDuration,this.isAuthenticated||this._connect()),this.trigger("online",o)}}},{key:"xhr",value:function(e,t){return e.sync&&e.sync.target||(e.url=this._xhrFixRelativeUrls(e.url||"")),e.withCredentials=!0,e.method||(e.method="GET"),e.headers||(e.headers={}),this._xhrFixHeaders(e.headers),this._xhrFixAuth(e.headers),!1===e.sync?this._nonsyncXhr(e,t,0):this._syncXhr(e,t),this}},{key:"_syncXhr",value:function(e,t){var n=this;e.sync||(e.sync={}),this._wantsToBeAuthenticated&&!this.isAuthenticated&&this._connect();var r=e.sync.target,o=e.sync.depends;r&&!o&&(o=[r]),this.syncManager.request(new g({url:e.url,data:e.data,telemetry:e.telemetry,method:e.method,operation:e.sync.operation||e.method,headers:e.headers,callback:function(e){n._xhrResult(e,t)},target:r,depends:o}))}},{key:"_nonsyncXhr",value:function(e,t,n){var r=this;i(e,function(o){-1!==[502,503,504].indexOf(o.status)&&n<3?setTimeout(function(){return r._nonsyncXhr(e,t,n+1)},1e3):r._xhrResult(o,t)})}},{key:"_xhrFixAuth",value:function(e){this.sessionToken&&!e.Authorization&&(e.authorization='Layer session-token="'+this.sessionToken+'"')}},{key:"_xhrFixRelativeUrls",value:function(e){var t=e;return-1===e.indexOf("https://")&&-1===e.indexOf("http://")&&(t="/"===e[0]?this.url+e:this.url+"/"+e),t}},{key:"_xhrFixHeaders",value:function(e){Object.keys(e).forEach(function(t){t!==t.toLowerCase()&&(e[t.toLowerCase()]=e[t],delete e[t])}),e.accept||(e.accept=b),e["content-type"]||(e["content-type"]="application/json"),e["layer-xdk-version"]||(e["layer-xdk-version"]=this.constructor.version),e["client-id"]||(e["client-id"]=this._tabId)}},{key:"_xhrResult",value:function(e,o){this.isDestroyed||(e.success||(e.data&&"object"===r(e.data)&&this._generateError(e),401===e.status&&this._wantsToBeAuthenticated&&(this.isAuthenticated?(A.warn("SESSION EXPIRED!"),this.isAuthenticated=!1,this.isReady=!1,t.localStorage&&localStorage.removeItem(_.SESSIONDATA+this.appId),this.trigger("deauthenticated"),this._authenticate(e.data.getNonce())):this._lastChallengeTime>Date.now()+n.TimeBetweenReauths&&this._authenticate(e.data.getNonce()))),o&&o(e))}},{key:"_generateError",value:function(e){e.data=new l(e.data),e.data.httpStatus||(e.data.httpStatus=e.status),e.data.log()}}]),n}();w.prototype.isAuthenticated=!1,w.prototype.isConnected=!1,w.prototype.isReady=!1,w.prototype._wantsToBeAuthenticated=!1,w.prototype._wantsToBeConnected=!1,w.prototype.isPresenceEnabled=!0,w.prototype.appId="",w.prototype.user=null,w.prototype.sessionToken="",w.prototype._lastChallengeTime=0,w.prototype.url="https://api.layer.com",w.prototype.websocketUrl="wss://websockets.layer.com",w.prototype.socketManager=null,w.prototype.socketRequestManager=null,w.prototype.socketChangeManager=null,w.prototype.syncManager=null,w.prototype.onlineManager=null,w.prototype.isTrustedDevice=!1,w.prototype.isPersistenceEnabled=!1,w.prototype.persistenceFeatures=null,w.prototype.dbManager=null,w.prototype.defaultOwnerDisplayName="You",Object.defineProperty(w.prototype,"isOnline",{enumerable:!0,get:function(){return this.onlineManager&&this.onlineManager.isOnline}}),Object.defineProperty(w.prototype,"logLevel",{enumerable:!1,get:function(){return A.level},set:function(e){A.level=e}}),Object.defineProperty(w.prototype,"userId",{enumerable:!0,get:function(){return this.user?this.user.userId:""},set:function(){}}),w.ResetAfterOfflineDuration=108e6,w.TimeBetweenReauths=3e4,w._supportedEvents=["ready","connected","connected-error","authenticated","authenticated-error","deauthenticated","challenge","session-terminated","online","state-change","websocket:operation","websocket:connecting","websocket:disconnecting","websocket:replaying-events","websocket:scheduling-reconnect","websocket:schedule-reconnect","websocket:ignore-skipped-counter"].concat(a._supportedEvents),a.initClass.apply(w,[w,"ClientAuthenticator"]),e.exports=w}).call(this,n(11))},function(e,t,n){(function(t){t.layer&&t.layer.Client?console.error("ERROR: It appears that you have multiple copies of the Layer WebSDK in your build!"):t.layer=n(371),e.exports=t.layer}).call(this,n(11))},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(56),o=n(82);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t){e.exports=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n(385)),o=y(n(23)),i=y(n(36)),a=y(n(378)),s=y(n(42)),u=y(n(18));t.offsetCounterWithEmitOnChange=function(e){return{type:g,payload:{action:(0,h.offsetCounter)(e),event:l.EV_UNREAD_CHANGE}}};var c=y(n(377)),l=n(58),f=n(57),d=y(f),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(16)),h=n(30);function y(e){return e&&e.__esModule?e:{default:e}}var g="EMIT_ON_CHANGE",m="EMIT",v=new c.default,b={},_=function(e,t){var n=void 0;switch(e){case"user_id":n=d.default.get(f.USER_ID_COOKIE_NAME);break;case"unread_count":n=t.launcher.unread_count}return n},A=function(e,t){if((0,a.default)(l.EVENT_LIST,e))return t();console.error('[FrontChat] Event not found: "'+e+'" .')},C=function(e,t){return A(e,function(){var n=v.on(e,t);return b[e]=b[e]||[],b[e].push([t,n]),n})},w=function(e,t){return A(e,function(){if((0,s.default)(b,[e])){var n=b[e],a=(0,u.default)(n,function(e){return(0,i.default)(e[0],t)});(0,o.default)(a)||(a[1](),(0,r.default)(n,a))}})},E=function(e,t){switch(t){case l.EV_UNREAD_CHANGE:v.emit(l.EV_UNREAD_CHANGE,{unread_count:_("unread_count",e.getState())})}};var k=function(e,t,n,r){if(n){var o=n.type,i=n.payload;switch(o){case p.LOAD_API:!function(e){var t=function(t,n){return(0,l.runWrapped)(t,n,function(t){var r;switch(t.type){case l.ACTION:return void e.dispatch(p[t.name](n));case l.ON_EVENT_HANDLER:return r=C(t.event,n),E(e,t.event),r;case l.OFF_EVENT_HANDLER:return w(t.event,n);default:return _(t.name,e.getState())}})};t.value=function(t){return _(t,e.getState())},t.on=function(e,t){return C(e,t)},t.off=function(e,t){return w(e,t)},window.FrontChat=t}(e);break;case g:!function(e,t,n){e.dispatch(t),e.dispatch({type:m,payload:{event:n}})}(e,i.action,i.event);break;case m:E(e,i.event)}}};t.default=function(e){return function(t){return function(n){return e.getState(),k(e,0,n),t(n)}}}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(397)},function(e,t,n){"use strict";e.exports={}},function(e,t,n){e.exports=function(){"use strict";var e={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n=Object.defineProperty,r=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,i=Object.getOwnPropertyDescriptor,a=Object.getPrototypeOf,s=a&&a(Object);return function u(c,l,f){if("string"!=typeof l){if(s){var d=a(l);d&&d!==s&&u(c,d,f)}var p=r(l);o&&(p=p.concat(o(l)));for(var h=0;h<p.length;++h){var y=p[h];if(!(e[y]||t[y]||f&&f[y])){var g=i(l,y);try{n(c,y,g)}catch(e){}}}return c}return c}}()},function(e,t,n){"use strict";n.r(t);var r=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function o(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function i(){}var a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3})$/,l=/^#([0-9a-f]{6})$/,f=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),d=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),p=new RegExp("^rgba\\("+[a,a,a,s]+"\\)$"),h=new RegExp("^rgba\\("+[u,u,u,s]+"\\)$"),y=new RegExp("^hsl\\("+[s,u,u]+"\\)$"),g=new RegExp("^hsla\\("+[s,u,u,s]+"\\)$"),m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(e){var t;return e=(e+"").trim().toLowerCase(),(t=c.exec(e))?new w((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=l.exec(e))?b(parseInt(t[1],16)):(t=f.exec(e))?new w(t[1],t[2],t[3],1):(t=d.exec(e))?new w(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=p.exec(e))?_(t[1],t[2],t[3],t[4]):(t=h.exec(e))?_(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=y.exec(e))?k(t[1],t[2]/100,t[3]/100,1):(t=g.exec(e))?k(t[1],t[2]/100,t[3]/100,t[4]):m.hasOwnProperty(e)?b(m[e]):"transparent"===e?new w(NaN,NaN,NaN,0):null}function b(e){return new w(e>>16&255,e>>8&255,255&e,1)}function _(e,t,n,r){return r<=0&&(e=t=n=NaN),new w(e,t,n,r)}function A(e){return e instanceof i||(e=v(e)),e?new w((e=e.rgb()).r,e.g,e.b,e.opacity):new w}function C(e,t,n,r){return 1===arguments.length?A(e):new w(e,t,n,null==r?1:r)}function w(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function E(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function k(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new O(e,t,n,r)}function x(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof O)return new O(e.h,e.s,e.l,e.opacity);if(e instanceof i||(e=v(e)),!e)return new O;if(e instanceof O)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,u=a-o,c=(a+o)/2;return u?(s=t===a?(n-r)/u+6*(n<r):n===a?(r-t)/u+2:(t-n)/u+4,u/=c<.5?a+o:2-a-o,s*=60):u=c>0&&c<1?0:s,new O(s,u,c,e.opacity)}(e):new O(e,t,n,null==r?1:r)}function O(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function S(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}r(i,v,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),r(w,C,o(i,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new w(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new w(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+E(this.r)+E(this.g)+E(this.b)},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),r(O,x,o(i,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new O(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new O(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new w(S(e>=240?e-240:e+120,o,r),S(e,o,r),S(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var T=Math.PI/180,M=180/Math.PI,P=.96422,B=1,D=.82521,I=4/29,j=6/29,R=3*j*j,N=j*j*j;function F(e){if(e instanceof U)return new U(e.l,e.a,e.b,e.opacity);if(e instanceof G){if(isNaN(e.h))return new U(e.l,0,0,e.opacity);var t=e.h*T;return new U(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof w||(e=A(e));var n,r,o=H(e.r),i=H(e.g),a=H(e.b),s=z((.2225045*o+.7168786*i+.0606169*a)/B);return o===i&&i===a?n=r=s:(n=z((.4360747*o+.3850649*i+.1430804*a)/P),r=z((.0139322*o+.0971045*i+.7141733*a)/D)),new U(116*s-16,500*(n-s),200*(s-r),e.opacity)}function L(e,t,n,r){return 1===arguments.length?F(e):new U(e,t,n,null==r?1:r)}function U(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function z(e){return e>N?Math.pow(e,1/3):e/R+I}function q(e){return e>j?e*e*e:R*(e-I)}function W(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function H(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Y(e){if(e instanceof G)return new G(e.h,e.c,e.l,e.opacity);if(e instanceof U||(e=F(e)),0===e.a&&0===e.b)return new G(NaN,0,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*M;return new G(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function V(e,t,n,r){return 1===arguments.length?Y(e):new G(e,t,n,null==r?1:r)}function G(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}r(U,L,o(i,{brighter:function(e){return new U(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new U(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new w(W(3.1338561*(t=P*q(t))-1.6168667*(e=B*q(e))-.4906146*(n=D*q(n))),W(-.9787684*t+1.9161415*e+.033454*n),W(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),r(G,V,o(i,{brighter:function(e){return new G(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new G(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return F(this).rgb()}}));var K=-.14861,Z=1.78277,X=-.29227,Q=-.90649,$=1.97294,J=$*Q,ee=$*Z,te=Z*X-Q*K;function ne(e,t,n,r){return 1===arguments.length?function(e){if(e instanceof re)return new re(e.h,e.s,e.l,e.opacity);e instanceof w||(e=A(e));var t=e.r/255,n=e.g/255,r=e.b/255,o=(te*r+J*t-ee*n)/(te+J-ee),i=r-o,a=($*(n-o)-X*i)/Q,s=Math.sqrt(a*a+i*i)/($*o*(1-o)),u=s?Math.atan2(a,i)*M-120:NaN;return new re(u<0?u+360:u,s,o,e.opacity)}(e):new re(e,t,n,null==r?1:r)}function re(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function oe(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}r(re,ne,o(i,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new re(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new re(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*T,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),o=Math.sin(e);return new w(255*(t+n*(K*r+Z*o)),255*(t+n*(X*r+Q*o)),255*(t+n*($*r)),this.opacity)}}));var ie=function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return oe((n-r/t)*t,a,o,i,s)}},ae=function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return oe((n-r/t)*t,o,i,a,s)}},se=function(e){return function(){return e}};function ue(e,t){return function(n){return e+n*t}}function ce(e,t){var n=t-e;return n?ue(e,n>180||n<-180?n-360*Math.round(n/360):n):se(isNaN(e)?t:e)}function le(e){return 1==(e=+e)?fe:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):se(isNaN(t)?n:t)}}function fe(e,t){var n=t-e;return n?ue(e,n):se(isNaN(e)?t:e)}var de=function e(t){var n=le(t);function r(e,t){var r=n((e=C(e)).r,(t=C(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=fe(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function pe(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=C(t[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=e(i),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=s(e),r+""}}}var he=pe(ie),ye=pe(ae),ge=function(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=Oe(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}},me=function(e,t){var n=new Date;return t-=e=+e,function(r){return n.setTime(e+t*r),n}},ve=function(e,t){return t-=e=+e,function(n){return e+t*n}},be=function(e,t){var n,r={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=Oe(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}},_e=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ae=new RegExp(_e.source,"g");var Ce,we,Ee,ke,xe=function(e,t){var n,r,o,i=_e.lastIndex=Ae.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=_e.exec(e))&&(r=Ae.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:ve(n,r)})),i=Ae.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})},Oe=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?se(t):("number"===r?ve:"string"===r?(n=v(t))?(t=n,de):xe:t instanceof v?de:t instanceof Date?me:Array.isArray(t)?ge:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?be:ve)(e,t)},Se=function(e,t){return t-=e=+e,function(n){return Math.round(e+t*n)}},Te=180/Math.PI,Me={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Pe=function(e,t,n,r,o,i){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*Te,skewX:Math.atan(u)*Te,scaleX:a,scaleY:s}};function Be(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],u=[];return i=e(i),a=e(a),function(e,r,o,i,a,s){if(e!==o||r!==i){var u=a.push("translate(",null,t,null,n);s.push({i:u-4,x:ve(e,o)},{i:u-2,x:ve(r,i)})}else(o||i)&&a.push("translate("+o+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,u),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:ve(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,a.rotate,s,u),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:ve(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,a.skewX,s,u),function(e,t,n,r,i,a){if(e!==n||t!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:ve(e,n)},{i:s-2,x:ve(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,u),i=a=null,function(e){for(var t,n=-1,r=u.length;++n<r;)s[(t=u[n]).i]=t.x(e);return s.join("")}}}var De=Be(function(e){return"none"===e?Me:(Ce||(Ce=document.createElement("DIV"),we=document.documentElement,Ee=document.defaultView),Ce.style.transform=e,e=Ee.getComputedStyle(we.appendChild(Ce),null).getPropertyValue("transform"),we.removeChild(Ce),e=e.slice(7,-1).split(","),Pe(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),Ie=Be(function(e){return null==e?Me:(ke||(ke=document.createElementNS("http://www.w3.org/2000/svg","g")),ke.setAttribute("transform",e),(e=ke.transform.baseVal.consolidate())?(e=e.matrix,Pe(e.a,e.b,e.c,e.d,e.e,e.f)):Me)},", ",")",")"),je=Math.SQRT2;function Re(e){return((e=Math.exp(e))+1/e)/2}var Ne=function(e,t){var n,r,o=e[0],i=e[1],a=e[2],s=t[0],u=t[1],c=t[2],l=s-o,f=u-i,d=l*l+f*f;if(d<1e-12)r=Math.log(c/a)/je,n=function(e){return[o+e*l,i+e*f,a*Math.exp(je*e*r)]};else{var p=Math.sqrt(d),h=(c*c-a*a+4*d)/(2*a*2*p),y=(c*c-a*a-4*d)/(2*c*2*p),g=Math.log(Math.sqrt(h*h+1)-h),m=Math.log(Math.sqrt(y*y+1)-y);r=(m-g)/je,n=function(e){var t,n=e*r,s=Re(g),u=a/(2*p)*(s*(t=je*n+g,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[o+u*l,i+u*f,a*s/Re(je*n+g)]}}return n.duration=1e3*r,n};function Fe(e){return function(t,n){var r=e((t=x(t)).h,(n=x(n)).h),o=fe(t.s,n.s),i=fe(t.l,n.l),a=fe(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=o(e),t.l=i(e),t.opacity=a(e),t+""}}}var Le=Fe(ce),Ue=Fe(fe);function ze(e,t){var n=fe((e=L(e)).l,(t=L(t)).l),r=fe(e.a,t.a),o=fe(e.b,t.b),i=fe(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=o(t),e.opacity=i(t),e+""}}function qe(e){return function(t,n){var r=e((t=V(t)).h,(n=V(n)).h),o=fe(t.c,n.c),i=fe(t.l,n.l),a=fe(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=o(e),t.l=i(e),t.opacity=a(e),t+""}}}var We=qe(ce),He=qe(fe);function Ye(e){return function t(n){function r(t,r){var o=e((t=ne(t)).h,(r=ne(r)).h),i=fe(t.s,r.s),a=fe(t.l,r.l),s=fe(t.opacity,r.opacity);return function(e){return t.h=o(e),t.s=i(e),t.l=a(Math.pow(e,n)),t.opacity=s(e),t+""}}return n=+n,r.gamma=t,r}(1)}var Ve=Ye(ce),Ge=Ye(fe);function Ke(e,t){for(var n=0,r=t.length-1,o=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(o,o=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}var Ze=function(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n};n.d(t,"interpolate",function(){return Oe}),n.d(t,"interpolateArray",function(){return ge}),n.d(t,"interpolateBasis",function(){return ie}),n.d(t,"interpolateBasisClosed",function(){return ae}),n.d(t,"interpolateDate",function(){return me}),n.d(t,"interpolateNumber",function(){return ve}),n.d(t,"interpolateObject",function(){return be}),n.d(t,"interpolateRound",function(){return Se}),n.d(t,"interpolateString",function(){return xe}),n.d(t,"interpolateTransformCss",function(){return De}),n.d(t,"interpolateTransformSvg",function(){return Ie}),n.d(t,"interpolateZoom",function(){return Ne}),n.d(t,"interpolateRgb",function(){return de}),n.d(t,"interpolateRgbBasis",function(){return he}),n.d(t,"interpolateRgbBasisClosed",function(){return ye}),n.d(t,"interpolateHsl",function(){return Le}),n.d(t,"interpolateHslLong",function(){return Ue}),n.d(t,"interpolateLab",function(){return ze}),n.d(t,"interpolateHcl",function(){return We}),n.d(t,"interpolateHclLong",function(){return He}),n.d(t,"interpolateCubehelix",function(){return Ve}),n.d(t,"interpolateCubehelixLong",function(){return Ge}),n.d(t,"piecewise",function(){return Ke}),n.d(t,"quantize",function(){return Ze})},,,function(e,t,n){"use strict";var r=n(116),o=n(107);e.exports=function(){var e=o();return r(Array.prototype,{includes:e},{includes:function(){return Array.prototype.includes!==e}}),e}},function(e,t,n){"use strict";var r=n(66),o=RegExp.prototype.exec,i=Object.getOwnPropertyDescriptor,a=Object.prototype.toString,s="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!s)return"[object RegExp]"===a.call(e);var t=i(e,"lastIndex");return!(!t||!r(t,"value"))&&function(e){try{var t=e.lastIndex;return e.lastIndex=0,o.call(e),!0}catch(e){return!1}finally{e.lastIndex=t}}(e)}},function(e,t,n){"use strict";var r=Object.prototype.toString,o=n(113),i=n(65),a=function(e,t){var n=t||("[object Date]"===r.call(e)?String:Number);if(n===String||n===Number){var a,s,u=n===String?["toString","valueOf"]:["valueOf","toString"];for(s=0;s<u.length;++s)if(i(e[u[s]])&&(a=e[u[s]](),o(a)))return a;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")};e.exports=function(e,t){return o(e)?e:a(e,t)}},function(e,t,n){"use strict";var r=n(112),o=n(111),i=n(110),a=n(109),s=n(65),u=n(174),c=n(66),l={ToPrimitive:u,ToBoolean:function(e){return!!e},ToNumber:function(e){return Number(e)},ToInteger:function(e){var t=this.ToNumber(e);return r(t)?0:0!==t&&o(t)?i(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(r(t)||0===t||!o(t))return 0;var n=i(t)*Math.floor(Math.abs(t));return a(n,65536)},ToString:function(e){return String(e)},ToObject:function(e){return this.CheckObjectCoercible(e),Object(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new TypeError(t||"Cannot call method on "+e);return e},IsCallable:s,SameValue:function(e,t){return e===t?0!==e||1/e==1/t:r(e)&&r(t)},Type:function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"==typeof e?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0},IsPropertyDescriptor:function(e){if("Object"!==this.Type(e))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in e)if(c(e,n)&&!t[n])return!1;var r=c(e,"[[Value]]"),o=c(e,"[[Get]]")||c(e,"[[Set]]");if(r&&o)throw new TypeError("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!(!c(e,"[[Get]]")&&!c(e,"[[Set]]"))},IsDataDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!(!c(e,"[[Value]]")&&!c(e,"[[Writable]]"))},IsGenericDescriptor:function(e){if(void 0===e)return!1;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e)},FromPropertyDescriptor:function(e){if(void 0===e)return e;if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");if(this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new TypeError("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new TypeError("ToPropertyDescriptor requires an object");var t={};if(c(e,"enumerable")&&(t["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),c(e,"configurable")&&(t["[[Configurable]]"]=this.ToBoolean(e.configurable)),c(e,"value")&&(t["[[Value]]"]=e.value),c(e,"writable")&&(t["[[Writable]]"]=this.ToBoolean(e.writable)),c(e,"get")){var n=e.get;if(void 0!==n&&!this.IsCallable(n))throw new TypeError("getter must be a function");t["[[Get]]"]=n}if(c(e,"set")){var r=e.set;if(void 0!==r&&!this.IsCallable(r))throw new TypeError("setter must be a function");t["[[Set]]"]=r}if((c(t,"[[Get]]")||c(t,"[[Set]]"))&&(c(t,"[[Value]]")||c(t,"[[Writable]]")))throw new TypeError("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}};e.exports=l},function(e,t){e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){if(Object.assign)return Object.assign(e,t);for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}},function(e,t,n){"use strict";var r=Object.prototype.toString;if("function"==typeof Symbol&&"symbol"==typeof Symbol()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&i.test(o.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},function(e,t,n){"use strict";var r=Date.prototype.getDay,o=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(i?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=n(113),i=n(65),a=n(179),s=n(178);e.exports=function(e,t){if(o(e))return e;var n,u="default";if(arguments.length>1&&(t===String?u="string":t===Number&&(u="number")),r&&(Symbol.toPrimitive?n=function(e,t){var n=e[t];if(null!==n&&void 0!==n){if(!i(n))throw new TypeError(n+" returned for property "+t+" of object "+e+" is not a function");return n}}(e,Symbol.toPrimitive):s(e)&&(n=Symbol.prototype.valueOf)),void 0!==n){var c=n.call(e,u);if(o(c))return c;throw new TypeError("unable to convert exotic object to primitive")}return"default"===u&&(a(e)||s(e))&&(u="string"),function(e,t){if(void 0===e||null===e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var n,r,a,s="string"===t?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(n=e[s[a]],i(n)&&(r=n.call(e),o(r)))return r;throw new TypeError("No default value")}(e,"default"===u?"number":u)}},function(e,t,n){"use strict";var r=Array.prototype.slice,o=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==o.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,i=r.call(arguments,1),a=Math.max(0,t.length-i.length),s=[],u=0;u<a;u++)s.push("$"+u);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof n){var o=t.apply(this,i.concat(r.call(arguments)));return Object(o)===o?o:this}return t.apply(e,i.concat(r.call(arguments)))}),t.prototype){var c=function(){};c.prototype=t.prototype,n.prototype=new c,c.prototype=null}return n}},function(e,t,n){"use strict";var r=n(66),o=n(180),i=Object.prototype.toString,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,s=n(112),u=n(111),c=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,l=n(177),f=n(110),d=n(109),p=n(176),h=parseInt,y=n(114),g=y.call(Function.call,Array.prototype.slice),m=y.call(Function.call,String.prototype.slice),v=y.call(Function.call,RegExp.prototype.test,/^0b[01]+$/i),b=y.call(Function.call,RegExp.prototype.test,/^0o[0-7]+$/i),_=y.call(Function.call,RegExp.prototype.exec),A=["","​","￾"].join(""),C=new RegExp("["+A+"]","g"),w=y.call(Function.call,RegExp.prototype.test,C),E=y.call(Function.call,RegExp.prototype.test,/^[-+]0x[0-9a-f]+$/i),k=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),x=new RegExp("(^["+k+"]+)|(["+k+"]+$)","g"),O=y.call(Function.call,String.prototype.replace),S=n(175),T=n(173),M=l(l({},S),{Call:function(e,t){var n=arguments.length>2?arguments[2]:[];if(!this.IsCallable(e))throw new TypeError(e+" is not a function");return e.apply(t,n)},ToPrimitive:o,ToNumber:function(e){var t=p(e)?e:o(e,Number);if("symbol"==typeof t)throw new TypeError("Cannot convert a Symbol value to a number");if("string"==typeof t){if(v(t))return this.ToNumber(h(m(t,2),2));if(b(t))return this.ToNumber(h(m(t,2),8));if(w(t)||E(t))return NaN;var n=function(e){return O(e,x,"")}(t);if(n!==t)return this.ToNumber(n)}return Number(t)},ToInt16:function(e){var t=this.ToUint16(e);return t>=32768?t-65536:t},ToInt8:function(e){var t=this.ToUint8(e);return t>=128?t-256:t},ToUint8:function(e){var t=this.ToNumber(e);if(s(t)||0===t||!u(t))return 0;var n=f(t)*Math.floor(Math.abs(t));return d(n,256)},ToUint8Clamp:function(e){var t=this.ToNumber(e);if(s(t)||t<=0)return 0;if(t>=255)return 255;var n=Math.floor(e);return n+.5<t?n+1:t<n+.5?n:n%2!=0?n+1:n},ToString:function(e){if("symbol"==typeof e)throw new TypeError("Cannot convert a Symbol value to a string");return String(e)},ToObject:function(e){return this.RequireObjectCoercible(e),Object(e)},ToPropertyKey:function(e){var t=this.ToPrimitive(e,String);return"symbol"==typeof t?t:this.ToString(t)},ToLength:function(e){var t=this.ToInteger(e);return t<=0?0:t>c?c:t},CanonicalNumericIndexString:function(e){if("[object String]"!==i.call(e))throw new TypeError("must be a string");if("-0"===e)return-0;var t=this.ToNumber(e);return this.SameValue(this.ToString(t),e)?t:void 0},RequireObjectCoercible:S.CheckObjectCoercible,IsArray:Array.isArray||function(e){return"[object Array]"===i.call(e)},IsConstructor:function(e){return"function"==typeof e&&!!e.prototype},IsExtensible:function(e){return!Object.preventExtensions||!p(e)&&Object.isExtensible(e)},IsInteger:function(e){if("number"!=typeof e||s(e)||!u(e))return!1;var t=Math.abs(e);return Math.floor(t)===t},IsPropertyKey:function(e){return"string"==typeof e||"symbol"==typeof e},IsRegExp:function(e){if(!e||"object"!=typeof e)return!1;if(a){var t=e[Symbol.match];if(void 0!==t)return S.ToBoolean(t)}return T(e)},SameValueZero:function(e,t){return e===t||s(e)&&s(t)},GetV:function(e,t){if(!this.IsPropertyKey(t))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");return this.ToObject(e)[t]},GetMethod:function(e,t){if(!this.IsPropertyKey(t))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");var n=this.GetV(e,t);if(null!=n){if(!this.IsCallable(n))throw new TypeError(t+"is not a function");return n}},Get:function(e,t){if("Object"!==this.Type(e))throw new TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");return e[t]},Type:function(e){return"symbol"==typeof e?"Symbol":S.Type(e)},SpeciesConstructor:function(e,t){if("Object"!==this.Type(e))throw new TypeError("Assertion failed: Type(O) is not Object");var n=e.constructor;if(void 0===n)return t;if("Object"!==this.Type(n))throw new TypeError("O.constructor is not an Object");var r=a&&Symbol.species?n[Symbol.species]:void 0;if(null==r)return t;if(this.IsConstructor(r))return r;throw new TypeError("no constructor found")},CompletePropertyDescriptor:function(e){if(!this.IsPropertyDescriptor(e))throw new TypeError("Desc must be a Property Descriptor");return this.IsGenericDescriptor(e)||this.IsDataDescriptor(e)?(r(e,"[[Value]]")||(e["[[Value]]"]=void 0),r(e,"[[Writable]]")||(e["[[Writable]]"]=!1)):(r(e,"[[Get]]")||(e["[[Get]]"]=void 0),r(e,"[[Set]]")||(e["[[Set]]"]=void 0)),r(e,"[[Enumerable]]")||(e["[[Enumerable]]"]=!1),r(e,"[[Configurable]]")||(e["[[Configurable]]"]=!1),e},Set:function(e,t,n,r){if("Object"!==this.Type(e))throw new TypeError("O must be an Object");if(!this.IsPropertyKey(t))throw new TypeError("P must be a Property Key");if("Boolean"!==this.Type(r))throw new TypeError("Throw must be a Boolean");if(r)return e[t]=n,!0;try{e[t]=n}catch(e){return!1}},HasOwnProperty:function(e,t){if("Object"!==this.Type(e))throw new TypeError("O must be an Object");if(!this.IsPropertyKey(t))throw new TypeError("P must be a Property Key");return r(e,t)},HasProperty:function(e,t){if("Object"!==this.Type(e))throw new TypeError("O must be an Object");if(!this.IsPropertyKey(t))throw new TypeError("P must be a Property Key");return t in e},IsConcatSpreadable:function(e){if("Object"!==this.Type(e))return!1;if(a&&"symbol"==typeof Symbol.isConcatSpreadable){var t=this.Get(e,Symbol.isConcatSpreadable);if(void 0!==t)return this.ToBoolean(t)}return this.IsArray(e)},Invoke:function(e,t){if(!this.IsPropertyKey(t))throw new TypeError("P must be a Property Key");var n=g(arguments,2),r=this.GetV(e,t);return this.Call(r,e,n)},CreateIterResultObject:function(e,t){if("Boolean"!==this.Type(t))throw new TypeError("Assertion failed: Type(done) is not Boolean");return{value:e,done:t}},RegExpExec:function(e,t){if("Object"!==this.Type(e))throw new TypeError("R must be an Object");if("String"!==this.Type(t))throw new TypeError("S must be a String");var n=this.Get(e,"exec");if(this.IsCallable(n)){var r=this.Call(n,e,[t]);if(null===r||"Object"===this.Type(r))return r;throw new TypeError('"exec" method must return `null` or an Object')}return _(e,t)},ArraySpeciesCreate:function(e,t){if(!this.IsInteger(t)||t<0)throw new TypeError("Assertion failed: length must be an integer >= 0");var n,r=0===t?0:t;if(this.IsArray(e)&&(n=this.Get(e,"constructor"),"Object"===this.Type(n)&&a&&Symbol.species&&null===(n=this.Get(n,Symbol.species))&&(n=void 0)),void 0===n)return Array(r);if(!this.IsConstructor(n))throw new TypeError("C must be a constructor");return new n(r)},CreateDataProperty:function(e,t,n){if("Object"!==this.Type(e))throw new TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");var r=Object.getOwnPropertyDescriptor(e,t),o=r||"function"!=typeof Object.isExtensible||Object.isExtensible(e);if(r&&(!r.writable||!r.configurable)||!o)return!1;var i={configurable:!0,enumerable:!0,value:n,writable:!0};return Object.defineProperty(e,t,i),!0},CreateDataPropertyOrThrow:function(e,t,n){if("Object"!==this.Type(e))throw new TypeError("Assertion failed: Type(O) is not Object");if(!this.IsPropertyKey(t))throw new TypeError("Assertion failed: IsPropertyKey(P) is not true");var r=this.CreateDataProperty(e,t,n);if(!r)throw new TypeError("unable to create data property");return r},AdvanceStringIndex:function(e,t,n){if("String"!==this.Type(e))throw new TypeError("Assertion failed: Type(S) is not String");if(!this.IsInteger(t))throw new TypeError("Assertion failed: length must be an integer >= 0 and <= (2**53 - 1)");if(t<0||t>c)throw new RangeError("Assertion failed: length must be an integer >= 0 and <= (2**53 - 1)");if("Boolean"!==this.Type(n))throw new TypeError("Assertion failed: Type(unicode) is not Boolean");if(!n)return t+1;if(t+1>=e.length)return t+1;var r=e.charCodeAt(t);if(r<55296||r>56319)return t+1;var o=e.charCodeAt(t+1);return o<56320||o>57343?t+1:t+2}});delete M.CheckObjectCoercible,e.exports=M},function(e,t){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,t,o){if("[object Function]"!==r.call(t))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var a=0;a<i;a++)t.call(o,e[a],a,e);else for(var s in e)n.call(e,s)&&t.call(o,e[s],s,e)}},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=Array.prototype.slice,a=n(184),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},d={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),h=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),i=a(e),s=t&&"[object String]"===o.call(e),d=[];if(!t&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var h=c&&n;if(s&&e.length>0&&!r.call(e,0))for(var y=0;y<e.length;++y)d.push(String(y));if(i&&e.length>0)for(var g=0;g<e.length;++g)d.push(String(g));else for(var m in e)h&&"prototype"===m||!r.call(e,m)||d.push(String(m));if(u)for(var v=function(e){if("undefined"==typeof window||!p)return f(e);try{return f(e)}catch(e){return!1}}(e),b=0;b<l.length;++b)v&&"constructor"===l[b]||!r.call(e,l[b])||d.push(l[b]);return d};h.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var e=Object.keys;Object.keys=function(t){return a(t)?e(i.call(t)):e(t)}}}else Object.keys=h;return Object.keys||h},e.exports=h},function(e,t,n){"use strict";var r=n(116),o=n(115),i=n(108),a=n(107),s=a(),u=n(172),c=Array.prototype.slice,l=function(e,t){return o.RequireObjectCoercible(e),s.apply(e,c.call(arguments,1))};r(l,{getPolyfill:a,implementation:i,shim:u}),e.exports=l},function(e,t,n){"use strict";var r=i(n(186)),o=i(n(105));function i(e){return e&&e.__esModule?e:{default:e}}Array.prototype.includes||r.default.shim(),Object.assign||(Object.assign=o.default),Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),n=t.length>>>0,r=arguments[1],o=0;o<n;o++){var i=t[o];if(e.call(r,i,o,t))return i}})},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,i,a,s,u=1,c={},l=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){h(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},r=function(e){i.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return c[u]=o,r(u),u++},d.clearImmediate=p}function p(e){delete c[e]}function h(e){if(l)setTimeout(h,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{p(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(11),n(188))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(189),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(11))},function(e,t,n){"use strict";(function(t){var n=setTimeout;function r(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function i(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void s(t.promise,e)}a(t.promise,r)}else(1===e._state?a:s)(t.promise,e._value)})):e._deferreds.push(t)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void c((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(t){s(e,t)}var r,i}function s(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)i(e,e._deferreds[t]);e._deferreds=null}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return i(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},o.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},o.all=function(e){return new o(function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){i(e,t)},n)}r[e]=a,0==--o&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)i(a,r[a])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){n(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},e.exports=o}).call(this,n(190).setImmediate)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(191),i=(r=o)&&r.__esModule?r:{default:r};n(187),window.Promise||(window.Promise=i.default),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e}),t.default=function(){var e=!(Object.assign&&Array.prototype.includes);return i.default.all([e&&!0])}},function(e,t,n){e.exports=n.p+"8b5f5125dc15670c13f5429eb78d806e.svg"},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t,n){var r=n(194);(t=e.exports=n(5)(!0)).push([e.i,".fc-2p3VK{position:absolute;display:block;bottom:-22px;right:-22px;z-index:-1;width:305px;height:423px;background-image:url("+r(n(193))+");background-position:100% 100%;background-repeat:no-repeat;background-size:286px 384px}","",{version:3,sources:["/home/circleci/frontapp/front-chat/src/components/App/App.css"],names:[],mappings:"AAAA,UACE,kBAAmB,AACnB,cAAe,AACf,aAAc,AACd,YAAa,AACb,WAAY,AACZ,YAAa,AACb,aAAc,AACd,+CAAwD,AACxD,8BAAkC,AAClC,4BAA6B,AAC7B,2BAA6B,CAC9B",file:"App.css",sourcesContent:[".shadow {\n  position: absolute;\n  display: block;\n  bottom: -22px;\n  right: -22px;\n  z-index: -1;\n  width: 305px;\n  height: 423px;\n  background-image: url('../../assets/widget-shadow.svg');\n  background-position: bottom right;\n  background-repeat: no-repeat;\n  background-size: 286px 384px;\n}\n"],sourceRoot:""}]),t.locals={shadow:"fc-2p3VK"}},function(e,t,n){var r,o=n(195);"string"==typeof o&&(o=[[e.i,o,""]]),r=n(8);var i={transform:"./transform-styles.js",singleton:!1,hmr:!0};i.transform=r,i.insertInto=void 0;n(7)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(5)(!0)).push([e.i,'#front-chat-container a,#front-chat-container abbr,#front-chat-container acronym,#front-chat-container address,#front-chat-container applet,#front-chat-container article,#front-chat-container aside,#front-chat-container audio,#front-chat-container b,#front-chat-container big,#front-chat-container blockquote,#front-chat-container body,#front-chat-container button,#front-chat-container canvas,#front-chat-container caption,#front-chat-container center,#front-chat-container cite,#front-chat-container code,#front-chat-container dd,#front-chat-container del,#front-chat-container details,#front-chat-container dfn,#front-chat-container div,#front-chat-container dl,#front-chat-container dt,#front-chat-container em,#front-chat-container embed,#front-chat-container fieldset,#front-chat-container figcaption,#front-chat-container figure,#front-chat-container footer,#front-chat-container form,#front-chat-container h1,#front-chat-container h2,#front-chat-container h3,#front-chat-container h4,#front-chat-container h5,#front-chat-container h6,#front-chat-container header,#front-chat-container hgroup,#front-chat-container html,#front-chat-container i,#front-chat-container iframe,#front-chat-container img,#front-chat-container input,#front-chat-container ins,#front-chat-container kbd,#front-chat-container label,#front-chat-container legend,#front-chat-container li,#front-chat-container mark,#front-chat-container menu,#front-chat-container nav,#front-chat-container object,#front-chat-container ol,#front-chat-container output,#front-chat-container p,#front-chat-container pre,#front-chat-container q,#front-chat-container ruby,#front-chat-container s,#front-chat-container samp,#front-chat-container section,#front-chat-container small,#front-chat-container span,#front-chat-container strike,#front-chat-container strong,#front-chat-container sub,#front-chat-container summary,#front-chat-container sup,#front-chat-container table,#front-chat-container tbody,#front-chat-container td,#front-chat-container textarea,#front-chat-container tfoot,#front-chat-container th,#front-chat-container thead,#front-chat-container time,#front-chat-container tr,#front-chat-container tt,#front-chat-container u,#front-chat-container ul,#front-chat-container var,#front-chat-container video{margin:0;padding:0;border:0;font:inherit;line-height:1;font-size:100%;vertical-align:baseline;font-style:normal;font-weight:400;-webkit-box-shadow:none;box-shadow:none;text-indent:0;color:inherit;min-width:inherit;min-width:0}#front-chat-container button,#front-chat-container input,#front-chat-container textarea{line-height:normal}#front-chat-container button,#front-chat-container input{-webkit-appearance:none;-moz-appearance:none;appearance:none}#front-chat-container article,#front-chat-container aside,#front-chat-container details,#front-chat-container figcaption,#front-chat-container figure,#front-chat-container footer,#front-chat-container header,#front-chat-container hgroup,#front-chat-container menu,#front-chat-container nav,#front-chat-container section{display:block}#front-chat-container ol,#front-chat-container ul{list-style:none}#front-chat-container blockquote,#front-chat-container q{quotes:none}#front-chat-container blockquote:after,#front-chat-container blockquote:before,#front-chat-container q:after,#front-chat-container q:before{content:"";content:none}#front-chat-container table{border-collapse:collapse;border-spacing:0}',"",{version:3,sources:["/home/circleci/frontapp/front-chat/src/assets/reset.css"],names:[],mappings:"AAMA,yuEAqFE,SAAU,AACV,UAAW,AACX,SAAU,AACV,aAAc,AACd,cAAe,AACf,eAAgB,AAChB,wBAAyB,AACzB,kBAAmB,AACnB,gBAAoB,AACpB,wBAAyB,AACjB,gBAAiB,AACzB,cAAe,AACf,cAAe,AACf,kBAAmB,AACnB,WAAmB,CACpB,AACD,wFAGE,kBAAoB,CACrB,AACD,yDAEE,wBAAyB,AACtB,qBAAsB,AACjB,eAAiB,CAC1B,AAKD,gUAWE,aAAe,CAChB,AACD,kDAEE,eAAiB,CAClB,AACD,yDAEE,WAAa,CACd,AACD,4IAIE,WAAY,AACZ,YAAc,CACf,AACD,4BACE,yBAA0B,AAC1B,gBAAkB,CACnB",file:"reset.css",sourcesContent:[":global(#front-chat-container) {\n  /* http://meyerweb.com/eric/tools/css/reset/\n   v2.0 | 20110126\n   License: none (public domain)\n*/\n}\n:global(#front-chat-container) html,\n  :global(#front-chat-container) body,\n  :global(#front-chat-container) div,\n  :global(#front-chat-container) span,\n  :global(#front-chat-container) applet,\n  :global(#front-chat-container) object,\n  :global(#front-chat-container) iframe,\n  :global(#front-chat-container) h1,\n  :global(#front-chat-container) h2,\n  :global(#front-chat-container) h3,\n  :global(#front-chat-container) h4,\n  :global(#front-chat-container) h5,\n  :global(#front-chat-container) h6,\n  :global(#front-chat-container) p,\n  :global(#front-chat-container) blockquote,\n  :global(#front-chat-container) pre,\n  :global(#front-chat-container) a,\n  :global(#front-chat-container) abbr,\n  :global(#front-chat-container) acronym,\n  :global(#front-chat-container) address,\n  :global(#front-chat-container) big,\n  :global(#front-chat-container) cite,\n  :global(#front-chat-container) code,\n  :global(#front-chat-container) del,\n  :global(#front-chat-container) dfn,\n  :global(#front-chat-container) em,\n  :global(#front-chat-container) img,\n  :global(#front-chat-container) ins,\n  :global(#front-chat-container) kbd,\n  :global(#front-chat-container) q,\n  :global(#front-chat-container) s,\n  :global(#front-chat-container) samp,\n  :global(#front-chat-container) small,\n  :global(#front-chat-container) strike,\n  :global(#front-chat-container) strong,\n  :global(#front-chat-container) sub,\n  :global(#front-chat-container) sup,\n  :global(#front-chat-container) tt,\n  :global(#front-chat-container) var,\n  :global(#front-chat-container) b,\n  :global(#front-chat-container) u,\n  :global(#front-chat-container) i,\n  :global(#front-chat-container) center,\n  :global(#front-chat-container) dl,\n  :global(#front-chat-container) dt,\n  :global(#front-chat-container) dd,\n  :global(#front-chat-container) ol,\n  :global(#front-chat-container) ul,\n  :global(#front-chat-container) li,\n  :global(#front-chat-container) fieldset,\n  :global(#front-chat-container) form,\n  :global(#front-chat-container) label,\n  :global(#front-chat-container) legend,\n  :global(#front-chat-container) table,\n  :global(#front-chat-container) caption,\n  :global(#front-chat-container) tbody,\n  :global(#front-chat-container) tfoot,\n  :global(#front-chat-container) thead,\n  :global(#front-chat-container) tr,\n  :global(#front-chat-container) th,\n  :global(#front-chat-container) td,\n  :global(#front-chat-container) article,\n  :global(#front-chat-container) aside,\n  :global(#front-chat-container) canvas,\n  :global(#front-chat-container) details,\n  :global(#front-chat-container) embed,\n  :global(#front-chat-container) figure,\n  :global(#front-chat-container) figcaption,\n  :global(#front-chat-container) footer,\n  :global(#front-chat-container) header,\n  :global(#front-chat-container) hgroup,\n  :global(#front-chat-container) menu,\n  :global(#front-chat-container) nav,\n  :global(#front-chat-container) output,\n  :global(#front-chat-container) ruby,\n  :global(#front-chat-container) section,\n  :global(#front-chat-container) summary,\n  :global(#front-chat-container) time,\n  :global(#front-chat-container) mark,\n  :global(#front-chat-container) audio,\n  :global(#front-chat-container) button,\n  :global(#front-chat-container) input,\n  :global(#front-chat-container) button,\n  :global(#front-chat-container) textarea,\n  :global(#front-chat-container) video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font: inherit;\n  line-height: 1;\n  font-size: 100%;\n  vertical-align: baseline;\n  font-style: normal;\n  font-weight: normal;\n  -webkit-box-shadow: none;\n          box-shadow: none;\n  text-indent: 0;\n  color: inherit;\n  min-width: inherit;\n  min-width: initial;\n}\n:global(#front-chat-container) input,\n  :global(#front-chat-container) textarea,\n  :global(#front-chat-container) button {\n  line-height: normal;\n}\n:global(#front-chat-container) button,\n  :global(#front-chat-container) input {\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n}\n:global(#front-chat-container) {\n  /* HTML5 display-role reset for older browsers\n*/\n}\n:global(#front-chat-container) article,\n  :global(#front-chat-container) aside,\n  :global(#front-chat-container) details,\n  :global(#front-chat-container) figcaption,\n  :global(#front-chat-container) figure,\n  :global(#front-chat-container) footer,\n  :global(#front-chat-container) header,\n  :global(#front-chat-container) hgroup,\n  :global(#front-chat-container) menu,\n  :global(#front-chat-container) nav,\n  :global(#front-chat-container) section {\n  display: block;\n}\n:global(#front-chat-container) ol,\n  :global(#front-chat-container) ul {\n  list-style: none;\n}\n:global(#front-chat-container) blockquote,\n  :global(#front-chat-container) q {\n  quotes: none;\n}\n:global(#front-chat-container) blockquote::before,\n  :global(#front-chat-container) blockquote::after,\n  :global(#front-chat-container) q::before,\n  :global(#front-chat-container) q::after {\n  content: '';\n  content: none;\n}\n:global(#front-chat-container) table {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n"],sourceRoot:""}])},function(e,t,n){var r,o=n(197);"string"==typeof o&&(o=[[e.i,o,""]]),r=n(8);var i={transform:"./transform-styles.js",singleton:!1,hmr:!0};i.transform=r,i.insertInto=void 0;n(7)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){(t=e.exports=n(5)(!0)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Nunito:400,600,700&subset=latin-ext);",""]),t.push([e.i,"#front-chat-container *{-webkit-box-sizing:border-box!important;box-sizing:border-box!important;-webkit-font-smoothing:antialiased!important;-moz-osx-font-smoothing:grayscale!important;text-rendering:optimizeLegibility!important;font-family:Nunito,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Droid Sans,Helvetica Neue,sans-serif!important;width:auto}#front-chat-container{position:fixed;z-index:99999999;bottom:0;right:0;border:0;pointer-events:none}#front-chat-holder>*{pointer-events:all}#front-chat-container [role=button],#front-chat-container button,#front-chat-container input[type=submit]{cursor:pointer;outline:none;border:none}#front-chat-container [role=button] *,#front-chat-container button *,#front-chat-container input[type=submit] *{cursor:pointer}#front-chat-container [role=button]:focus,#front-chat-container button:focus,#front-chat-container input[type=submit]:focus{outline:none;border:none}","",{version:3,sources:["/home/circleci/frontapp/front-chat/src/assets/global.css"],names:[],mappings:"AAEA,wBACE,wCAA0C,AAClC,gCAAkC,AAC1C,6CAA+C,AAC/C,4CAA8C,AAC9C,4CAA8C,AAC9C,qJAAoK,AACpK,UAAY,CACb,AAED,sBACE,eAAgB,AAChB,iBAAkB,AAClB,SAAU,AACV,QAAS,AACT,SAAU,AACV,mBAAqB,CACtB,AAED,qBACE,kBAAoB,CACrB,AAED,0GAGE,eAAgB,AAChB,aAAc,AACd,WAAY,CACb,AAED,gHACE,cAAgB,CACjB,AAED,4HACE,aAAc,AACd,WAAa,CACd",file:"global.css",sourcesContent:['@import url(\'https://fonts.googleapis.com/css?family=Nunito:400,600,700&subset=latin-ext\');\n\n:global(#front-chat-container *) {\n  -webkit-box-sizing: border-box !important;\n          box-sizing: border-box !important;\n  -webkit-font-smoothing: antialiased !important;\n  -moz-osx-font-smoothing: grayscale !important;\n  text-rendering: optimizeLegibility !important;\n  font-family: \'Nunito\', system-ui, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Droid Sans, Helvetica Neue, sans-serif !important;\n  width: auto;\n}\n\n:global(#front-chat-container) {\n  position: fixed;\n  z-index: 99999999;\n  bottom: 0;\n  right: 0;\n  border: 0;\n  pointer-events: none;\n}\n\n:global(#front-chat-holder > *) {\n  pointer-events: all;\n}\n\n:global(#front-chat-container button),\n:global(#front-chat-container [role="button"]),\n:global(#front-chat-container input[type=submit]) {\n  cursor: pointer;\n  outline: none;\n  border: none\n}\n\n:global(#front-chat-container button) *, :global(#front-chat-container [role="button"]) *, :global(#front-chat-container input[type=submit]) * {\n  cursor: pointer;\n}\n\n:global(#front-chat-container button):focus, :global(#front-chat-container [role="button"]):focus, :global(#front-chat-container input[type=submit]):focus {\n  outline: none;\n  border: none;\n}'],sourceRoot:""}])},function(e,t,n){var r,o=n(199);"string"==typeof o&&(o=[[e.i,o,""]]),r=n(8);var i={transform:"./transform-styles.js",singleton:!1,hmr:!0};i.transform=r,i.insertInto=void 0;n(7)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){(t=e.exports=n(5)(!0)).push([e.i,"@-webkit-keyframes fc-hXm-3{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes fc-hXm-3{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.fc-3sqAP{-webkit-animation:fc-hXm-3 .8s linear infinite;animation:fc-hXm-3 .8s linear infinite}","",{version:3,sources:["/home/circleci/frontapp/front-chat/src/components/Spinner/Spinner.css"],names:[],mappings:"AAAA,4BACE,GACE,gCAAkC,AAC1B,uBAA0B,CACnC,CACF,AAED,oBACE,GACE,gCAAkC,AAC1B,uBAA0B,CACnC,CACF,AAED,UACE,+CAA6C,AACrC,sCAAqC,CAC9C",file:"Spinner.css",sourcesContent:["@-webkit-keyframes spin {\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes spin {\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n.spinner {\n  -webkit-animation: spin 0.8s linear infinite;\n          animation: spin 0.8s linear infinite;\n}"],sourceRoot:""}]),t.locals={spinner:"fc-3sqAP",spin:"fc-hXm-3"}},function(e,t,n){var r,o=n(201);"string"==typeof o&&(o=[[e.i,o,""]]),r=n(8);var i={transform:"./transform-styles.js",singleton:!1,hmr:!0};i.transform=r,i.insertInto=void 0;n(7)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),o=a(n(1)),i=a(n(202));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return r.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e.size,height:e.size,viewBox:"0 0 30 30",className:i.default.spinner},r.default.createElement("g",{fillRule:"nonzero",fill:"none"},r.default.createElement("path",{fill:e.background,d:"M15 25C9.477 25 5 20.523 5 15S9.477 5 15 5s10 4.477 10 10-4.477 10-10 10zm0-2c4.418 0 8-3.582 8-8s-3.582-8-8-8-8 3.582-8 8 3.582 8 8 8z"}),r.default.createElement("path",{fill:e.foreground,d:"M15 25c-.552 0-1-.448-1-1s.448-1 1-1c4.418 0 8-3.582 8-8s-3.582-8-8-8c-.27 0-.538.013-.803.04-.55.054-1.04-.347-1.094-.896-.055-.55.346-1.04.896-1.094.33-.033.664-.05 1-.05 5.523 0 10 4.477 10 10s-4.477 10-10 10zm-9.992-9.606c-.022-.55.408-1.016.96-1.038.552-.02 1.017.41 1.038.96.166 4.28 3.69 7.68 7.988 7.684.552 0 1 .448 1 1 0 .553-.45 1-1 1-5.374-.004-9.778-4.253-9.986-9.606z"})))};s.propTypes={foreground:o.default.string,background:o.default.string,size:o.default.number},s.defaultProps={foreground:"#9EABBA",background:"#EDEFF2",size:30},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return r.default.createElement("a",{href:"https://frontapp.com/?ref=chat-box",target:"_blank",rel:"noopener",style:{color:"inherit"}},r.default.createElement("svg",{height:e.height,width:e.width,viewBox:"0 0 60 13",style:{fill:"currentColor",height:e.height,width:e.width}},r.default.createElement("g",{fillRule:"evenodd"},r.default.createElement("polyline",{points:"52.834 2.144 52.834 3.95 55.336 3.95 55.336 10.631 57.269 10.631 57.269 3.95 59.771 3.95 59.771 2.144 52.834 2.144"}),r.default.createElement("polyline",{points:"49.706 6.544 44.747 1.981 44.486 2.028 44.486 10.631 46.419 10.631 46.419 6.196 51.446 10.793 51.64 10.758 51.64 2.144 49.706 2.144 49.706 6.544"}),r.default.createElement("path",{d:"M38.7199963 2.00465C36.1381456 2.00465 34.4092195 3.89200173 34.4092195 6.3931735 34.4092195 8.88259827 36.058607 10.76995 38.6404577 10.76995 41.2109238 10.76995 42.9509268 8.88259827 42.9509268 6.3931735 42.9509268 3.89200173 41.2904624 2.00465 38.7199963 2.00465L38.7199963 2.00465zM38.6746135 9.0215C37.3553794 9.0215 36.4681463 7.90992283 36.4681463 6.39315331 36.4681463 4.86463682 37.3553794 3.76465 38.6746135 3.76465 39.9938476 3.76465 40.8809268 4.86463682 40.8809268 6.39315331 40.8809268 7.90992283 39.9938476 9.0215 38.6746135 9.0215L38.6746135 9.0215zM33.2609216 4.8993955C33.2609216 3.34769287 32.2373802 2.08575 29.6442959 2.08575 28.6658316 2.08575 27.8925986 2.14354532 27.1873659 2.22467805L27.1873659 10.631 29.1209098 10.631 29.1209098 7.85196905C29.3938337 7.86355944 29.5530649 7.87514983 29.8373734 7.87514983 29.9513737 7.87514983 30.0536817 7.87514983 30.1673743 7.86355944L31.5890707 10.631 33.784 10.631 31.8279944 7.35405216C32.7264585 6.8097737 33.2609216 5.90666304 33.2609216 4.8993955L33.2609216 4.8993955zM29.7350818 6.27725C29.5076967 6.27725 29.371235 6.26581615 29.1209268 6.24247858L29.1209268 3.90355237C29.3938504 3.85719047 29.5760046 3.8456 29.8715435 3.8456 30.7018527 3.8456 31.2478537 4.26254379 31.2478537 4.96877953 31.2478537 5.82569142 30.656468 6.27725 29.7350818 6.27725L29.7350818 6.27725z"}),r.default.createElement("polyline",{points:"20.375 10.631 22.308 10.631 22.308 7.551 25.174 7.551 25.174 5.826 22.308 5.826 22.308 3.95 25.652 3.95 25.652 2.144 20.375 2.144 20.375 10.631"}),r.default.createElement("path",{d:"M8.72712543,1.56501018e-15 C8.68374086,1.56501018e-15 8.64189476,0.0161324992 8.60927941,0.0452649736 L7.66097279,0.730817878 C7.59343441,0.790962341 7.49266529,0.790962341 7.42528075,0.730817878 L6.47697414,0.0452649736 C6.44435879,0.0161324992 6.40251269,1.56501018e-15 6.35912812,1.56501018e-15 L2.17036365,1.56501018e-15 C2.12082525,1.56501018e-15 2.07313299,0.0206746592 2.03928688,0.0574818176 C0.780980616,1.42373221 0.00790457231,3.25876484 5.84273858e-05,5.27752002 C-0.0160954004,9.46789753 3.31943927,12.9285536 7.4351269,12.9871318 C11.6505067,13.0471196 15.0861951,9.58630695 15.0861951,5.308532 C15.0861951,3.27740336 14.3115806,1.43078039 13.0468128,0.0574818176 C13.0129667,0.0206746592 12.9654283,1.56501018e-15 12.9158899,1.56501018e-15 L8.72712543,1.56501018e-15 Z M12.4908708,5.3883809 C12.4908708,8.27751997 10.1054912,10.6343526 7.23472379,10.4799185 C4.67487926,10.3422435 2.70819741,8.18082849 2.61942823,5.57267801 C2.57358211,4.22662677 3.00692785,2.98885734 3.80738888,2.05645764 C3.86877346,1.98487916 3.86431192,1.87696325 3.79846581,1.80977033 L2.31902439,0.3318 L7.33260509,3.98790297 C7.46352809,4.09503574 7.64998951,4.09503574 7.7809125,3.98790297 L12.7921951,0.3318 L11.2859052,1.80992692 C11.220213,1.87711984 11.2152899,1.98503575 11.2765206,2.0564576 C12.0414432,2.94703793 12.4908708,4.11218524 12.4908708,5.3883809 Z"}))))};a.propTypes={height:o.default.number,width:o.default.number},a.defaultProps={height:14,width:60},t.default=a},function(e,t,n){var r=n(49).isFinite;e.exports=function(e){return"number"==typeof e&&r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(205)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=u(n(1)),s=n(130);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.timeChanged=function(e){return((0,r.default)(n.props.date)?n.props.date:n.props.date.getTime())!==((0,r.default)(e.date)?e.date:e.date.getTime())},n.refreshRelativeTime=function(){n.setState({timeString:(0,s.getRelativeTime)(n.props.date)})},n.state={intervalId:void 0,timeString:(0,s.getRelativeTime)(n.props.date)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentWillMount",value:function(){var e=this,t=setInterval(function(){return e.refreshRelativeTime()},(0,s.getRefreshDelay)(this.props.date));this.setState({intervalId:t})}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.timeChanged(e)){clearInterval(this.state.intervalId);var n=setInterval(function(){return t.refreshRelativeTime()},(0,s.getRefreshDelay)(e.date));this.setState({intervalId:n})}this.setState({timeString:(0,s.getRelativeTime)(e.date)})}},{key:"shouldComponentUpdate",value:function(e,t){return this.timeChanged(e)||this.state.timeString!==t.timeString}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalId)}},{key:"render",value:function(){return this.state.timeString}}]),t}();c.propTypes={date:a.default.oneOfType([a.default.instanceOf(Date),a.default.number]).isRequired},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),i=c(n(1)),a=c(n(12)),s=c(n(117)),u=n(57);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=a.default.bind(s.default),d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onMouseDown=function(){(0,u.getMediaURLForMessage)(r.props.messageId,function(e){r.anchor.setAttribute("href",e)})},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.url,r=t.direction,i=t.positionInList;return o.default.createElement("a",{href:n,onMouseDown:this.onMouseDown,target:"_blank",rel:"noopener noreferrer",ref:function(t){e.anchor=t}},o.default.createElement("img",{className:f("bubble",r+"-"+i),style:{background:"transparent"},src:n,alt:"attachment"}))}}]),t}();d.propTypes={url:i.default.string.isRequired,messageId:i.default.string.isRequired,direction:i.default.oneOf(["inbound","outbound"]),positionInList:i.default.oneOf(["first","middle","last","alone"])},d.defaultProps={direction:"outbound",positionInList:"alone"},t.default=d},function(e,t,n){(t=e.exports=n(5)(!0)).push([e.i,".fc-1cxke{width:auto;max-width:100%;max-width:242px;min-width:0;display:inline-block;border-radius:20px;color:#6e7a89;background-color:rgba(29,52,75,.07)}.fc-1cxke.fc-3d3EU{color:#fff}.fc-1cxke.fc-3d3EU.fc-2ihOD{color:rgba(0,0,0,.7)}.fc-1XBhH{font-size:14px;line-height:1.45;padding:10px 12px;word-break:break-word;white-space:pre-wrap;text-align:left;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.fc-3Z7nK,.fc-3Z7nK:active,.fc-3Z7nK:focus,.fc-3Z7nK:hover{color:inherit;text-decoration:underline}.fc-3h-mH,.fc-3innO,.fc-19r7B,.fc-33QBK{border-bottom-left-radius:4px}.fc-2Yw0p,.fc-3h-mH{border-top-left-radius:4px}.fc-2Yw0p{border-bottom-left-radius:20px}.fc-1IMQ6,.fc-2eGc-,.fc-2HVA_,.fc-B2XZ5{border-bottom-right-radius:4px}.fc-2HVA_,.fc-3V711{border-top-right-radius:4px}.fc-3V711{border-bottom-right-radius:20px}","",{version:3,sources:["/home/circleci/frontapp/front-chat/src/components/MessageBubble/MessageBubble.css"],names:[],mappings:"AAAA,UACE,WAAY,AACZ,eAAgB,AAChB,gBAAiB,AACjB,YAAa,AACb,qBAAsB,AACtB,mBAAoB,AAEpB,cAAe,AACf,mCAAuC,CACxC,AAED,mBACE,UAAY,CACb,AAED,4BACE,oBAAyB,CAC1B,AAED,UACE,eAAgB,AAChB,iBAAkB,AAClB,kBAAmB,AACnB,sBAAuB,AACvB,qBAAsB,AACtB,gBAAiB,AACjB,yBAA0B,AACvB,sBAAuB,AACtB,qBAAsB,AAClB,gBAAkB,CAC3B,AAED,2DAIE,cAAe,AACf,yBAA2B,CAC5B,AAQD,wCAHE,6BAA+B,CAMhC,AAED,oBAJE,0BAA4B,CAO7B,AAHD,UAEE,8BAAgC,CACjC,AAQD,wCAHE,8BAAgC,CAMjC,AAED,oBAJE,2BAA6B,CAO9B,AAHD,UAEE,+BAAiC,CAClC",file:"MessageBubble.css",sourcesContent:[".bubble {\n  width: auto;\n  max-width: 100%;\n  max-width: 242px;\n  min-width: 0;\n  display: inline-block;\n  border-radius: 20px;\n\n  color: #6E7A89;\n  background-color: rgba(29, 52, 75, .07)\n}\n\n.bubble.with-accent-color {\n  color: white\n}\n\n.bubble.with-accent-color.dark-text {\n  color: rgba(0, 0, 0, .7);\n}\n\n.textBubble {\n  font-size: 14px;\n  line-height: 1.45;\n  padding: 10px 12px;\n  word-break: break-word;\n  white-space: pre-wrap;\n  text-align: left;\n  -webkit-user-select: text;\n     -moz-user-select: text;\n      -ms-user-select: text;\n          user-select: text;\n}\n\n.textLink,\n.textLink:hover,\n.textLink:active,\n.textLink:focus {\n  color: inherit;\n  text-decoration: underline;\n}\n\n.inbound-alone,\n.inbound,\n.inbound-first {\n  border-bottom-left-radius: 4px;\n}\n\n.inbound-middle {\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n}\n\n.inbound-last {\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 20px;\n}\n\n.outbound,\n.outbound-alone,\n.outbound-first {\n  border-bottom-right-radius: 4px;\n}\n\n.outbound-middle {\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n\n.outbound-last {\n  border-top-right-radius: 4px;\n  border-bottom-right-radius: 20px;\n}"],sourceRoot:""}]),t.locals={bubble:"fc-1cxke","with-accent-color":"fc-3d3EU","dark-text":"fc-2ihOD",textBubble:"fc-1XBhH",textLink:"fc-3Z7nK","inbound-alone":"fc-19r7B",inbound:"fc-33QBK","inbound-first":"fc-3innO","inbound-middle":"fc-3h-mH","inbound-last":"fc-2Yw0p",outbound:"fc-1IMQ6","outbound-alone":"fc-B2XZ5","outbound-first":"fc-2eGc-","outbound-middle":"fc-2HVA_","outbound-last":"fc-3V711"}},function(e,t){e.exports=["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","active","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","aigo","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blanco","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnl","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","cartier","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","ceb","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","chase","chat","cheap","chintai","christmas","chrome","chrysler","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dodge","dog","doha","domains","dot","download","drive","dtv","dubai","duck","dunlop","duns","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epost","epson","equipment","er","ericsson","erni","es","esq","estate","esurance","et","etisalat","eu","eurovision","eus","events","everbank","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodhands","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","honeywell","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","industries","infiniti","info","ing","ink","institute","insurance","insure","int","intel","international","intuit","investments","io","ipiranga","iq","ir","irish","is","iselect","ismaili","ist","istanbul","it","itau","itv","iveco","iwc","jaguar","java","jcb","jcp","je","jeep","jetzt","jewelry","jio","jlc","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","ladbrokes","lamborghini","lamer","lancaster","lancia","lancome","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","liaison","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","llc","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","meo","merckmsd","metlife","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","mobily","moda","moe","moi","mom","monash","money","monster","mopar","mormon","mortgage","moscow","moto","motorcycles","mov","movie","movistar","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nadex","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","panerai","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","piaget","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","rightathome","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sapo","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scor","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","shriram","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","space","spiegel","sport","spot","spreadbetting","sr","srl","srt","st","stada","staples","star","starhub","statebank","statefarm","statoil","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","symantec","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","telecity","telefonica","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","uconnect","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","vista","vistaprint","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","warman","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","कॉम","セール","佛山","ಭಾರತ","慈善","集团","在线","한국","ଭାରତ","大众汽车","点看","คอม","ভাৰত","ভারত","八卦","موقع","বাংলা","公益","公司","香格里拉","网站","移动","我爱你","москва","қаз","католик","онлайн","сайт","联通","срб","бг","бел","קום","时尚","微博","淡马锡","ファッション","орг","नेट","ストア","삼성","சிங்கப்பூர்","商标","商店","商城","дети","мкд","ею","ポイント","新闻","工行","家電","كوم","中文网","中信","中国","中國","娱乐","谷歌","భారత్","ලංකා","電訊盈科","购物","クラウド","ભારત","通販","भारतम्","भारत","भारोत","网店","संगठन","餐厅","网络","ком","укр","香港","诺基亚","食品","飞利浦","台湾","台灣","手表","手机","мон","الجزائر","عمان","ارامكو","ایران","العليان","اتصالات","امارات","بازار","پاکستان","الاردن","موبايلي","بارت","بھارت","المغرب","ابوظبي","السعودية","ڀارت","كاثوليك","سودان","همراه","عراق","مليسيا","澳門","닷컴","政府","شبكة","بيتك","عرب","გე","机构","组织机构","健康","ไทย","سورية","招聘","рус","рф","珠宝","تونس","大拿","みんな","グーグル","ελ","世界","書籍","ഭാരതം","ਭਾਰਤ","网址","닷넷","コム","天主教","游戏","vermögensberater","vermögensberatung","企业","信息","嘉里大酒店","嘉里","مصر","قطر","广东","இலங்கை","இந்தியா","հայ","新加坡","فلسطين","政务","xperia","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zippo","zm","zone","zuerich","zw"]},function(e,t){e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n(213).source,t.src_Cc=n(212).source,t.src_Z=n(211).source,t.src_P=n(210).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-(?!-)|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|[><｜]|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t,n){"use strict";function r(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function o(e){return Object.prototype.toString.call(e)}function i(e){return"[object Function]"===o(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var u={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]?0:t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},c="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function f(e){var t=e.re=n(214)(e.__opts__),r=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push(c),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var u=[];function l(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){var n=e.__schemas__[t];if(null!==n){var r,a={validate:null,link:null};if(e.__compiled__[t]=a,"[object Object]"===o(n))return!function(e){return"[object RegExp]"===o(e)}(n.validate)?i(n.validate)?a.validate=n.validate:l(t,n):a.validate=(r=n.validate,function(e,t){var n=e.slice(t);return r.test(n)?n.match(r)[0].length:0}),void(i(n.normalize)?a.normalize=n.normalize:n.normalize?l(t,n):a.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===o(e)}(n)?l(t,n):u.push(t)}}),u.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var f=Object.keys(e.__compiled__).filter(function(t){return t.length>0&&e.__compiled__[t]}).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+f+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+f+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var n=new function(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function p(e,t){if(!(this instanceof p))return new p(e,t);var n;t||(n=e,Object.keys(n||{}).reduce(function(e,t){return e||s.hasOwnProperty(t)},!1)&&(t=e,e={})),this.__opts__=r({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},u,e),this.__compiled__={},this.__tlds__=l,this.__tlds_replaced__=!1,this.re={},f(this)}p.prototype.add=function(e,t){return this.__schemas__[e]=t,f(this),this},p.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},p.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,o,i,a,s,u;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(o=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||u<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a)),this.__index__>=0},p.prototype.pretest=function(e){return this.re.pretest.test(e)},p.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},p.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(d(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(d(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},p.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse(),f(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,f(this),this)},p.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},p.prototype.onCompile=function(){},e.exports=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkify=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(0)),i=u(n(215)),a=u(n(209)),s=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=t.linkify=new i.default;l.tlds(a.default);var f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.parseCounter=0,c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"getMatches",value:function(e){return l.match(e)}},{key:"parseString",value:function(e){var n=this,r=[];if(""===e)return r;var i=this.getMatches(e);if(!i)return e;var a=0;return i.forEach(function(i,s){i.index>a&&r.push(e.substring(a,i.index));var u={href:i.url,key:"parse"+n.parseCounter+"match"+s};for(var c in n.props.properties){var l=n.props.properties[c];l===t.MATCH&&(l=i.url),u[c]=l}r.push(o.default.createElement(n.props.component,u,i.text)),a=i.lastIndex}),a<e.length&&r.push(e.substring(a)),1===r.length?r[0]:r}},{key:"parse",value:function(e){var t=this,n=e;return"string"==typeof e?n=this.parseString(e):o.default.isValidElement(e)&&"a"!==e.type&&"button"!==e.type?n=o.default.cloneElement(e,{key:"parse"+ ++this.parseCounter},this.parse(e.props.children)):e instanceof Array&&(n=e.map(function(e){return t.parse(e)})),n}},{key:"render",value:function(){this.parseCounter=0;var e=this.parse(this.props.children);return o.default.createElement("span",{className:this.props.className},e)}}]),t}();f.MATCH="LINKIFY_MATCH",f.propTypes={className:s.default.string,component:s.default.any,properties:s.default.object,urlRegex:s.default.object,emailRegex:s.default.object},f.defaultProps={className:"Linkify",component:"a",properties:{}},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),i=c(n(1)),a=c(n(12)),s=c(n(216)),u=c(n(117));function c(e){return e&&e.__esModule?e:{default:e}}var l=a.default.bind(u.default),f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.body,n=e.accentColor,r=e.useBlackSecondaryColor,i=e.direction,a=e.positionInList,u=l("bubble","textBubble",i+"-"+a,{"with-accent-color":n&&"outbound"===i,"dark-text":n&&r});return o.default.createElement("div",{className:u,style:"outbound"===i?{backgroundColor:n}:{}},o.default.createElement(s.default,{properties:{target:"_blank",rel:"noopener noreferrer",className:l("textLink")}},t))}}]),t}();f.propTypes={body:i.default.string.isRequired,accentColor:i.default.string,useBlackSecondaryColor:i.default.bool,direction:i.default.oneOf(["inbound","outbound"]),positionInList:i.default.oneOf(["first","middle","last","alone"])},f.defaultProps={accentColor:void 0,useBlackSecondaryColor:!1,direction:"outbound",positionInList:"alone"},t.default=f},function(e,t,n){(t=e.exports=n(5)(!0)).push([e.i,".fc-2El1N{display:-webkit-box;display:-ms-flexbox;display:flex}.fc-2El1N.fc-19Y8X{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.fc-2El1N.fc-2JbFP{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.fc-1JcZA{color:#6e7a89;font-size:12px;line-height:1;margin-left:12px;margin-bottom:3px}.fc-2wWOr{width:30px;-ms-flex-negative:0;flex-shrink:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding-bottom:23px}.fc-33Wlm{display:inline-block;background-size:contain;background-position:50%;background-repeat:no-repeat;width:30px;height:30px;border-radius:50%}.fc-1P2cw{background-size:18px 18px;background-color:#9eabba;border-radius:30px 30px 4px}.fc-FzJyM{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.fc-FzJyM.fc-2JbFP{text-align:right}.fc-FzJyM.fc-LK4J7{margin-left:10px}.fc-3j1JO{font-size:13px;margin-top:7px;line-height:1}.fc-3HU3s{color:#a8b6c2}.fc-xMbZu{color:#ff5959}.fc-2WCD_{margin-top:2px}.fc-1JcZA+.fc-2WCD_{margin-top:0}","",{version:3,sources:["/home/circleci/frontapp/front-chat/src/components/MessagesGroup/MessagesGroup.css"],names:[],mappings:"AAAA,UACE,oBAAqB,AACrB,oBAAqB,AACrB,YAAa,CACd,AAED,mBACE,uBAAwB,AACpB,oBAAqB,AACjB,0BAA4B,CACrC,AAED,mBACE,qBAAsB,AAClB,kBAAmB,AACf,wBAA0B,CACnC,AAED,UACE,cAAe,AACf,eAAgB,AAChB,cAAe,AACf,iBAAkB,AAClB,iBAAmB,CACpB,AAED,UACE,WAAY,AACZ,oBAAqB,AACjB,cAAe,AACnB,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,qBAAsB,AAClB,kBAAmB,AACf,yBAA0B,AAClC,mBAAqB,CACtB,AAED,UACE,qBAAsB,AACtB,wBAAyB,AACzB,wBAA4B,AAC5B,4BAA6B,AAC7B,WAAY,AACZ,YAAa,AACb,iBAAmB,CACpB,AAED,UACE,0BAA2B,AAC3B,yBAA0B,AAC1B,2BAA6B,CAC9B,AAED,UACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,qBAAuB,CAChC,AAED,mBACE,gBAAkB,CACnB,AAED,mBACE,gBAAkB,CACnB,AAED,UACE,eAAgB,AAChB,eAAgB,AAChB,aAAe,CAChB,AAED,UAEE,aAAe,CAChB,AAED,UAEE,aAAe,CAChB,AAED,UACE,cAAgB,CACjB,AAED,oBACE,YAAc,CACf",file:"MessagesGroup.css",sourcesContent:[".base {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex\n}\n\n.base.inbound {\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n}\n\n.base.outbound {\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n}\n\n.author {\n  color: #6E7A89;\n  font-size: 12px;\n  line-height: 1;\n  margin-left: 12px;\n  margin-bottom: 3px;\n}\n\n.avatarContainer {\n  width: 30px;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n  padding-bottom: 23px;\n}\n\n.avatar {\n  display: inline-block;\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n}\n\n.defaultAvatar {\n  background-size: 18px 18px;\n  background-color: #9EABBA;\n  border-radius: 30px 30px 4px;\n}\n\n.right {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n\n.right.outbound {\n  text-align: right;\n}\n\n.right.withAvatar {\n  margin-left: 10px;\n}\n\n.meta {\n  font-size: 13px;\n  margin-top: 7px;\n  line-height: 1;\n}\n\n.time {\n  composes: meta;\n  color: #A8B6C2;\n}\n\n.error {\n  composes: meta;\n  color: #FF5959;\n}\n\n.bubbleContainer {\n  margin-top: 2px;\n}\n\n.author + .bubbleContainer {\n  margin-top: 0;\n}"],sourceRoot:""}]),t.locals={base:"fc-2El1N",inbound:"fc-19Y8X",outbound:"fc-2JbFP",author:"fc-1JcZA",avatarContainer:"fc-2wWOr",avatar:"fc-33Wlm",defaultAvatar:"fc-1P2cw",right:"fc-FzJyM",withAvatar:"fc-LK4J7",meta:"fc-3j1JO",time:"fc-3HU3s fc-3j1JO",error:"fc-xMbZu fc-3j1JO",bubbleContainer:"fc-2WCD_"}},function(e,t,n){var r,o=n(218);"string"==typeof o&&(o=[[e.i,o,""]]),r=n(8);var i={transform:"./transform-styles.js",singleton:!1,hmr:!0};i.transform=r,i.insertInto=void 0;n(7)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n(18)),o=y(n(68)),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=y(n(0)),s=y(n(1)),u=y(n(12)),c=n(50),l=y(n(219)),f=y(n(217)),d=y(n(207)),p=y(n(206)),h=y(n(124));function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=u.default.bind(l.default),v=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return n=o=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.computePositionString=function(e,t){var n=t.length;return 0===e&&1===n?"alone":e===n-1?"last":0===e?"first":"middle"},o.renderBottomLine=function(e){var t=e[e.length-1],n="ERROR"===t.syncState,r=m(n?"error":"time");if("ERROR"===t.syncState)return a.default.createElement("span",{className:r},"An error occured. We will retry to send as soon as possible.");var o=t.timestamp,i="SENDING"===t.syncState?"Sending...":a.default.createElement(p.default,{date:o});return a.default.createElement("span",{className:r},i)},o.renderImageBubble=function(e,t,n){var o=(0,r.default)(e.parts,function(e){return 0===e.mimeType.indexOf("image/")});if(!o)return null;var i=o.url;return a.default.createElement("div",{key:e.id,className:l.default.bubbleContainer,style:{fontSize:0}},a.default.createElement(d.default,{url:i,messageId:e.id,positionInList:t,direction:n}))},o.renderSingleMessage=function(e,t,n){var r=o.computePositionString(t,n),i={body:e.body,accentColor:o.props.accentColor,useBlackSecondaryColor:o.props.useBlackSecondaryColor,direction:o.props.direction,positionInList:r};return(0,c.messageHasAttachments)(e)||""!==i.body?(0,c.messageHasAttachments)(e)?o.renderImageBubble(e,r,o.props.direction):a.default.createElement("div",{key:e.id,className:l.default.bubbleContainer},a.default.createElement(f.default,i)):null},g(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.messages,n=e.direction,r=this.props.author.avatar||h.default;return a.default.createElement("div",{className:m("base",n),key:this.props.groupKey},"inbound"===n?a.default.createElement("div",{className:l.default.avatarContainer},a.default.createElement("div",{className:m("avatar",{defaultAvatar:!this.props.author.avatar}),style:{backgroundImage:"url("+r+")"}})):null,a.default.createElement("div",{className:m("right",n,{withAvatar:"inbound"===n})},this.props.author.name?a.default.createElement("span",{className:m("author")},this.props.author.name):null,(0,o.default)(t,this.renderSingleMessage),this.renderBottomLine(t)))}}]),t}();v.propTypes={messages:s.default.array.isRequired,author:s.default.shape({name:s.default.string,avatar:s.default.string}),groupKey:s.default.string.isRequired,accentColor:s.default.string.isRequired,useBlackSecondaryColor:s.default.bool.isRequired,direction:s.default.oneOf(["inbound","outbound"]).isRequired},v.defaultProps={author:{name:"",avatar:null}},t.default=v},function(e,t,n){(t=e.exports=n(5)(!0)).push([e.i,".fc-2setg{-webkit-box-flex:1;-ms-flex:1;flex:1;position:relative;overflow:auto}.fc-B12F_{padding:20px;min-height:calc(100% - 42px)}.fc-13gO1{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.fc-1_tjF{color:#8898aa;text-align:center;padding:13px 0;font-size:12px;height:42px}.fc-1_tjF>a{display:inline-block;vertical-align:middle}","",{version:3,sources:["/home/circleci/frontapp/front-chat/src/components/MessageListContainer/MessageList.css"],names:[],mappings:"AAAA,UACE,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,kBAAmB,AACnB,aAAe,CAChB,AAED,UACE,aAAc,AACd,4BAA8B,CAC/B,AAMD,UAEE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,yBAA0B,AACtB,sBAAuB,AACnB,kBAAoB,CAC7B,AAED,UACE,cAAe,AACf,kBAAmB,AACnB,eAAgB,AAChB,eAAgB,AAChB,WAAa,CACd,AAED,YACE,qBAAsB,AACtB,qBAAuB,CACxB",file:"MessageList.css",sourcesContent:[".base {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  position: relative;\n  overflow: auto;\n}\n\n.contentWrap {\n  padding: 20px;\n  min-height: calc(100% - 42px);\n}\n\n.messagesWrap {\n  composes: contentWrap;\n}\n\n.loadingWrap {\n  composes: contentWrap;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n\n.poweredBy {\n  color: #8898AA;\n  text-align: center;\n  padding: 13px 0;\n  font-size: 12px;\n  height: 42px;\n}\n\n.poweredBy > a {\n  display: inline-block;\n  vertical-align: middle;\n}"],sourceRoot:""}]),t.locals={base:"fc-2setg",contentWrap:"fc-B12F_",messagesWrap:"fc-1Plkm fc-B12F_",loadingWrap:"fc-13gO1 fc-B12F_",poweredBy:"fc-1_tjF"}},function(e,t,n){var r,o=n(221);"string"==typeof o&&(o=[[e.i,o,""]]),r=n(8);var i={transform:"./transform-styles.js",singleton:!1,hmr:!0};i.transform=r,i.insertInto=void 0;n(7)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.elem=t}return r(e,[{key:"start",value:function(){this.handler=this.onMouseWheel.bind(this),this.elem.addEventListener("mousewheel",this.handler,!1)}},{key:"stop",value:function(){this.elem.removeEventListener("mousewheel",this.handler)}},{key:"onMouseWheel",value:function(e){if(!e.preventParentScroll){var t=this.getDelta(e);if(t){var n=this.elem.getBoundingClientRect().height,r=window.getComputedStyle(this.elem),o=n-(parseFloat(r.borderTopWidth||"")||0)-(parseFloat(r.borderBottomWidth||"")||0);this.maybePreventMouseWheel(t,o,this.elem.scrollTop,this.elem.scrollHeight,e)}e.preventParentScroll=!0}}},{key:"getDelta",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.wheelDelta){var n=e.wheelDeltaY;return t&&(n=e.wheelDeltaX),n}if(e.detail){if(e.axis&&(1===e.axis&&t||2===e.axis&&!t))return-1*e.detail*12}else if(e.deltaMode)return t?e.deltaX:e.deltaY;return 0}},{key:"maybePreventMouseWheel",value:function(e,t,n,r,o){e<0&&this.scrollIsMaxed(t,n,r)?o.preventDefault():e>0&&this.scrollIsMinned(n)&&o.preventDefault()}},{key:"scrollIsMaxed",value:function(e,t,n){return e+t===n}},{key:"scrollIsMinned",value:function(e){return 0===e}}]),e}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t){e.exports=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(121)),o=m(n(158)),i=m(n(224)),a=m(n(68)),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=m(n(0)),l=m(n(1)),f=m(n(223)),d=n(50),p=m(n(222)),h=m(n(220)),y=m(n(204)),g=m(n(203));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onImgLoad=function(e){"IMG"===e.target.nodeName&&n.state.stickToBottom&&n.scrollBottom()},n.preventParentScroll=null,n.handleScroll=(0,r.default)(function(){if(n.baseNode){0===n.baseNode.scrollTop&&n.props.onLoadMore&&n.props.loaded&&n.props.onLoadMore();var e=n.baseNode.scrollHeight-1<=n.baseNode.clientHeight+n.baseNode.scrollTop;e!==n.state.stickToBottom&&n.setState({stickToBottom:e})}},500),n.scrollBottom=(0,r.default)(function(){n.baseNode.scrollTop=n.baseNode.scrollHeight}),n.constructMultipartMessages=function(e){return(0,i.default)(e.parts,function(t,n,r){return n.mimeType.indexOf("front/")>-1?t:t.concat(s({},e,{id:r+":"+e.id,parts:[n]}))},[])},n.buildMessageGroups=function(e){return(0,i.default)(e,function(t,r){var i,a=e.indexOf(r),s=Boolean(e[a-1]&&(e[a-1].author.id===r.author.id||e[a-1].author.name&&e[a-1].author.name===r.author.name)),u=(0,d.getMessageBody)(r)||(0,d.messageHasAttachments)(r),c=(0,o.default)(r.parts,function(e){return-1===e.mimeType.indexOf("front/")}).length?n.constructMultipartMessages(r):[r];return u?s&&t[t.length-1]?((i=t[t.length-1]).push.apply(i,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(c)),t):t.concat([c]):t},[])},n.renderMessageGroup=function(e,t){var r=e[0].author,o={key:r.id+":"+t,groupKey:r.id+":"+t,messages:e,author:r,direction:e[0].is_inbound?"inbound":"outbound",accentColor:n.props.accentColor,useBlackSecondaryColor:n.props.useBlackSecondaryColor};return c.default.createElement(h.default,o)},n.state={stickToBottom:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),u(t,[{key:"componentDidMount",value:function(){this.preventParentScroll=new f.default(this.baseNode),this.preventParentScroll.start(),this.scrollBottom()}},{key:"componentDidUpdate",value:function(){this.state.stickToBottom&&this.scrollBottom()}},{key:"componentWillUnmount",value:function(){this.preventParentScroll.stop()}},{key:"render",value:function(){var e=this,t=this.props.messages;return c.default.createElement("div",{className:p.default.base,ref:function(t){e.baseNode=t},onLoad:this.onImgLoad,onScroll:this.handleScroll},this.props.loaded?c.default.createElement("div",{className:p.default.messagesWrap},(0,a.default)(this.buildMessageGroups(t),function(t,n){return e.renderMessageGroup(t,n)})):!this.props.alert&&c.default.createElement("div",{className:p.default.loadingWrap},c.default.createElement(g.default,null)),!this.props.hidePoweredBy&&c.default.createElement("div",{className:p.default.poweredBy},"Powered by ",c.default.createElement(y.default,null)))}}]),t}();v.propTypes={messages:l.default.array.isRequired,loaded:l.default.bool.isRequired,useBlackSecondaryColor:l.default.bool.isRequired,accentColor:l.default.string.isRequired,onLoadMore:l.default.func,alert:l.default.string,hidePoweredBy:l.default.bool},v.defaultProps={onLoadMore:void 0,alert:void 0,hidePoweredBy:!1},t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(0)),o=c(n(1)),i=n(15),a=n(20),s=n(13),u=c(n(225));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return r.default.createElement(u.default,{loaded:e.conversationLoaded,messages:e.messages,accentColor:e.accentColor,useBlackSecondaryColor:e.useBlackSecondaryColor,onLoadMore:e.loadMoreMessages,alert:e.alert,hidePoweredBy:e.hidePoweredBy})};l.propTypes={messages:o.default.array,accentColor:o.default.string.isRequired,useBlackSecondaryColor:o.default.bool.isRequired,loadMoreMessages:o.default.func.isRequired,conversationLoaded:o.default.bool.isRequired,alert:o.default.string,hidePoweredBy:o.default.bool},l.defaultProps={messages:[],alert:void 0,hidePoweredBy:!1},t.default=(0,i.connect)(function(e){return{accentColor:e.settings.color,useBlackSecondaryColor:e.settings.useBlackSecondaryColor,conversationLoaded:e.layer.conversation.loaded,messages:e.messages,alert:e.layer.alert,hidePoweredBy:e.settings.hidePoweredBy}},function(e){return(0,a.bindActionCreators)({loadMoreMessages:s.loadMoreMessages},e)})(l)},function(e,t,n){(t=e.exports=n(5)(!0)).push([e.i,".fc-1EfgV{display:-webkit-box;display:-ms-flexbox;display:flex}.fc-1WY2d{background:#fff;outline:0;border:1px solid #d2d4d6;border-right:0;border-radius:4px 0 0 4px;color:#6f7175;padding:8px 10px;font-size:14px;-webkit-box-flex:1;-ms-flex:1;flex:1}.fc-1WY2d::-webkit-input-placeholder{color:#c6cfd6}.fc-1WY2d:-ms-input-placeholder,.fc-1WY2d::-ms-input-placeholder{color:#c6cfd6}.fc-1WY2d::placeholder{color:#c6cfd6}.fc-pR-xV{-ms-flex-negative:0;flex-shrink:0;outline:none;border:none;color:#fff;font-size:12px;padding:9px 12px;border-radius:0 4px 4px 0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.fc-pR-xV:disabled,.fc-pR-xV[disabled]{opacity:.6;cursor:not-allowed}.fc-1UYcG{color:rgba(0,0,0,.7)}","",{version:3,sources:["/home/circleci/frontapp/front-chat/src/components/InputWithButton/InputWithButton.css"],names:[],mappings:"AAAA,UACE,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CACf,AAED,UACE,gBAAiB,AACjB,UAAW,AACX,yBAA0B,AAC1B,eAAgB,AAChB,0BAA2B,AAC3B,cAAe,AACf,iBAAkB,AAClB,eAAgB,AAChB,mBAAoB,AAChB,WAAY,AACR,MAAO,CAChB,AAED,qCACE,aAAe,CAChB,AAMD,iEACE,aAAe,CAChB,AAED,uBACE,aAAe,CAChB,AAED,UACE,oBAAqB,AACjB,cAAe,AACnB,aAAc,AACd,YAAa,AACb,WAAa,AACb,eAAgB,AAChB,iBAAkB,AAClB,0BAA2B,AAC3B,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,wBAAyB,AACrB,qBAAsB,AAClB,sBAAwB,CACjC,AAED,uCAEE,WAAa,AACb,kBAAoB,CACrB,AAED,UACE,oBAAyB,CAC1B",file:"InputWithButton.css",sourcesContent:[".form {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n.input {\n  background: #FFF;\n  outline: 0;\n  border: 1px solid #D2D4D6;\n  border-right: 0;\n  border-radius: 4px 0 0 4px;\n  color: #6F7175;\n  padding: 8px 10px;\n  font-size: 14px;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1\n}\n\n.input::-webkit-input-placeholder {\n  color: #C6CFD6;\n}\n\n.input:-ms-input-placeholder {\n  color: #C6CFD6;\n}\n\n.input::-ms-input-placeholder {\n  color: #C6CFD6;\n}\n\n.input::placeholder {\n  color: #C6CFD6;\n}\n\n.button {\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  outline: none;\n  border: none;\n  color: white;\n  font-size: 12px;\n  padding: 9px 12px;\n  border-radius: 0 4px 4px 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n\n.button:disabled,\n.button[disabled] {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.dark {\n  color: rgba(0, 0, 0, .7);\n}\n"],sourceRoot:""}]),t.locals={form:"fc-1EfgV",input:"fc-1WY2d",button:"fc-pR-xV",dark:"fc-1UYcG"}},function(e,t,n){var r,o=n(227);"string"==typeof o&&(o=[[e.i,o,""]]),r=n(8);var i={transform:"./transform-styles.js",singleton:!1,hmr:!0};i.transform=r,i.insertInto=void 0;n(7)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),i=c(n(1)),a=c(n(12)),s=c(n(228)),u=c(n(37));function c(e){return e&&e.__esModule?e:{default:e}}var l=a.default.bind(s.default),f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onInputChange=function(){var e=n.input.value;n.setState({value:e},function(){n.props.onChange({value:e})})},n.onSubmit=function(e){e.preventDefault(),e.stopPropagation(),n.validateInput()&&n.props.onSubmit()},n.onBlur=function(){n.setState({isFocused:!1})},n.onFocus=function(){n.setState({isFocused:!0})},n.emailRE=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n.validateInput=function(){var e=n.props.inputType,t=n.state.value;switch(e){case"email":return n.emailRE.test(t);default:return t.trim().length>0}},n.refInput=function(e){n.input=e},n.state={value:n.props.value,isFocused:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.input.focus()}},{key:"componentWillReceiveProps",value:function(e){this.state.isFocused||this.setState({value:e.value})}},{key:"render",value:function(){var e=this.props,t=e.color,n=e.useBlackSecondaryColor,r=e.inputType,i=l("button",{dark:n}),a=this.validateInput();return o.default.createElement("form",{className:l("form"),onSubmit:this.onSubmit},o.default.createElement("input",{className:l("input"),type:r,placeholder:"name@company.com",value:this.state.value,onChange:this.onInputChange,onInput:this.onInputChange,onBlur:this.onBlur,onFocus:this.onFocus,ref:this.refInput}),o.default.createElement(u.default,{disabled:!a,className:i,style:{backgroundColor:t},onClick:this.onSubmit},"Email me"))}}]),t}();f.propTypes={value:i.default.string,color:i.default.string,useBlackSecondaryColor:i.default.bool,onChange:i.default.func,inputType:i.default.oneOf(["email","text"]),onSubmit:i.default.func},f.defaultProps={value:"",color:"",useBlackSecondaryColor:!1,onChange:function(){},inputType:"text",onSubmit:function(){}},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(15),i=n(229),a=(r=i)&&r.__esModule?r:{default:r};t.default=(0,o.connect)(function(e){return{color:e.settings.color,useBlackSecondaryColor:e.settings.useBlackSecondaryColor}})(a.default)},function(e,t,n){(t=e.exports=n(5)(!0)).push([e.i,".fc-2ekU8{position:absolute;width:100%;padding:20px;bottom:0;z-index:9;background:#fff;-webkit-box-shadow:0 -2px 10px 0 rgba(0,0,0,.08);box-shadow:0 -2px 10px 0 rgba(0,0,0,.08);color:#6e7a89}","",{version:3,sources:["/home/circleci/frontapp/front-chat/src/components/ChatModal/ChatModal.css"],names:[],mappings:"AAAA,UACE,kBAAmB,AACnB,WAAY,AACZ,aAAc,AACd,SAAU,AACV,UAAW,AACX,gBAAkB,AAClB,iDAAqD,AAC7C,yCAA6C,AACrD,aAAe,CAChB",file:"ChatModal.css",sourcesContent:[".base {\n  position: absolute;\n  width: 100%;\n  padding: 20px;\n  bottom: 0;\n  z-index: 9;\n  background: white;\n  -webkit-box-shadow: 0 -2px 10px 0 rgba(0, 0, 0, .08);\n          box-shadow: 0 -2px 10px 0 rgba(0, 0, 0, .08);\n  color: #6E7A89;\n}\n"],sourceRoot:""}]),t.locals={base:"fc-2ekU8"}},function(e,t,n){var r,o=n(231);"string"==typeof o&&(o=[[e.i,o,""]]),r=n(8);var i={transform:"./transform-styles.js",singleton:!1,hmr:!0};i.transform=r,i.insertInto=void 0;n(7)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(0)),i=s(n(1)),a=s(n(232));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),r(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.children;return o.default.createElement("div",{className:a.default.base,style:t},n)}}]),t}();u.propTypes={children:i.default.oneOfType([i.default.arrayOf(i.default.node),i.default.node])},u.defaultProps={children:[]},t.default=u},function(e,t,n){(t=e.exports=n(5)(!0)).push([e.i,".fc-2avod{font-size:12px;font-weight:700;text-transform:uppercase;margin:0}.fc-1MYN-{font-size:14px;font-weight:500;line-height:1.7;margin:.8em 0}.fc-3FHm5{display:-webkit-box;display:-ms-flexbox;display:flex}.fc-2GQvS{font-size:12px;color:#9eabba;text-decoration:underline}.fc-2GQvS:hover{color:#6e7a89}.fc-18w2Y{text-align:center;padding:20px;padding-bottom:0}","",{version:3,sources:["/home/circleci/frontapp/front-chat/src/components/EmailCaptureModal/EmailCaptureModal.css"],names:[],mappings:"AAAA,UACE,eAAgB,AAChB,gBAAkB,AAClB,yBAA0B,AAC1B,QAAU,CACX,AAED,UACE,eAAgB,AAChB,gBAAiB,AACjB,gBAAiB,AACjB,aAAgB,CACjB,AAED,UACE,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CACf,AAED,UACE,eAAgB,AAChB,cAAe,AACf,yBAA0B,CAC3B,AAED,gBACE,aAAe,CAChB,AAED,UACE,kBAAmB,AACnB,aAAc,AACd,gBAAkB,CACnB",file:"EmailCaptureModal.css",sourcesContent:[".title {\n  font-size: 12px;\n  font-weight: bold;\n  text-transform: uppercase;\n  margin: 0;\n}\n\n.copy {\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 1.7;\n  margin: 0.8em 0;\n}\n\n.form {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n\n.inlineButton {\n  font-size: 12px;\n  color: #9EABBA;\n  text-decoration: underline\n}\n\n.inlineButton:hover {\n  color: #6E7A89;\n}\n\n.footer {\n  text-align: center;\n  padding: 20px;\n  padding-bottom: 0;\n}\n"],sourceRoot:""}]),t.locals={title:"fc-2avod",copy:"fc-1MYN-",form:"fc-3FHm5",inlineButton:"fc-2GQvS",footer:"fc-18w2Y"}},function(e,t,n){var r,o=n(234);"string"==typeof o&&(o=[[e.i,o,""]]),r=n(8);var i={transform:"./transform-styles.js",singleton:!1,hmr:!0};i.transform=r,i.insertInto=void 0;n(7)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(0)),i=c(n(1)),a=c(n(235)),s=c(n(233)),u=c(n(230));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateEmail=function(e){var t=e.value;n.setState({email:t})},n.submitEmail=function(){n.props.onSubmitEmail(n.state.email)},n.state={email:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.onDismiss;return o.default.createElement(s.default,null,o.default.createElement("h4",{className:a.default.title},"Notify Me"),o.default.createElement("p",{className:a.default.copy},"Need to go? Leave your email address and we will follow up with you."),o.default.createElement(u.default,{onChange:this.updateEmail,onSubmit:this.submitEmail,inputType:"email"}),o.default.createElement("div",{className:a.default.footer},o.default.createElement("span",{className:a.default.inlineButton,role:"button",tabIndex:"0",onClick:e},"Maybe later")))}}]),t}();l.propTypes={onDismiss:i.default.func,onSubmitEmail:i.default.func},l.defaultProps={onDismiss:function(){},onSubmitEmail:function(){}},t.default=l},function(e,t,n){(t=e.exports=n(5)(!0)).push([e.i,".fc-36OfK{background:rgba(0,0,0,.6);position:absolute;top:0;left:0;right:0;bottom:0;z-index:10;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.fc-2jfZ7{width:200px;background:#fff;border-radius:6px;text-align:center;font-size:0;overflow:hidden;padding:24px;padding-bottom:0}.fc-2jfZ7:focus{outline:0}.fc-8iO_4{color:#ff5959}.fc-8iO_4>svg{width:30px;height:30px}.fc-1YLXV,.fc-sZNBL{color:#6e7a89;margin:0}.fc-sZNBL{font-size:12px;line-height:1.7;margin-bottom:25px}.fc-1YLXV{font-weight:400;font-size:16px;margin:15px 0}.fc-1dgSq{width:calc(100% + 48px);margin-left:-var(--padding);font-weight:500;font-size:14px;text-transform:uppercase;display:inline-block;border-radius:0;padding-top:12px;padding-bottom:13px;color:#fff}.fc-2aFD3{color:rgba(0,0,0,.7)}","",{version:3,sources:["/home/circleci/frontapp/front-chat/src/components/Alert/Alert.css"],names:[],mappings:"AAAA,UACE,0BAA8B,AAC9B,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,QAAS,AACT,SAAU,AACV,WAAY,AAEZ,oBAAqB,AAErB,oBAAqB,AAErB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,yBAA0B,AACtB,sBAAuB,AACnB,kBAAoB,CAC7B,AAED,UACE,YAAa,AACb,gBAAoB,AACpB,kBAAmB,AACnB,kBAAmB,AACnB,YAAa,AACb,gBAAiB,AAEjB,aAAc,AACd,gBAAiB,CAClB,AAED,gBACE,SAAW,CACZ,AAED,UACE,aAAc,CACf,AAED,cACE,WAAY,AACZ,WAAa,CACd,AAED,oBAEE,cAAe,AACf,QAAU,CACX,AAED,UACE,eAAgB,AAChB,gBAAiB,AACjB,kBAAoB,CACrB,AAED,UACE,gBAAoB,AACpB,eAAgB,AAChB,aAAe,CAChB,AAED,UACE,wBAAyB,AACzB,4BAA6B,AAC7B,gBAAiB,AACjB,eAAgB,AAChB,yBAA0B,AAC1B,qBAAsB,AACtB,gBAAiB,AACjB,iBAAkB,AAClB,oBAAqB,AACrB,UAAa,CACd,AAED,UACE,oBAAyB,CAC1B",file:"Alert.css",sourcesContent:[".overlay {\n  background: rgba(0, 0, 0, .6);\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 10;\n\n  display: -webkit-box;\n\n  display: -ms-flexbox;\n\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n\n.window {\n  width: 200px;\n  background: #FFFFFF;\n  border-radius: 6px;\n  text-align: center;\n  font-size: 0;\n  overflow: hidden;\n\n  padding: 24px;\n  padding-bottom: 0\n}\n\n.window:focus {\n  outline: 0;\n}\n\n.icon {\n  color: #FF5959\n}\n\n.icon > svg {\n  width: 30px;\n  height: 30px;\n}\n\n.message,\n.title {\n  color: #6E7A89;\n  margin: 0;\n}\n\n.message {\n  font-size: 12px;\n  line-height: 1.7;\n  margin-bottom: 25px;\n}\n\n.title {\n  font-weight: normal;\n  font-size: 16px;\n  margin: 15px 0;\n}\n\n.button {\n  width: calc(100% + 48px);\n  margin-left: -var(--padding);\n  font-weight: 500;\n  font-size: 14px;\n  text-transform: uppercase;\n  display: inline-block;\n  border-radius: 0;\n  padding-top: 12px;\n  padding-bottom: 13px;\n  color: white;\n}\n\n.dark-text {\n  color: rgba(0, 0, 0, .7);\n}"],sourceRoot:""}]),t.locals={overlay:"fc-36OfK",window:"fc-2jfZ7",icon:"fc-8iO_4",message:"fc-sZNBL",title:"fc-1YLXV",button:"fc-1dgSq","dark-text":"fc-2aFD3"}},function(e,t,n){var r,o=n(237);"string"==typeof o&&(o=[[e.i,o,""]]),r=n(8);var i={transform:"./transform-styles.js",singleton:!1,hmr:!0};i.transform=r,i.insertInto=void 0;n(7)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function i(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=o),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",function(){return a}),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},function(e,t,n){var r;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/
!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var r={},o={};t.add=function(e,t){return n=e.classList,i="html"==e.nodeName.toLowerCase()?r:o,void t.split(" ").forEach(function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(i,e),n.add(e)});var n,i},t.remove=function(e,t){return n=e.classList,i="html"==e.nodeName.toLowerCase()?r:o,void t.split(" ").forEach(function(e){!function(e,t){e[t]&&(e[t]-=1)}(i,e),0===i[e]&&n.remove(e)});var n,i}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,i.default)(e);if(!n.length)return void t.preventDefault();var r,o=t.shiftKey,a=n[0],s=n[n.length-1];if(e===document.activeElement){if(!o)return;r=s}s!==document.activeElement||o||(r=a);a===document.activeElement&&o&&(r=s);if(r)return t.preventDefault(),void r.focus();var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==u||"Chrome"==u[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var c=n.indexOf(document.activeElement);c>-1&&(c+=o?-1:1);t.preventDefault(),n[c].focus()};var r,o=n(120),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=c,t.handleFocus=l,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==a.length&&(e=a.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",l,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",l))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",l)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",l))};var r,o=n(120),i=(r=o)&&r.__esModule?r:{default:r};var a=[],s=null,u=!1;function c(){u=!0}function l(){if(u){if(u=!1,!s)return;setTimeout(function(){s.contains(document.activeElement)||((0,i.default)(s)[0]||s).focus()},0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=y(a),u=y(n(1)),c=h(n(244)),l=y(n(243)),f=h(n(119)),d=h(n(241)),p=y(n(118));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}var g={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},m=9,v=27,b=0,_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,o=e.htmlOpenClassName,i=e.bodyOpenClassName;d.remove(document.body,i),o&&d.remove(document.getElementsByTagName("html")[0],o),r&&b>0&&0===(b-=1)&&f.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(c.returnFocus(),c.teardownScopedFocus()):c.popWithoutFocus())},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(c.setupScopedFocus(n.node),c.markForFocusLater()),n.setState({isOpen:!0},function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen()}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){e.keyCode===m&&(0,l.default)(n.content,e),n.props.shouldCloseOnEsc&&e.keyCode===v&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===(void 0===t?"undefined":o(t))?t:{base:g[e],afterOpen:g[e]+"--after-open",beforeClose:g[e]+"--before-close"},i=r.base;return n.state.afterOpen&&(i=i+" "+r.afterOpen),n.state.beforeClose&&(i=i+" "+r.beforeClose),"string"==typeof t&&t?i+" "+t:i},n.ariaAttributes=function(e){return Object.keys(e).reduce(function(t,n){return t["aria-"+n]=e[n],t},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),i(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,o=e.bodyOpenClassName;d.add(document.body,o),r&&d.add(document.getElementsByTagName("html")[0],r),n&&(b+=1,f.hide(t))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.overlayClassName,o=e.defaultStyles,i=t?{}:o.content,a=n?{}:o.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",n),style:r({},a,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown,"aria-modal":"true"},s.default.createElement("div",r({ref:this.setContentRef,style:r({},i,this.props.style.content),className:this.buildClassName("content",t),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.ariaAttributes(this.props.aria||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}();_.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},_.propTypes={isOpen:u.default.bool.isRequired,defaultStyles:u.default.shape({content:u.default.object,overlay:u.default.object}),style:u.default.shape({content:u.default.object,overlay:u.default.object}),className:u.default.oneOfType([u.default.string,u.default.object]),overlayClassName:u.default.oneOfType([u.default.string,u.default.object]),bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,ariaHideApp:u.default.bool,appElement:u.default.instanceOf(p.default),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,role:u.default.string,contentLabel:u.default.string,aria:u.default.object,children:u.default.node,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,testId:u.default.string},t.default=_,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=h(i),s=h(n(166)),u=h(n(1)),c=h(n(245)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(119)),f=n(118),d=h(f),p=n(239);function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=t.portalClassName="ReactModalPortal",m=t.bodyOpenClassName="ReactModal__Body--open",v=void 0!==s.default.createPortal,b=v?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer;function _(e){return e()}var A=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),l=0;l<i;l++)u[l]=arguments[l];return n=o=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.removePortal=function(){!v&&s.default.unmountComponentAtNode(o.node),_(o.props.parentSelector).removeChild(o.node)},o.portalRef=function(e){o.portal=e},o.renderPortal=function(e){var n=b(o,a.default.createElement(c.default,r({defaultStyles:t.defaultStyles},e)),o.node);o.portalRef(n)},y(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentDidMount",value:function(){f.canUseDOM&&(v||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,_(this.props.parentSelector).appendChild(this.node),!v&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:_(e.parentSelector),nextParent:_(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(f.canUseDOM){var r=this.props,o=r.isOpen,i=r.portalClassName;if(e.portalClassName!==i&&(this.node.className=i),e.isOpen||o){var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),!v&&this.renderPortal(this.props)}}}},{key:"componentWillUnmount",value:function(){if(f.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return f.canUseDOM&&v?(!this.node&&v&&(this.node=document.createElement("div")),b(a.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){l.setElement(e)}}]),t}();A.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.instanceOf(d.default),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,parentSelector:u.default.func,aria:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func},A.defaultProps={isOpen:!1,portalClassName:g,bodyOpenClassName:m,ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},A.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,p.polyfill)(A),t.default=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(246),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(0)),i=p(n(1)),a=n(15),s=p(n(12)),u=p(n(247)),c=p(n(123)),l=p(n(238)),f=p(n(38)),d=p(n(37));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=s.default.bind(l.default),g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onOverlayClick=function(e){e.target.className===l.default.overlay&&(e.preventDefault(),e.stopPropagation())},r.onDismiss=function(e){r.props.onDismiss(e)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){u.default.setAppElement("."+c.default.windowBase)}},{key:"render",value:function(){var e=this.props,t=e.accentColor,n=e.useBlackSecondaryColor,r=e.title,i=e.message,a=e.isOpen;return o.default.createElement(u.default,{overlayClassName:y("overlay"),className:y("window"),isOpen:a,onRequestClose:this.onDismiss,shouldReturnFocusAfterClose:!1,parentSelector:function(){return document.querySelector("."+c.default.windowBase)}},o.default.createElement("div",{className:y("icon")},o.default.createElement(f.default,{icon:"error"})),o.default.createElement("h6",{className:y("title")},r),o.default.createElement("p",{className:y("message")},i),o.default.createElement(d.default,{className:y("button",{"dark-text":n}),onClick:this.onDismiss,style:{backgroundColor:t}},"Ok"))}}]),t}();g.propTypes={isOpen:i.default.bool.isRequired,accentColor:i.default.string.isRequired,useBlackSecondaryColor:i.default.bool.isRequired,title:i.default.string,message:i.default.string,onDismiss:i.default.func.isRequired},g.defaultProps={title:"Error",message:"An error occured"},t.default=(0,a.connect)(function(e){return{accentColor:e.settings.color,useBlackSecondaryColor:e.settings.useBlackSecondaryColor}})(g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(144)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),a=f(i),s=f(n(1)),u=f(n(38)),c=f(n(37)),l=f(n(248));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var p=10485760,h=["image/png","image/jpeg","image/jpg","image/gif"],y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(e){var t=e.target.files;0!==t.length&&((0,r.default)([].concat(d(t)),function(e){return e.size>p})?n.setState({fileError:!0,fileErrorMessage:"Maximum file size is 10MB"}):(0,r.default)([].concat(d(t)),function(e){return!h.includes(e.type)})?n.setState({fileError:!0,fileErrorMessage:"File type not allowed"}):n.props.onFilesSelected(e.target.files))},n.state={fileError:!1,fileErrorMessage:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"render",value:function(){var e=this;return a.default.createElement(c.default,{className:this.props.className,onClick:function(){return e.input.click()}},a.default.createElement(l.default,{isOpen:this.state.fileError,title:"File Error",message:this.state.fileErrorMessage,onDismiss:function(t){t.preventDefault(),t.stopPropagation(),e.setState({fileError:!e.state.fileError})}}),a.default.createElement(u.default,{icon:"attachment"}),a.default.createElement("input",{ref:function(t){e.input=t},onChange:this.onChange,multiple:this.props.multiple,type:"file",accept:"image/*",style:{display:"none"}}))}}]),t}();y.propTypes={className:s.default.string,onFilesSelected:s.default.func.isRequired,multiple:s.default.bool},y.defaultProps={className:"",multiple:!1},t.default=y},function(e,t,n){var r=n(49);e.exports=function(){return r.Date.now()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(121)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),a=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var u=250,c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onKeyPress=function(e){13===(e.keyCode||e.charCode)&&!e.shiftKey&&n.props.onSubmit&&(e.preventDefault(),e.stopPropagation(),n.props.onSubmit(),n.setState({value:""}))},n.onKeyDown=function(){var e=n.textArea.selectionEnd;n.setState({curPosition:e},function(){n.changed({curPosition:n.state.curPosition})})},n.onInputChange=function(){if(!n.props.disabled){var e=n.textArea.value,t=n.getCursorPosition();n.setState({value:e,curPosition:t},function(){n.resizeTextArea(),n.props.onChange({value:e,curPosition:t})})}},n.getCursorPosition=function(){return n.textArea.selectionEnd},n.textAreaStyle={resize:"none"},n.resizeTextArea=function(){n.textArea.style.height="";var e=n.textArea.scrollHeight,t=n.props.minHeight;n.textArea.style.height=Math.min(e,t)+"px",n.textArea.scrollTop=1e5},n.refTextArea=function(e){n.textArea=e,n.props.refTextArea&&n.props.refTextArea(e)},n.state={value:n.props.textValue,curPosition:0},n.changed=(0,r.default)(n.props.onChange,u),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.PureComponent),o(t,[{key:"componentDidMount",value:function(){this.textArea&&(this.resizeTextArea(),this.textArea.focus())}},{key:"componentWillReceiveProps",value:function(e){""===e.textValue&&""!==this.props.textValue&&this.setState({value:"",curPosition:0})}},{key:"componentDidUpdate",value:function(){this.resizeTextArea()}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.className,r=e.disabled;return i.default.createElement("textarea",{disabled:r,ref:this.refTextArea,value:this.state.value,onInput:this.onInputChange,onKeyPress:this.onKeyPress,onKeyDown:this.onKeyDown,onChange:this.onInputChange,placeholder:t,style:this.textAreaStyle,rows:"1",className:n})}}]),t}();c.propTypes={disabled:a.default.bool,minHeight:a.default.number,placeholder:a.default.string,onChange:a.default.func,onSubmit:a.default.func,className:a.default.string,textValue:a.default.string,refTextArea:a.default.func},c.defaultProps={disabled:!1,minHeight:202,placeholder:"Type a message...",onChange:function(){},onSubmit:void 0,className:"",textValue:"",refTextArea:void 0},t.default=c},function(e,t,n){(t=e.exports=n(5)(!0)).push([e.i,".fc-2QcUH{-ms-flex-negative:0;flex-shrink:0;position:relative}.fc-1z3F2{background-color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;z-index:1;position:relative;border-top:1px solid rgba(0,0,0,.05)}.fc-1_L-N{margin:0!important;padding:15px 20px!important;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-negative:1;flex-shrink:1;min-width:0;border:none;background:transparent;outline:none;min-height:50px;height:50px;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;font-size:14px;font-style:normal;font-weight:400;-webkit-box-shadow:none;box-shadow:none;color:#6f7175;letter-spacing:0;line-height:20px;width:auto;overflow:auto}.fc-1_L-N::-webkit-input-placeholder{color:#c6cfd6}.fc-1_L-N:-ms-input-placeholder,.fc-1_L-N::-ms-input-placeholder{color:#c6cfd6}.fc-1_L-N::placeholder{color:#c6cfd6}@media (max-width:760px){.fc-1_L-N{font-size:16px}}.fc-1cj3R{display:inline-block;width:22px;height:22px;-webkit-box-sizing:content-box!important;box-sizing:content-box!important;padding:14px 0;background:transparent;color:#c7cfd8;-webkit-transition:color .15s ease;transition:color .15s ease}.fc-1cj3R.fc-3RSeL{color:#b3bcc7}.fc-1cj3R:hover{color:#6e7a89}.fc-2FMHe{-ms-flex-negative:0;flex-shrink:0;padding:0 18px;font-size:0;display:inline-block}.fc-2FMHe>.fc-1cj3R{margin-left:10px}.fc-2FMHe>.fc-1cj3R:first-child{margin-left:0}.fc-GKuwW{position:absolute;background-color:#eceef1;color:#8898aa;font-weight:500;font-size:12px;z-index:0;top:0;-webkit-transform:translate(0);transform:translate(0);width:100%;padding-right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-transition:-webkit-transform .3s ease;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}.fc-GKuwW.fc-1Inm8{color:#bb4343}.fc-GKuwW.fc-21J_2{-webkit-transform:translateY(-100%);transform:translateY(-100%)}.fc-2lAvK,.fc-2tddm{padding-top:12px;padding-bottom:12px}.fc-2tddm{padding-left:12px;line-height:1.45}.fc-2lAvK,.fc-2tddm{-webkit-box-flex:1;-ms-flex:1;flex:1}.fc-2lAvK{-ms-flex-negative:0;flex-shrink:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding-right:20px;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;color:inherit;font-weight:inherit;font-size:inherit;text-align:right;max-width:30%}.fc-2lAvK:hover{color:#6e7a89}.fc-2lAvK>span{text-decoration:underline}","",{version:3,sources:["/home/circleci/frontapp/front-chat/src/components/MessageInputContainer/MessageInput.css"],names:[],mappings:"AAAA,UACE,oBAAqB,AACjB,cAAe,AACnB,iBAAmB,CACpB,AAED,UACE,sBAAwB,AACxB,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,UAAW,AACX,kBAAmB,AACnB,oCAA0C,CAC3C,AAED,UACE,mBAAqB,AACrB,4BAA8B,AAC9B,mBAAoB,AAChB,oBAAqB,AACjB,YAAa,AACrB,oBAAqB,AACjB,cAAe,AACnB,YAAa,AACb,YAAa,AACb,uBAAwB,AACxB,aAAc,AACd,gBAAiB,AACjB,YAAa,AACb,8BAA+B,AACvB,sBAAuB,AAC/B,qBAAsB,AACtB,eAAgB,AAChB,kBAAmB,AACnB,gBAAoB,AACpB,wBAAyB,AACjB,gBAAiB,AACzB,cAAe,AACf,iBAAkB,AAClB,iBAAkB,AAClB,WAAY,AACZ,aAAc,CACf,AAED,qCACE,aAAe,CAChB,AAMD,iEACE,aAAe,CAChB,AAED,uBACE,aAAe,CAChB,AAED,yBACE,UACE,cAAgB,CACjB,CACF,AAED,UACE,qBAAsB,AACtB,WAAY,AACZ,YAAa,AACb,yCAA2C,AACnC,iCAAmC,AAC3C,eAAgB,AAChB,uBAAwB,AACxB,cAAe,AACf,mCAAqC,AACrC,0BAA4B,CAC7B,AAED,mBACE,aAAe,CAChB,AAED,gBACE,aAAe,CAChB,AAED,UACE,oBAAqB,AACjB,cAAe,AACnB,eAAgB,AAChB,YAAa,AACb,oBAAqB,CACtB,AAED,oBACE,gBAAkB,CACnB,AAED,gCACE,aAAe,CAChB,AAED,UACE,kBAAmB,AACnB,yBAA0B,AAC1B,cAAe,AACf,gBAAiB,AACjB,eAAgB,AAChB,UAAW,AACX,MAAO,AACP,+BAAoC,AAC5B,uBAA4B,AACpC,WAAY,AAEZ,gBAAiB,AAEjB,oBAAqB,AAErB,oBAAqB,AAErB,aAAc,AACd,8CAAiD,AACjD,sCAAyC,AACzC,8BAAiC,AACjC,wDAA+D,CAChE,AAED,mBACE,aAAwB,CACzB,AAED,mBACE,oCAAuC,AAC/B,2BAA+B,CACxC,AAED,oBAEE,iBAAkB,AAClB,mBAAqB,CACtB,AAED,UAIE,kBAAmB,AACnB,gBAAkB,CACnB,AAED,oBAPE,mBAAoB,AAChB,WAAY,AACR,MAAQ,CAgCjB,AA3BD,UAIE,oBAAqB,AACjB,cAAe,AACnB,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,wBAAyB,AACrB,qBAAsB,AAClB,uBAAwB,AAChC,mBAAoB,AACpB,wBAAyB,AACtB,qBAAsB,AACjB,gBAAiB,AACzB,uBAAwB,AACxB,cAAe,AACf,oBAAqB,AACrB,kBAAmB,AAEnB,iBAAkB,AAClB,aAAc,CACf,AAED,gBACE,aAAe,CAChB,AAED,eACE,yBAA2B,CAC5B",file:"MessageInput.css",sourcesContent:[".inputBaseWrapper {\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  position: relative;\n}\n\n.inputBase {\n  background-color: white;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  z-index: 1;\n  position: relative;\n  border-top: 1px solid rgba(0, 0, 0, 0.05);\n}\n\n.textbox {\n  margin: 0 !important;\n  padding: 15px 20px !important;\n  -webkit-box-flex: 1;\n      -ms-flex-positive: 1;\n          flex-grow: 1;\n  -ms-flex-negative: 1;\n      flex-shrink: 1;\n  min-width: 0;\n  border: none;\n  background: transparent;\n  outline: none;\n  min-height: 50px;\n  height: 50px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  display: inline-block;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: normal;\n  -webkit-box-shadow: none;\n          box-shadow: none;\n  color: #6F7175;\n  letter-spacing: 0;\n  line-height: 20px;\n  width: auto;\n  overflow: auto\n}\n\n.textbox::-webkit-input-placeholder {\n  color: #C6CFD6;\n}\n\n.textbox:-ms-input-placeholder {\n  color: #C6CFD6;\n}\n\n.textbox::-ms-input-placeholder {\n  color: #C6CFD6;\n}\n\n.textbox::placeholder {\n  color: #C6CFD6;\n}\n\n@media (max-width: 760px) {\n  .textbox {\n    font-size: 16px;\n  }\n}\n\n.button {\n  display: inline-block;\n  width: 22px;\n  height: 22px;\n  -webkit-box-sizing: content-box !important;\n          box-sizing: content-box !important;\n  padding: 14px 0;\n  background: transparent;\n  color: #C7CFD8;\n  -webkit-transition: color 150ms ease;\n  transition: color 150ms ease\n}\n\n.button.semiActive {\n  color: #B3BCC7;\n}\n\n.button:hover {\n  color: #6E7A89;\n}\n\n.buttonsWrapper {\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  padding: 0 18px;\n  font-size: 0;\n  display: inline-block\n}\n\n.buttonsWrapper > .button {\n  margin-left: 10px;\n}\n\n.buttonsWrapper > .button:first-child {\n  margin-left: 0;\n}\n\n.banner {\n  position: absolute;\n  background-color: #ECEEF1;\n  color: #8898AA;\n  font-weight: 500;\n  font-size: 12px;\n  z-index: 0;\n  top: 0;\n  -webkit-transform: translate(0, 0%);\n          transform: translate(0, 0%);\n  width: 100%;\n\n  padding-right: 0;\n\n  display: -webkit-box;\n\n  display: -ms-flexbox;\n\n  display: flex;\n  -webkit-transition: -webkit-transform 300ms ease;\n  transition: -webkit-transform 300ms ease;\n  transition: transform 300ms ease;\n  transition: transform 300ms ease, -webkit-transform 300ms ease;\n}\n\n.banner.alert {\n  color: rgb(187, 67, 67);\n}\n\n.banner.visible {\n  -webkit-transform: translate(0, -100%);\n          transform: translate(0, -100%);\n}\n\n.bannerMessage,\n.bannerButton {\n  padding-top: 12px;\n  padding-bottom: 12px;\n}\n\n.bannerMessage {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  padding-left: 12px;\n  line-height: 1.45;\n}\n\n.bannerButton {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  padding-right: 20px;\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n  background: transparent;\n  color: inherit;\n  font-weight: inherit;\n  font-size: inherit;\n\n  text-align: right;\n  max-width: 30%\n}\n\n.bannerButton:hover {\n  color: #6E7A89;\n}\n\n.bannerButton > span {\n  text-decoration: underline;\n}\n"],sourceRoot:""}]),t.locals={inputBaseWrapper:"fc-2QcUH",inputBase:"fc-1z3F2",textbox:"fc-1_L-N",button:"fc-1cj3R",semiActive:"fc-3RSeL",buttonsWrapper:"fc-2FMHe",banner:"fc-GKuwW",alert:"fc-1Inm8",visible:"fc-21J_2",bannerMessage:"fc-2tddm",bannerButton:"fc-2lAvK"}},function(e,t,n){var r,o=n(252);"string"==typeof o&&(o=[[e.i,o,""]]),r=n(8);var i={transform:"./transform-styles.js",singleton:!1,hmr:!0};i.transform=r,i.insertInto=void 0;n(7)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(132)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(0)),a=p(n(1)),s=p(n(12)),u=p(n(253)),c=p(n(38)),l=p(n(37)),f=p(n(251)),d=p(n(249));function p(e){return e&&e.__esModule?e:{default:e}}var h=s.default.bind(u.default),y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=function(e){var t={};(0,r.default)(e.value)&&(t.message=e.value),e.curPosition&&(t.curPosition=e.curPosition),n.setState(t)},n.triggerSendMessage=function(e){""!==n.state.message.trim()?(n.props.sendMessage(n.state.message),n.setState({message:""})):e&&(e.preventDefault(),e.stopPropagation())},n.handleFileInputChange=function(e){n.props.onSelectFile(e)},n.refTextInput=function(e){n.textInput=e},n.renderAttachmentButton=function(){return i.default.createElement(d.default,{className:h("button"),onFilesSelected:n.handleFileInputChange})},n.state={message:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.PureComponent),o(t,[{key:"componentDidUpdate",value:function(e){e.emailCaptureModalVisible!==this.props.emailCaptureModalVisible&&!1===this.props.emailCaptureModalVisible&&this.textInput.focus()}},{key:"render",value:function(){var e=this.state.message.length>0;return i.default.createElement("div",{className:h("inputBaseWrapper"),style:this.props.enabled?{}:{pointerEvents:"none"}},i.default.createElement("div",{className:h("inputBase")},i.default.createElement(f.default,{disabled:!this.props.enabled,className:h("textbox"),onSubmit:this.triggerSendMessage,onChange:this.onChange,textValue:this.state.message,refTextArea:this.refTextInput}),i.default.createElement("div",{className:h("buttonsWrapper")},e?null:this.renderAttachmentButton(),i.default.createElement(l.default,{className:h("button",{semiActive:e}),onClick:this.triggerSendMessage,onTouchStart:this.triggerSendMessage},i.default.createElement(c.default,{icon:"send"})))),this.props.alert?i.default.createElement("div",{className:h("banner","alert","visible")},i.default.createElement("span",{className:h("bannerMessage")},this.props.alert)):i.default.createElement("div",{className:h("banner",{visible:this.props.emailCaptureVisible&&!this.props.verified})},i.default.createElement("span",{className:h("bannerMessage")},this.props.emailCaptured?"Thanks! We'll send you an email soon":this.props.emailCapturePrompt),this.props.emailCaptured?null:i.default.createElement(l.default,{className:h("bannerButton"),onClick:this.props.toggleEmailCaptureModal},i.default.createElement("span",null,"Notify me"))))}}]),t}();y.propTypes={enabled:a.default.bool.isRequired,sendMessage:a.default.func.isRequired,onSelectFile:a.default.func.isRequired,toggleEmailCaptureModal:a.default.func.isRequired,emailCapturePrompt:a.default.string,emailCaptured:a.default.bool.isRequired,emailCaptureModalVisible:a.default.bool.isRequired,emailCaptureVisible:a.default.bool.isRequired,alert:a.default.string,verified:a.default.bool},y.defaultProps={emailCapturePrompt:"",alert:void 0,verified:!1},t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(40)),o=n(15),i=n(13),a=n(30),s=u(n(254));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.connect)(function(e){return{enabled:e.layer.conversation.loaded,emailCapturePrompt:(0,r.default)(e,"settings.emailCapture.prompt",void 0),emailCaptured:e.launcher.email_captured,emailCaptureModalVisible:e.launcher.email_capture_modal_visible,emailCaptureVisible:e.launcher.email_capture_visible,alert:e.layer.alert,verified:e.identity.verified}},function(e){return{sendMessage:function(){e(i.sendMessage.apply(void 0,arguments))},onSelectFile:function(t){e((0,i.submitFiles)(t))},toggleEmailCaptureModal:function(){e(a.toggleEmailCaptureModal.apply(void 0,arguments))}}})(s.default)},function(e,t,n){(t=e.exports=n(5)(!0)).push([e.i,".fc-2a549{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}","",{version:3,sources:["/home/circleci/frontapp/front-chat/src/components/Button/Button.css"],names:[],mappings:"AAAA,UACE,yBAA0B,AACvB,sBAAuB,AACtB,qBAAsB,AAClB,gBAAkB,CAC3B",file:"Button.css",sourcesContent:[".button {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}"],sourceRoot:""}]),t.locals={button:"fc-2a549"}},function(e,t,n){var r,o=n(256);"string"==typeof o&&(o=[[e.i,o,""]]),r=n(8);var i={transform:"./transform-styles.js",singleton:!1,hmr:!0};i.transform=r,i.insertInto=void 0;n(7)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){var r;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(o.apply(null,r));else if("object"===i)for(var a in r)n.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}void 0!==e&&e.exports?e.exports=o:void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){(t=e.exports=n(5)(!0)).i(n(29),void 0),t.push([e.i,".fc-3_a5O{-webkit-box-shadow:0 2px 7px 0 rgba(0,0,0,.1);box-shadow:0 2px 7px 0 rgba(0,0,0,.1);background:#639;border-radius:6px 6px 0 0;display:-webkit-box;display:-ms-flexbox;display:flex;color:#fff;-ms-flex-negative:0;flex-shrink:0;padding:18px 0 17px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:78px}.fc-3_m5i{color:rgba(0,0,0,.7)}.fc-3Svv3{margin-left:20px;margin-right:0;-webkit-box-flex:1;-ms-flex:1;flex:1;min-width:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.fc-2s8Ov,.fc-20_0Z{line-height:1em}.fc-2s8Ov{font-size:16px;font-weight:600;margin-bottom:6px}.fc-2s8Ov:only-child{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.fc-20_0Z{font-size:14px}.fc-36r-z{margin-left:22px;margin-right:15px;margin-bottom:2px;-ms-flex-item-align:initial;align-self:auto;-ms-flex-negative:0;flex-shrink:0;width:38px;height:38px;background-size:contain;background-position:50%;background-repeat:no-repeat}.fc-36r-z+.fc-3Svv3{margin-left:0}.fc-P-1iE{width:38px;margin:0 20px;margin-left:4px}.fc-WugMn{margin-top:2px;width:38px;height:38px;position:relative;-webkit-transition:background-color .15s ease;transition:background-color .15s ease;background-color:transparent;border-radius:3px!important;color:inherit}.fc-WugMn:hover{background-color:rgba(0,0,0,.1)}.fc-WugMn.fc-1LBA2:hover{background-color:hsla(0,0%,100%,.1)}.fc-WugMn>svg{position:absolute;top:50%;left:50%;fill:currentColor;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}","",{version:3,sources:["/home/circleci/frontapp/front-chat/src/components/WindowHeaderContainer/WindowHeader.css"],names:[],mappings:"AAAA,UACE,8CAAkD,AAC1C,sCAA0C,AAClD,gBAAiB,AACjB,0BAA2B,AAC3B,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,WAAa,AACb,oBAAqB,AACjB,cAAe,AACnB,oBAAqB,AACrB,yBAA0B,AACtB,sBAAuB,AACnB,mBAAoB,AAC5B,WAAa,CACd,AAED,UACE,oBAAyB,CAC1B,AAED,UACE,iBAAkB,AAClB,eAAgB,AAChB,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,YAAa,AACb,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,wBAAyB,AACrB,qBAAsB,AAClB,sBAAwB,CACjC,AAED,oBAGE,eAAiB,CAClB,AAED,UACE,eAAgB,AAChB,gBAAiB,AAEjB,iBAAmB,CAEpB,AAED,qBACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,wBAAyB,AACrB,qBAAsB,AAClB,sBAAwB,CACjC,AAED,UACE,cAAgB,CACjB,AAED,UACE,iBAAkB,AAClB,kBAAmB,AACnB,kBAAmB,AACnB,4BAA6B,AACzB,gBAAoB,AACxB,oBAAqB,AACjB,cAAe,AACnB,WAAY,AACZ,YAAa,AACb,wBAAyB,AACzB,wBAA4B,AAC5B,2BAA6B,CAC9B,AAED,oBACE,aAAe,CAChB,AAED,UACE,WAAY,AACZ,cAAe,AACf,eAAiB,CAClB,AAED,UACE,eAAgB,AAChB,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,8CAAgD,AAChD,sCAAwC,AACxC,6BAA8B,AAC9B,4BAA8B,AAC9B,aAAc,CACf,AAED,gBACE,+BAAqC,CACtC,AAED,yBACE,mCAA2C,CAC5C,AAED,cACE,kBAAmB,AACnB,QAAS,AACT,SAAU,AACV,kBAAmB,AACnB,uCAAyC,AACjC,8BAAiC,CAC1C",file:"WindowHeader.css",sourcesContent:[".header {\n  -webkit-box-shadow: 0 2px 7px 0 rgba(0, 0, 0, .1);\n          box-shadow: 0 2px 7px 0 rgba(0, 0, 0, .1);\n  background: #639;\n  border-radius: 6px 6px 0 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  color: white;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  padding: 18px 0 17px;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  height: 78px;\n}\n\n.darkText {\n  color: rgba(0, 0, 0, .7);\n}\n\n.infos {\n  margin-left: 20px;\n  margin-right: 0;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  min-width: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n\n.title,\n.subtitle {\n  composes: overflow-ellipsis from '../../assets/utils.css';\n  line-height: 1em;\n}\n\n.title {\n  font-size: 16px;\n  font-weight: 600;\n  /* margin-bottom: 4px; */\n  margin-bottom: 6px;\n  /* margin-bottom: 5px; */\n}\n\n.title:only-child {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n\n.subtitle {\n  font-size: 14px;\n}\n\n.logo {\n  margin-left: 22px;\n  margin-right: 15px;\n  margin-bottom: 2px;\n  -ms-flex-item-align: initial;\n      align-self: initial;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n  width: 38px;\n  height: 38px;\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n.logo + .infos {\n  margin-left: 0;\n}\n\n.buttonWrapper {\n  width: 38px;\n  margin: 0 20px;\n  margin-left: 4px;\n}\n\n.closeButton {\n  margin-top: 2px;\n  width: 38px;\n  height: 38px;\n  position: relative;\n  -webkit-transition: background-color 150ms ease;\n  transition: background-color 150ms ease;\n  background-color: transparent;\n  border-radius: 3px !important;\n  color: inherit\n}\n\n.closeButton:hover {\n  background-color: rgba(0, 0, 0, 0.1);\n}\n\n.closeButton.lighterHover:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n\n.closeButton > svg {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  fill: currentColor;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n"],sourceRoot:""}]),t.locals={header:"fc-3_a5O",darkText:"fc-3_m5i",infos:"fc-3Svv3",title:"fc-2s8Ov "+n(29).locals["overflow-ellipsis"],subtitle:"fc-20_0Z "+n(29).locals["overflow-ellipsis"],logo:"fc-36r-z",buttonWrapper:"fc-P-1iE",closeButton:"fc-WugMn",lighterHover:"fc-1LBA2"}},function(e,t,n){var r,o=n(259);"string"==typeof o&&(o=[[e.i,o,""]]),r=n(8);var i={transform:"./transform-styles.js",singleton:!1,hmr:!0};i.transform=r,i.insertInto=void 0;n(7)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(0)),o=l(n(1)),i=l(n(12)),a=l(n(260)),s=l(n(38)),u=l(n(37)),c=n(133);function l(e){return e&&e.__esModule?e:{default:e}}var f=i.default.bind(a.default),d=function(e){var t=e.color,n=e.useBlackSecondaryColor,o=e.title,i=e.subtitle,l=e.logo,d=e.onClose,p={backgroundColor:t},h=f("header",{darkText:n}),y=f("closeButton",{lighterHover:function(e){return(0,c.hexToHsl)(e).l<44}(t)}),g={backgroundImage:"url("+l+")",backgroundSize:"contain",backgroundPosition:"center center"};return r.default.createElement("div",{className:h,style:p},l?r.default.createElement("div",{className:a.default.logo,style:g}):null,r.default.createElement("div",{className:a.default.infos},r.default.createElement("span",{className:a.default.title},o),i?r.default.createElement("span",{className:a.default.subtitle},i):null),r.default.createElement("div",{className:a.default.buttonWrapper},r.default.createElement(u.default,{className:y,onClick:d},r.default.createElement(s.default,{icon:"close",size:14}))))};d.propTypes={color:o.default.string,useBlackSecondaryColor:o.default.bool,title:o.default.string,subtitle:o.default.string,logo:o.default.string,onClose:o.default.func},d.defaultProps={color:"#f55855",useBlackSecondaryColor:!1,title:"Front",subtitle:void 0,logo:void 0,onClose:function(){}},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(0)),o=c(n(1)),i=n(15),a=n(20),s=n(122),u=c(n(261));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t={color:e.frontSettings.color,useBlackSecondaryColor:e.frontSettings.useBlackSecondaryColor,title:e.frontSettings.heading,subtitle:e.frontSettings.subHeading,logo:e.frontSettings.logo,onClose:e.toggleLauncher};return r.default.createElement(u.default,t)};l.propTypes={toggleLauncher:o.default.func.isRequired},t.default=(0,i.connect)(function(e){return{frontSettings:e.settings,launcher:e.launcher}},function(e){return(0,a.bindActionCreators)({toggleLauncher:s.toggleLauncher},e)})(l)},function(e,t,n){(t=e.exports=n(5)(!0)).push([e.i,".fc-3laqu{margin-right:22px;margin-bottom:22px;background-image:-webkit-gradient(linear,left top,left bottom,color-stop(50%,#fff),color-stop(90%,#f5f7fa));background-image:linear-gradient(-180deg,#fff 50%,#f5f7fa 90%);-webkit-box-shadow:0 6px 34px 0 hsla(0,0%,50%,.35);box-shadow:0 6px 34px 0 hsla(0,0%,50%,.35);border-radius:6px;width:380px;height:580px;z-index:0;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:relative}.fc-3GmTW{width:100%;margin-bottom:0;margin-right:0;height:auto;position:absolute;right:0;left:0;top:0;bottom:0}@media (max-height:600px) and (min-width:760px){.fc-3laqu{height:calc(100vh - 44px)}}","",{version:3,sources:["/home/circleci/frontapp/front-chat/src/components/ChatWindow/ChatWindow.css"],names:[],mappings:"AAAA,UACE,kBAAmB,AACnB,mBAAoB,AACpB,4GAAsH,AACtH,+DAAqE,AACrE,mDAA0D,AAClD,2CAAkD,AAC1D,kBAAmB,AACnB,YAAa,AACb,aAAc,AACd,UAAW,AACX,gBAAiB,AACjB,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,4BAA6B,AAC7B,6BAA8B,AAC1B,0BAA2B,AACvB,sBAAuB,AAC/B,iBAAmB,CACpB,AAED,UACE,WAAY,AACZ,gBAAiB,AACjB,eAAgB,AAChB,YAAa,AACb,kBAAmB,AACnB,QAAS,AACT,OAAQ,AACR,MAAO,AACP,QAAU,CACX,AAED,gDACE,UACE,yBAA2B,CAC5B,CACF",file:"ChatWindow.css",sourcesContent:[".windowBase {\n  margin-right: 22px;\n  margin-bottom: 22px;\n  background-image: -webkit-gradient(linear, left top, left bottom, color-stop(50%, #FFFFFF), color-stop(90%, #F5F7FA));\n  background-image: linear-gradient(-180deg, #FFFFFF 50%, #F5F7FA 90%);\n  -webkit-box-shadow: 0 6px 34px 0 rgba(128, 128, 128, .35);\n          box-shadow: 0 6px 34px 0 rgba(128, 128, 128, .35);\n  border-radius: 6px;\n  width: 380px;\n  height: 580px;\n  z-index: 0;\n  overflow: hidden;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  position: relative;\n}\n\n.mobileWindow {\n  width: 100%;\n  margin-bottom: 0;\n  margin-right: 0;\n  height: auto;\n  position: absolute;\n  right: 0;\n  left: 0;\n  top: 0;\n  bottom: 0;\n}\n\n@media (max-height: 600px) and (min-width: 760px) {\n  .windowBase {\n    height: calc(100vh - 44px);\n  }\n}"],sourceRoot:""}]),t.locals={windowBase:"fc-3laqu",mobileWindow:"fc-3GmTW"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(0)),i=p(n(1)),a=n(67),s=p(n(12)),u=p(n(123)),c=p(n(262)),l=p(n(255)),f=p(n(236)),d=p(n(226));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=s.default.bind(u.default),g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.overflowHiddenOnBody=function(e){document.body.style.overflow=e?"hidden":""},r.dismissCapture=function(e){e.preventDefault(),e.stopPropagation(),r.props.toggleEmailCaptureModal(),r.props.toggleEmailCapture(!0)},r.submitEmailCapture=function(e){r.props.sendEmailCapture(e),r.props.toggleEmailCaptureModal(!1),r.props.toggleEmailCapture(!0)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),r(t,[{key:"componentDidMount",value:function(){this.overflowHiddenOnBody(this.props.mobileMode)}},{key:"componentWillUpdate",value:function(e){this.overflowHiddenOnBody(e.mobileMode)}},{key:"componentWillUnmount",value:function(){document.body.style.overflow=""}},{key:"render",value:function(){var e=this,t=this.props,n=t.emailCaptureModalVisible,r=t.mobileMode;return o.default.createElement("div",{className:y("windowBase",{mobileWindow:r})},o.default.createElement(a.Animate,{show:n,start:{opacity:0},enter:{opacity:[1]},leave:{opacity:[0]}},function(){return o.default.createElement(f.default,{onDismiss:e.dismissCapture,onSubmitEmail:e.submitEmailCapture})}),o.default.createElement(c.default,null),o.default.createElement(d.default,null),o.default.createElement(l.default,null))}}]),t}();g.propTypes={mobileMode:i.default.bool.isRequired,sendEmailCapture:i.default.func.isRequired,toggleEmailCapture:i.default.func.isRequired,toggleEmailCaptureModal:i.default.func.isRequired,emailCaptureModalVisible:i.default.bool.isRequired},t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(15),i=n(20),a=n(13),s=n(30),u=n(264),c=(r=u)&&r.__esModule?r:{default:r};t.default=(0,o.connect)(function(e){return{emailCaptureModalVisible:e.launcher.email_capture_modal_visible,emailCaptureVisible:e.launcher.email_capture_visible}},function(e){return(0,i.bindActionCreators)({toggleEmailCapture:s.toggleEmailCapture,toggleEmailCaptureModal:s.toggleEmailCaptureModal,sendEmailCapture:a.sendEmailCapture},e)})(c.default)},function(e,t,n){(t=e.exports=n(5)(!0)).i(n(29),void 0),t.push([e.i,".fc-3MlG7{position:absolute;bottom:77px;right:0;width:270px}.fc-3xabA{background:#fff;-webkit-box-shadow:0 6px 15px 0 hsla(0,0%,50%,.35);box-shadow:0 6px 15px 0 hsla(0,0%,50%,.35);border-radius:20px;padding:20px;padding-right:30px}.fc-3Qu6m{border-bottom-left-radius:6px;border-bottom-right-radius:6px}.fc-2N_0G{border-top-left-radius:6px;border-top-right-radius:6px}.fc-3Qu6m+.fc-2N_0G{margin-top:10px}.fc-3WEp8{color:#c6cfd6}.fc-1a_Zr{display:inline-block;background-size:cover;background-repeat:no-repeat;background-position:50%;border-radius:50%;width:30px;height:30px}.fc-ujDE8{background-size:18px 18px;background-color:#9eabba;border-radius:30px 30px 4px}.fc-2ta0V{color:#6e7a89}.fc-1Myjp{min-width:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.fc-1Myjp>.fc-1a_Zr{margin-right:10px;-ms-flex-negative:0;flex-shrink:0}.fc-rynfh{font-size:12px;font-weight:400;margin-top:-1px}.fc-rynfh>span{font-weight:500}.fc-2Iu57{position:absolute;top:18px;right:18px}.fc-1vhZp{font-size:14px;overflow:hidden;white-space:pre-wrap;text-overflow:ellipsis;line-height:1.5}.fc-1Myjp+.fc-1vhZp{margin-top:10px}","",{version:3,sources:["/home/circleci/frontapp/front-chat/src/components/PushMessage/PushMessage.css"],names:[],mappings:"AAAA,UACE,kBAAmB,AACnB,YAAa,AACb,QAAS,AACT,WAAa,CACd,AAED,UACE,gBAAoB,AACpB,mDAA0D,AAClD,2CAAkD,AAC1D,mBAAoB,AACpB,aAAc,AAEd,kBAAoB,CACrB,AAED,UACE,8BAA+B,AAC/B,8BAAgC,CACjC,AAED,UACE,2BAA4B,AAC5B,2BAA6B,CAC9B,AAED,oBACE,eAAiB,CAClB,AAED,UAGE,aAAe,CAChB,AAED,UACE,qBAAsB,AACtB,sBAAuB,AACvB,4BAA6B,AAC7B,wBAA4B,AAC5B,kBAAmB,AACnB,WAAY,AACZ,WAAa,CACd,AAED,UACE,0BAA2B,AAC3B,yBAA0B,AAC1B,2BAA6B,CAC9B,AAED,UAEE,aAAe,CAChB,AAED,UAEE,YAAa,AACb,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,kBAAmB,CAC5B,AAED,oBACE,kBAAmB,AACnB,oBAAqB,AACjB,aAAe,CACpB,AAED,UAEE,eAAgB,AAChB,gBAAoB,AACpB,eAAgB,CACjB,AAED,eACE,eAAiB,CAClB,AAED,UACE,kBAAmB,AACnB,SAAU,AACV,UAAY,CACb,AAED,UACE,eAAgB,AAChB,gBAAiB,AACjB,qBAAsB,AACtB,uBAAwB,AACxB,eAAiB,CAClB,AAED,oBACE,eAAiB,CAClB",file:"PushMessage.css",sourcesContent:[".wrapper {\n  position: absolute;\n  bottom: 77px;\n  right: 0;\n  width: 270px;\n}\n\n.block {\n  background: #FFFFFF;\n  -webkit-box-shadow: 0 6px 15px 0 rgba(128, 128, 128, .35);\n          box-shadow: 0 6px 15px 0 rgba(128, 128, 128, .35);\n  border-radius: 20px;\n  padding: 20px;\n  /* taking account of the close btn */\n  padding-right: 30px;\n}\n\n.top {\n  border-bottom-left-radius: 6px;\n  border-bottom-right-radius: 6px;\n}\n\n.bottom {\n  border-top-left-radius: 6px;\n  border-top-right-radius: 6px;\n}\n\n.top + .bottom {\n  margin-top: 10px;\n}\n\n.fakeInput {\n  composes: bottom;\n  composes: block;\n  color: #C6CFD6;\n}\n\n.avatar {\n  display: inline-block;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n}\n\n.defaultAvatar {\n  background-size: 18px 18px;\n  background-color: #9EABBA;\n  border-radius: 30px 30px 4px;\n}\n\n.message {\n  composes: block;\n  color: #6E7A89;\n}\n\n.messageHeader {\n  composes: overflow-ellipsis from '../../assets/utils.css';\n  min-width: 0;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center\n}\n\n.messageHeader > .avatar {\n  margin-right: 10px;\n  -ms-flex-negative: 0;\n      flex-shrink: 0;\n}\n\n.author {\n  composes: overflow-ellipsis from '../../assets/utils.css';\n  font-size: 12px;\n  font-weight: normal;\n  margin-top: -1px\n}\n\n.author > span {\n  font-weight: 500;\n}\n\n.closeButton {\n  position: absolute;\n  top: 18px;\n  right: 18px;\n}\n\n.messageBody {\n  font-size: 14px;\n  overflow: hidden;\n  white-space: pre-wrap;\n  text-overflow: ellipsis;\n  line-height: 1.5;\n}\n\n.messageHeader + .messageBody {\n  margin-top: 10px;\n}\n"],sourceRoot:""}]),t.locals={wrapper:"fc-3MlG7",block:"fc-3xabA",top:"fc-3Qu6m",bottom:"fc-2N_0G",fakeInput:"fc-3WEp8 fc-2N_0G fc-3xabA",avatar:"fc-1a_Zr",defaultAvatar:"fc-ujDE8",message:"fc-2ta0V fc-3xabA",messageHeader:"fc-1Myjp "+n(29).locals["overflow-ellipsis"],author:"fc-rynfh "+n(29).locals["overflow-ellipsis"],closeButton:"fc-2Iu57",messageBody:"fc-1vhZp"}},function(e,t,n){var r,o=n(266);"string"==typeof o&&(o=[[e.i,o,""]]),r=n(8);var i={transform:"./transform-styles.js",singleton:!1,hmr:!0};i.transform=r,i.insertInto=void 0;n(7)(o,i);o.locals&&(e.exports=o.locals)},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 29 29"><path d="M14.5,1 C7.04415588,1 1,7.04415588 1,14.5 C1,21.9558441 7.04415588,28 14.5,28 C21.9558441,28 28,21.9558441 28,14.5 C28,7.04415588 21.9558441,1 14.5,1 Z M14.5,0 C22.5081289,-1.47106941e-15 29,6.49187113 29,14.5 C29,22.5081289 22.5081289,29 14.5,29 C6.49187113,29 -6.12471442e-15,22.5081289 -7.10542736e-15,14.5 C-9.80712939e-16,6.49187113 6.49187113,1.47106941e-15 14.5,0 Z M14.5,21.3684211 C13.6570391,21.3684211 12.9736842,20.6850662 12.9736842,19.8421053 C12.9736842,18.9991443 13.6570391,18.3157895 14.5,18.3157895 C15.3429609,18.3157895 16.0263158,18.9991443 16.0263158,19.8421053 C16.0263158,20.6850662 15.3429609,21.3684211 14.5,21.3684211 Z M14.5,7.63157895 C15.3429609,7.63157895 16.0263158,8.3149338 16.0263158,9.15789474 L16.0263158,15.2631579 C16.0263158,16.1061188 15.3429609,16.7894737 14.5,16.7894737 C13.6570391,16.7894737 12.9736842,16.1061188 12.9736842,15.2631579 L12.9736842,9.15789474 C12.9736842,8.3149338 13.6570391,7.63157895 14.5,7.63157895 Z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13"><path d="M4.8890873,5.69669914 L0.292893219,1.10050506 C-0.097631073,0.709980772 -0.097631073,0.0768157928 0.292893219,-0.313708499 C0.683417511,-0.704232791 1.31658249,-0.704232791 1.70710678,-0.313708499 L6.30330086,4.28248558 L10.8994949,-0.313708499 C11.2900192,-0.704232791 11.9231842,-0.704232791 12.3137085,-0.313708499 C12.7042328,0.0768157928 12.7042328,0.709980772 12.3137085,1.10050506 L7.71751442,5.69669914 L12.3137085,10.2928932 C12.7042328,10.6834175 12.7042328,11.3165825 12.3137085,11.7071068 C11.9231842,12.0976311 11.2900192,12.0976311 10.8994949,11.7071068 L6.30330086,7.1109127 L1.70710678,11.7071068 C1.31658249,12.0976311 0.683417511,12.0976311 0.292893219,11.7071068 C-0.097631073,11.3165825 -0.097631073,10.6834175 0.292893219,10.2928932 L4.8890873,5.69669914 Z" opacity=".85" transform="translate(0 1)"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><g><rect width="22" height="22" fill="none"></rect><path fill-rule="nonzero" d="M3.01833339,18.2577098 L4.36977335,12.4052919 C4.42311966,12.1562528 4.63650492,11.9605792 4.90323649,11.9250022 L12.460631,11.142308 C12.6740162,11.1245195 12.6740162,10.8043265 12.460631,10.7687494 L4.90323649,10.0394208 C4.63650492,10.0216323 4.42311966,9.8259587 4.36977335,9.57691964 L3.01833339,3.74229017 C2.89385866,3.24421204 3.4273218,2.83507644 3.88965652,3.066327 L18.6665855,10.4663449 C19.1111382,10.6975954 19.1111382,11.3379816 18.6665855,11.5692321 L3.88965652,18.933673 C3.4273218,19.1649236 2.89385866,18.755788 3.01833339,18.2577098 Z"></path></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><g><rect width="22" height="22" fill="none"></rect><path fill-rule="nonzero" d="M11.0491826,19.9157667 C6.07898409,19.9157667 2.01516906,15.8960151 2.01516906,10.9519755 C2.01516906,6.00793597 6.07898409,2 11.0491826,2 C16.0193811,2 19.9712811,6.00793597 19.9712811,10.9519755 C19.9712811,15.8960151 16.0193811,19.9157667 11.0491826,19.9157667 Z M11.0450242,18.4245579 C15.1724032,18.4245579 18.5183049,15.0577753 18.5183049,10.9521194 C18.5183049,6.84646342 15.1724032,3.49515518 11.0450242,3.49515518 C6.91764525,3.49515518 3.50964919,6.84646342 3.50964919,10.9521194 C3.50964919,15.0577753 6.91764525,18.4245579 11.0450242,18.4245579 Z"></path><path fill-rule="nonzero" d="M11.0028076,15.9365158 C14.0377197,15.9365158 16.0302124,13.5394549 16.0302124,10.9797707 C14.6966442,10.9797707 13.5760352,10.9797707 11.0028076,10.9797707 C8.42958007,10.9797707 6.85076904,10.9797707 6.01690674,10.9797707 C6.01690674,13.5394549 7.96789551,15.9365158 11.0028076,15.9365158 Z M9,13.9368421 C9,13.9368421 9.5112915,12.9421052 11.0182495,12.9421052 C12.5252075,12.9421052 13,13.9368421 13,13.9368421 C13,13.9368421 12.708252,14.931579 11.0154419,14.931579 C9.32263184,14.931579 9,13.9368421 9,13.9368421 Z M9,9.95789473 C9.55228475,9.95789473 10,9.28985645 10,8.46578948 C10,7.6417225 9.55228475,6.97368421 9,6.97368421 C8.44771525,6.97368421 8,7.6417225 8,8.46578948 C8,9.28985645 8.44771525,9.95789473 9,9.95789473 Z M13,9.95789473 C13.5522847,9.95789473 14,9.28985645 14,8.46578948 C14,7.6417225 13.5522847,6.97368421 13,6.97368421 C12.4477153,6.97368421 12,7.6417225 12,8.46578948 C12,9.28985645 12.4477153,9.95789473 13,9.95789473 Z"></path></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><g><rect width="22" height="22" fill="none"></rect><path d="M5.61135737,5.39458037 C5.18269303,5.39458037 4.83626646,5.73816062 4.83626646,6.17544457 L4.83626646,16.503675 C4.83626646,16.9347121 5.18063709,17.2834981 5.61135737,17.2834981 C6.0400217,17.2834981 6.38644828,16.940959 6.38644828,16.503675 L6.38644828,6.17544457 C6.38644828,5.74336638 6.04207765,5.39458037 5.61135737,5.39458037 L5.61135737,5.39458037 Z M9.63586786,15.6988643 C9.63483989,15.7092758 9.63381191,15.7186462 9.63278394,15.7280166 L9.63689583,15.7280166 C9.6564273,16.9555351 10.7265462,17.9935639 12.0392665,17.9935639 C13.3530147,17.9935639 14.4251895,16.9555351 14.444721,15.7269754 L14.4498609,15.7269754 C14.4488329,15.7071935 14.4478049,15.6874116 14.4478049,15.6676298 L14.4478049,6.04530054 C14.4478049,5.60593428 14.7932035,5.25923058 15.2187839,5.25923058 C15.6474483,5.25923058 15.989763,5.61114004 15.989763,6.04530054 L15.989763,15.6676298 C15.989763,15.6738767 15.989763,15.6811647 15.988735,15.6874116 L15.9918189,15.6874116 C15.9918189,17.7332758 14.2206231,19.4459713 12.0392665,19.4459713 C9.85790982,19.4459713 8.09493779,17.7332758 8.09493779,15.6874116 L8.09596576,15.6874116 C8.09493779,15.6634651 8.09390982,15.6405598 8.09390982,15.6166133 L8.09390982,6.21917296 L8.08979793,6.21917296 C8.08979793,5.01976556 9.12907765,4.04732934 10.4130147,4.04732934 C11.650693,4.04732934 12.6622175,4.95209066 12.7331476,6.09319354 C12.7352035,6.11922235 12.7362315,6.14525115 12.7362315,6.17232111 L12.7362315,14.9138355 C12.7362315,15.3448726 12.3918609,15.6874116 11.9652525,15.6874116 C11.5365881,15.6874116 11.1942735,15.3407079 11.1942735,14.9138355 L11.1942735,6.21917296 C11.1891336,5.82249395 10.843735,5.50286021 10.4191825,5.50286021 C9.99360212,5.50286021 9.64923149,5.82249395 9.64409163,6.21917296 L9.63997975,6.21917296 L9.63997975,15.6166133 C9.63997975,15.6426421 9.63895177,15.6676298 9.63689583,15.6926174 L9.63586786,15.6926174 L9.63586786,15.6988643 Z" transform="rotate(44 10.414 11.747)"></path><path d="M14.5394742,8.40436544 L10.538607,8.40436544 C10.538607,5.51620907 13.0355511,3.17465763 16.1153553,3.17465763 C19.1951595,3.17465763 21.6921036,5.51620907 21.6921036,8.40436544 L18.5660406,8.40436544 L20.1429497,8.40436544 C20.1429497,6.31789631 18.3398868,4.62706503 16.1153553,4.62706503 C13.8908238,4.62706503 12.0877609,6.31789631 12.0877609,8.40436544 L14.5394742,8.40436544 Z" transform="rotate(44 16.115 5.79)"></path></g></svg>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(48)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n(0)),a=f(n(1)),s=f(n(12)),u=f(n(38)),c=f(n(267)),l=f(n(124));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=s.default.bind(c.default),h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.onClickOnClose=function(e){e.stopPropagation(),r.props.onCloseButton()},r.renderAuthorLine=function(){return r.props.message.author?i.default.createElement("span",{className:c.default.author},r.props.message.author," from ",i.default.createElement("strong",null,r.props.message.companyName)):i.default.createElement("span",{className:c.default.author},i.default.createElement("strong",null,r.props.message.companyName))},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.PureComponent),o(t,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.style;if((0,r.default)(t))return null;var o=p("avatar",{defaultAvatar:!t.avatar}),a={backgroundImage:"url("+(t.avatar||l.default)+")"};return i.default.createElement("div",{className:c.default.wrapper,style:n},i.default.createElement("div",{className:c.default.message},i.default.createElement("div",{className:c.default.messageHeader},i.default.createElement("div",{className:c.default.closeButton,role:"button",tabIndex:"0",onClick:this.onClickOnClose},i.default.createElement(u.default,{icon:"close",size:11})),i.default.createElement("div",{className:o,style:a}),this.renderAuthorLine()),i.default.createElement("div",{className:c.default.messageBody},t.body)))}}]),t}();h.propTypes={message:a.default.shape({companyName:a.default.string.isRequired,author:a.default.string,avatar:a.default.string,body:a.default.string}).isRequired,style:a.default.shape({opacity:a.default.number}),onCloseButton:a.default.func},h.defaultProps={style:{opacity:1},onCloseButton:function(){}},t.default=h},function(e,t,n){(t=e.exports=n(5)(!0)).push([e.i,".fc-1LU9g{-webkit-box-sizing:border-box;box-sizing:border-box;background:#ff4b51;-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,.2);box-shadow:0 2px 2px 0 rgba(0,0,0,.2);color:#fff;font-size:12px;min-width:22px;height:22px;border-radius:11px;display:inline-block;text-align:center;line-height:22px;position:absolute;z-index:9;right:-3px;top:-5px;padding:0 5px;-webkit-transition:opacity .25s ease;transition:opacity .25s ease}.fc-3abnh{color:transparent;opacity:0}","",{version:3,sources:["/home/circleci/frontapp/front-chat/src/components/LauncherBadge/LauncherBadge.css"],names:[],mappings:"AAAA,UACE,8BAA+B,AACvB,sBAAuB,AAC/B,mBAAoB,AACpB,8CAAkD,AAC1C,sCAA0C,AAClD,WAAa,AACb,eAAgB,AAChB,eAAgB,AAChB,YAAa,AACb,mBAAoB,AACpB,qBAAsB,AACtB,kBAAmB,AACnB,iBAAkB,AAClB,kBAAmB,AACnB,UAAW,AACX,WAAY,AACZ,SAAU,AACV,cAAe,AACf,qCAAuC,AACvC,4BAA+B,CAChC,AAED,UACE,kBAAmB,AACnB,SAAW,CACZ",file:"LauncherBadge.css",sourcesContent:[".badge {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  background: #FF4B51;\n  -webkit-box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .2);\n          box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .2);\n  color: white;\n  font-size: 12px;\n  min-width: 22px;\n  height: 22px;\n  border-radius: 11px;\n  display: inline-block;\n  text-align: center;\n  line-height: 22px;\n  position: absolute;\n  z-index: 9;\n  right: -3px;\n  top: -5px;\n  padding: 0 5px;\n  -webkit-transition: opacity 250ms ease;\n  transition: opacity 250ms ease;\n}\n\n.hidden {\n  color: transparent;\n  opacity: 0;\n}\n"],sourceRoot:""}]),t.locals={badge:"fc-1LU9g",hidden:"fc-3abnh"}},function(e,t,n){var r,o=n(274);"string"==typeof o&&(o=[[e.i,o,""]]),r=n(8);var i={transform:"./transform-styles.js",singleton:!1,hmr:!0};i.transform=r,i.insertInto=void 0;n(7)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(0)),i=u(n(1)),a=u(n(12)),s=u(n(275));function u(e){return e&&e.__esModule?e:{default:e}}var c=a.default.bind(s.default),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),r(t,[{key:"render",value:function(){var e=this.props.number,t=c("badge",{hidden:e<1});return o.default.createElement("span",{className:t},e>99?"99+":e)}}]),t}();l.propTypes={number:i.default.number},l.defaultProps={number:0},t.default=l},function(e,t,n){"use strict";e.exports={blackOnLightText:"rgba(0,0,0,0.7)","light-grey-blue":"#C6CFD6","grey-blue":"#C7CFD8","dark-grey-blue":"#6E7A89","input-text-color":"#6F7175","inline-button-color":"#9EABBA","faded-grey-blue":"#A8B6C2"}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){(t=e.exports=n(5)(!0)).push([e.i,".fc-3xgLq{border:none;outline:none;cursor:pointer;border-radius:31px 31px 6px;position:relative;width:64px;height:64px;-webkit-box-shadow:0 5px 11px 0 rgba(0,0,0,.2);box-shadow:0 5px 11px 0 rgba(0,0,0,.2)}.fc-3xgLq>svg{position:absolute;top:50%;margin-top:-21px;left:50%;margin-left:-21px}","",{version:3,sources:["/home/circleci/frontapp/front-chat/src/components/LauncherButton/LauncherButton.css"],names:[],mappings:"AAAA,UACE,YAAa,AACb,aAAc,AACd,eAAgB,AAChB,4BAA6B,AAC7B,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,+CAAmD,AAC3C,sCAA0C,CACnD,AACD,cACE,kBAAmB,AACnB,QAAS,AACT,iBAAkB,AAClB,SAAU,AACV,iBAAmB,CACpB",file:"LauncherButton.css",sourcesContent:[".button {\n  border: none;\n  outline: none;\n  cursor: pointer;\n  border-radius: 31px 31px 6px;\n  position: relative;\n  width: 64px;\n  height: 64px;\n  -webkit-box-shadow: 0 5px 11px 0 rgba(0, 0, 0, .2);\n          box-shadow: 0 5px 11px 0 rgba(0, 0, 0, .2)\n}\n.button > svg {\n  position: absolute;\n  top: 50%;\n  margin-top: -21px;\n  left: 50%;\n  margin-left: -21px;\n}\n"],sourceRoot:""}]),t.locals={button:"fc-3xgLq"}},function(e,t,n){var r,o=n(279);"string"==typeof o&&(o=[[e.i,o,""]]),r=n(8);var i={transform:"./transform-styles.js",singleton:!1,hmr:!0};i.transform=r,i.insertInto=void 0;n(7)(o,i);o.locals&&(e.exports=o.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),o=s(n(1)),i=s(n(280)),a=n(277);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t={backgroundColor:e.color},n=e.useBlackSecondaryColor?a.blackOnLightText:"#FFF",o=!e.useBlackSecondaryColor;return r.default.createElement("div",{className:i.default.button,style:t},r.default.createElement("svg",{width:"42",height:"42"},r.default.createElement("defs",null,o?r.default.createElement("filter",{id:"chat-logo-a",width:"127.8%",height:"127.8%",x:"-13.9%",y:"-11.1%",filterUnits:"objectBoundingBox",dangerouslySetInnerHTML:{__html:'<feOffset dy="1" in="SourceAlpha" result="shadowOffsetOuter1" />\n              <feGaussianBlur in="shadowOffsetOuter1" result="shadowBlurOuter1" stdDeviation="1.5" />\n              <feColorMatrix in="shadowBlurOuter1" values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.1 0" />'}}):null),r.default.createElement("g",{fill:"none",transform:"translate(-11 -12)"},o?r.default.createElement("use",{fill:"#000",filter:"url(#chat-logo-a)",href:"#chat-logo-b"}):null,r.default.createElement("path",{fill:n,d:"M32,18 C24.2680135,18 18,24.2680135 18,32 C18,39.7319865 24.2680135,46 32,46 L45.6,46 C45.8209139,46 46,45.8209139 46,45.6 L46,32 C46,24.2680135 39.7319865,18 32,18 Z M32,14 C41.9411255,14 50,22.0588745 50,32 L50,45.6 C50,48.0300529 48.0300529,50 45.6,50 L32,50 C22.0588745,50 14,41.9411255 14,32 C14,22.0588745 22.0588745,14 32,14 Z M25.9634146,31.5853659 L37.9634146,31.5853659 C39.0679841,31.5853659 39.9634146,30.6899354 39.9634146,29.5853659 C39.9634146,28.4807964 39.0679841,27.5853659 37.9634146,27.5853659 L25.9634146,27.5853659 C24.8588451,27.5853659 23.9634146,28.4807964 23.9634146,29.5853659 C23.9634146,30.6899354 24.8588451,31.5853659 25.9634146,31.5853659 Z M31.195122,38.8292683 L37.195122,38.8292683 C38.2996915,38.8292683 39.195122,37.9338378 39.195122,36.8292683 C39.195122,35.7246988 38.2996915,34.8292683 37.195122,34.8292683 L31.195122,34.8292683 C30.0905525,34.8292683 29.195122,35.7246988 29.195122,36.8292683 C29.195122,37.9338378 30.0905525,38.8292683 31.195122,38.8292683 Z"}))))};u.propTypes={color:o.default.string,useBlackSecondaryColor:o.default.bool},u.defaultProps={color:"#cbd400",useBlackSecondaryColor:!1},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(48)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(0)),s=d(n(1)),u=n(67),c=d(n(281)),l=d(n(276)),f=d(n(273));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.PureComponent),i(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.frontSettings,i=t.layerPushMessage,s=!(0,r.default)(i);return a.default.createElement("div",{style:{position:"absolute",right:22,bottom:22},onClick:this.props.onClick,role:"button",tabIndex:"0"},a.default.createElement(u.Animate,{show:s,start:{opacity:0},enter:{opacity:[1]},leave:{opacity:[0]}},function(){return a.default.createElement(f.default,{message:o({},e.props.layerPushMessage,{companyName:e.props.frontSettings.companyName}),onCloseButton:e.props.removePush})}),a.default.createElement(l.default,{number:this.props.unreadCount}),a.default.createElement(c.default,{color:n.color,useBlackSecondaryColor:n.useBlackSecondaryColor}))}}]),t}();p.propTypes={onClick:s.default.func,unreadCount:s.default.number,removePush:s.default.func.isRequired,layerPushMessage:s.default.shape({id:s.default.string,avatar:s.default.string,author:s.default.string,body:s.default.string})},p.defaultProps={onClick:function(){},layerPushMessage:{},unreadCount:0},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(15),i=n(20),a=n(13),s=n(282),u=(r=s)&&r.__esModule?r:{default:r};t.default=(0,o.connect)(function(e){return{frontSettings:e.settings,unreadCount:e.launcher.unread_count,layerPushMessage:e.layer.pushMessage}},function(e){return(0,i.bindActionCreators)({removePush:a.removePush},e)})(u.default)},function(e,t,n){"use strict";t.__esModule=!0;t.ENTER="ENTER",t.UPDATE="UPDATE",t.LEAVE="LEAVE"},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,r){for(var o=[],i=0;i<n.length;i++)o[i]=n[i];for(var a=0;a<e.length;a++)void 0===r[e[a]]&&o.push(e[a]);return o.sort(function(e,o){var i=r[e],a=r[o],s=t[e],u=t[o];if(null!=i&&null!=a)return r[e]-r[o];if(null!=s&&null!=u)return t[e]-t[o];if(null!=i){for(var c=0;c<n.length;c++){var l=n[c];if(t[l]){if(i<r[l]&&u>t[l])return-1;if(i>r[l]&&u<t[l])return 1}}return 1}for(var f=0;f<n.length;f++){var d=n[f];if(t[d]){if(a<r[d]&&s>t[d])return 1;if(a>r[d]&&s<t[d])return-1}}return-1})}},function(e,t,n){"use strict";function r(e,t){for(var n in t)e[n]=t[n];return e}function o(e,t,n){this.key=e,this.data=t,this.type=n,this.state={}}t.__esModule=!0,r(o.prototype,{setState:function(e){var t=this.state;r(t,"function"==typeof e?e(t):e)},updateData:function(e){return this.data=e,this},updateType:function(e){return this.type=e,this}}),t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=n(286),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default},function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),o=l(r),i=n(47),a=l(n(287)),s=l(n(285)),u=n(284),c=n(126);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=f(this,e.call.apply(e,[this].concat(i))),r.state={nodes:[]},r.animate=function(){if(!r.unmounting){for(var e=!1,t=[],n=r.nodeKeys.length,o=0;o<n;o++){var i=r.nodeKeys[o],a=r.nodeHash[i];a.TRANSITION_SCHEDULES&&(e=!0),a.type!==u.LEAVE||a.TRANSITION_SCHEDULES?t.push(i):delete r.nodeHash[i]}e||r.interval.stop(),r.nodeKeys=t,r.renderNodes()}},r.nodeHash={},r.nodeKeys=[],r.interval=null,r.unmounting=!1,f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.updateNodes(this.props)},t.prototype.componentWillReceiveProps=function(e){e.data!==this.props.data&&this.updateNodes(e)},t.prototype.componentWillUnmount=function(){var e=this;this.unmounting=!0,this.interval&&this.interval.stop(),this.nodeKeys.forEach(function(t){c.stop.call(e.nodeHash[t])})},t.prototype.updateNodes=function(e){for(var t=e.data,n=e.keyAccessor,r=e.start,o=e.enter,l=e.update,f=e.leave,d={},p=this.nodeKeys,h=this.nodeKeys.length,y=0;y<h;y++)d[p[y]]=y;for(var g={},m=[],v=0;v<t.length;v++){var b=t[v],_=n(b,v);g[_]=v,m.push(_),void 0===d[_]&&(this.nodeHash[_]=new a.default(_,b,u.ENTER))}for(var A=0;A<h;A++){var C=p[A],w=this.nodeHash[C];void 0!==g[C]?(w.updateData(t[g[C]]),w.updateType(u.UPDATE)):w.updateType(u.LEAVE)}this.nodeKeys=(0,s.default)(p,d,m,g);for(var E=0;E<this.nodeKeys.length;E++){var k=this.nodeKeys[E],x=this.nodeHash[k],O=x.data;x.type===u.ENTER?(x.setState(r(O,g[k])),c.transition.call(x,o(O,g[k]))):x.type===u.LEAVE?c.transition.call(x,f(O,d[k])):c.transition.call(x,l(O,g[k]))}this.interval?this.interval.restart(this.animate):this.interval=(0,i.interval)(this.animate),this.renderNodes()},t.prototype.renderNodes=function(){var e=this;this.setState(function(){return{nodes:e.nodeKeys.map(function(t){return e.nodeHash[t]})}})},t.prototype.render=function(){var e=this.props.children(this.state.nodes);return e&&o.default.Children.only(e)},t}(r.Component);d.defaultProps={enter:function(){},update:function(){},leave:function(){}},t.default=d},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){var e=this.TRANSITION_SCHEDULES;e&&Object.keys(e).forEach(function(t){e[t].timer.stop()})}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e,t,n,d,p){var h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},y=e.TRANSITION_SCHEDULES;if(y){if(n in y)return}else e.TRANSITION_SCHEDULES={};!function(e,t,n){var i=e.TRANSITION_SCHEDULES,d=r({},n),p=d.tweens.length,h=new Array(p);function y(n){if(d.state!==a)return m();for(var r in i){var l=i[r];if(l.stateKey===d.stateKey){if(l.state===u)return(0,o.timeout)(y);l.state===c?(l.state=f,l.timer.stop(),l.events.interrupt&&"function"==typeof l.events.interrupt&&l.events.interrupt.call(this),delete i[r]):+r<t&&(l.state=f,l.timer.stop(),delete i[r])}}if((0,o.timeout)(function(){d.state===u&&(d.state=c,d.timer.restart(g,d.delay,d.time),g(n))}),d.state=s,d.events.start&&"function"==typeof d.events.start&&d.events.start.call(e),d.state===s){d.state=u;for(var v=-1,b=0;b<p;++b){var _=d.tweens[b].call(e);_&&(h[++v]=_)}h.length=v+1}}function g(t){var n=1;t<d.duration?n=d.ease.call(null,t/d.duration):(d.timer.restart(m),d.state=l);for(var r=-1;++r<h.length;)h[r].call(null,n);d.state===l&&(d.events.end&&"function"==typeof d.events.end&&d.events.end.call(e),m())}function m(){for(var n in d.state=f,d.timer.stop(),delete i[t],i)return;delete e.TRANSITION_SCHEDULES}i[t]=d,d.timer=(0,o.timer)(function(e){d.state=a,d.timer.restart(y,d.delay,d.time),d.delay<=e&&y(e-d.delay)},0,d.time)}(e,n,r({stateKey:t,events:h,tweens:p},d,{timer:null,state:i}))};var o=n(47),i=0,a=1,s=2,u=3,c=4,l=5,f=6},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getInterpolator=i,t.default=function(e,t,n){return function(e,t,n){return function(){var o=this,a=e?this.state[e][t]:this.state[t];if(a===n)return null;var s=i(t)(a,n);return null===e?function(e){o.setState(function(){var n;return(n={})[t]=s(e),n})}:function(n){o.setState(function(o){var i,a;return(a={})[e]=r({},o[e],((i={})[t]=s(n),i)),a})}}}.call(this,e,t,n)};var o=n(169);function i(e){return"transform"===e?o.interpolateTransformSvg:o.interpolate}},function(e,t,n){"use strict";t.__esModule=!0,t.preset=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.newId=l,t.default=function(e){var t=this;Array.isArray(e)?e.forEach(function(e){d.call(t,e)}):d.call(this,e)};var i=n(47),a=u(n(291)),s=u(n(290));function u(e){return e&&e.__esModule?e:{default:e}}var c=0;function l(){return++c}var f=t.preset={time:null,delay:0,duration:250,ease:function(e){return+e}};function d(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=o({},t),u=n.events||{};delete n.events,Object.keys(u).forEach(function(e){if("function"!=typeof u[e])throw new Error("Event handlers must be a function");var t,n;u[e]=(t=u[e],n=!1,function(){n||(n=!0,t.call(this))})});var c=n.timing||{};delete n.timing,Object.keys(n).forEach(function(t){var d=[];if("object"===r(n[t])&&!1===Array.isArray(n[t]))Object.keys(n[t]).forEach(function(r){var i=n[t][r];if(Array.isArray(i))1===i.length?d.push(a.default.call(e,t,r,i[0])):(e.setState(function(e){var n,a;return(a={})[t]=o({},e[t],((n={})[r]=i[0],n)),a}),d.push(a.default.call(e,t,r,i[1])));else if("function"==typeof i){d.push(function(){return function(n){e.setState(function(e){var a,s;return(s={})[t]=o({},e[t],((a={})[r]=i(n),a)),s})}})}else e.setState(function(e){var n,a;return(a={})[t]=o({},e[t],((n={})[r]=i,n)),a}),d.push(a.default.call(e,t,r,i))});else{var p=n[t];if(Array.isArray(p))1===p.length?d.push(a.default.call(e,null,t,p[0])):(e.setState(function(){var e;return(e={})[t]=p[0],e}),d.push(a.default.call(e,null,t,p[1])));else if("function"==typeof p){d.push(function(){return function(n){e.setState(function(){var e;return(e={})[t]=p(n),e})}})}else e.setState(function(){var e;return(e={})[t]=p,e}),d.push(a.default.call(e,null,t,p))}var h=o({},f,c,{time:(0,i.now)()});(0,s.default)(e,t,l(),h,d,u)})}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r},a=n(47),s=n(126);function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=u(this,e.call.apply(e,[this].concat(i))),r.state="function"==typeof r.props.start?r.props.start():r.props.start,r.checkTransitionStatus=function(){r.TRANSITION_SCHEDULES||(r.interval.stop(),!1===r.props.show&&(r.renderNull=!0,r.setState(function(e){return e})))},r.interval=null,r.renderNull=!0,u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){!0===this.props.show&&(this.renderNull=!1)},t.prototype.componentDidMount=function(){var e=this.props,t=e.enter,n=e.show;t&&!0===n&&s.transition.call(this,"function"==typeof t?t():t)},t.prototype.componentWillReceiveProps=function(e){var t=this,n=e.show,r=e.start,o=e.enter,i=e.update,u=e.leave;!1===this.props.show&&!0===this.renderNull&&!0===n?(this.renderNull=!1,this.setState(function(){return"function"==typeof r?r():r},function(){o&&s.transition.call(t,"function"==typeof o?o():o)})):!0===this.props.show&&!1===n?u?(s.transition.call(this,"function"==typeof u?u():u),this.interval=(0,a.interval)(this.checkTransitionStatus)):(this.renderNull=!0,this.setState(function(e){return e})):!0===n&&i&&(this.interval&&this.interval.stop(),s.transition.call(this,"function"==typeof i?i():i))},t.prototype.componentWillUnmount=function(){this.interval&&this.interval.stop(),s.stop.call(this)},t.prototype.render=function(){if(!0===this.renderNull)return null;var e=this.props.children(this.state);return e&&i.default.Children.only(e)},t}(o.Component);c.defaultProps={show:!0},t.default=c},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);function i(e){return function(){return e}}var a=function(){};a.thatReturns=i,a.thatReturnsFalse=i(!1),a.thatReturnsTrue=i(!0),a.thatReturnsNull=i(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(e){return e};var s=a,u=function(e){};var c=function(e,t,n,r,o,i,a,s){if(u(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,i,a,s],f=0;(c=new Error(t.replace(/%s/g,function(){return l[f++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},l=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}})()&&Object.assign;var p="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";var h=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e){e.exports=function(){function e(e,t,n,r,o,i){i!==p&&c(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=s,n.PropTypes=n,n}()}),y=function(e,t,n,r,o,i,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],l=0;(u=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}},g=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},m=function(e){var t="",n=Object.keys(e);return n.forEach(function(r,o){var i=e[r];(function(e){return/[height|width]$/.test(e)})(r=g(r))&&"number"==typeof i&&(i+="px"),t+=!0===i?r:!1===i?"not "+r:"("+r+": "+i+")",o<n.length-1&&(t+=" and ")}),t},v=function(e){var t="";return"string"==typeof e?e:e instanceof Array?(e.forEach(function(n,r){t+=m(n),r<e.length-1&&(t+=", ")}),t):m(e)},b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},A=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},C=function(e){function t(){var n,r;_(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=A(this,e.call.apply(e,[this].concat(i))),r.state={matches:r.props.defaultMatches},r.updateMatches=function(){return r.setState({matches:r.mediaQueryList.matches})},A(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){if("object"===("undefined"==typeof window?"undefined":b(window))){var e=this.props.targetWindow||window;y("function"==typeof e.matchMedia,"<Media targetWindow> does not support `matchMedia`.");var t=this.props.query;"string"!=typeof t&&(t=v(t)),this.mediaQueryList=e.matchMedia(t),this.mediaQueryList.addListener(this.updateMatches),this.updateMatches()}},t.prototype.componentWillUnmount=function(){this.mediaQueryList.removeListener(this.updateMatches)},t.prototype.render=function(){var e=this.props,t=e.children,n=e.render,r=this.state.matches;return n?r?n():null:t?"function"==typeof t?t(r):(!Array.isArray(t)||t.length)&&r?o.a.Children.only(t):null:null},t}(o.a.Component);C.propTypes={defaultMatches:h.bool,query:h.oneOfType([h.string,h.object,h.arrayOf(h.object.isRequired)]).isRequired,render:h.func,children:h.oneOfType([h.node,h.func]),targetWindow:h.object},C.defaultProps={defaultMatches:!0},t.default=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=m(n(0)),a=m(n(1)),s=m(n(294)),u=n(15),c=n(20),l=n(67),f=m(n(283)),d=m(n(265)),p=n(70),h=n(122),y=n(58);n(200),n(198);var g=m(n(196));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.PureComponent),o(t,[{key:"componentWillMount",value:function(){this.props.apiLoaded||this.props.loadAPI(),(0,y.initApp)()}},{key:"render",value:function(){var e=this.props,t=e.launcherVisible,n=e.layerReady,o=e.toggleLauncher,a=e.useDefaultLauncher,u={start:{opacity:0},enter:{opacity:[1]},update:{opacity:[1]},leave:{opacity:[0]}};return i.default.createElement(s.default,{query:p.MOBILE_MEDIA_QUERY},function(e){var s=e?{position:"fixed",bottom:0,left:0,right:0,top:0,display:"flex",flexDirection:"column"}:{};return i.default.createElement("div",{style:s,id:"front-chat-holder"},i.default.createElement(l.Animate,r({show:n&&!t},u),function(t){var n=t.opacity;return i.default.createElement("div",{style:{opacity:n}},i.default.createElement(d.default,{mobileMode:e}),i.default.createElement("div",{className:g.default.shadow}))}),i.default.createElement(l.Animate,r({show:n&&a&&t},u),function(e){var t=e.opacity;return i.default.createElement("div",{style:{opacity:t}},i.default.createElement(f.default,{onClick:o}))}))})}}]),t}();v.propTypes={loadAPI:a.default.func.isRequired,toggleLauncher:a.default.func.isRequired,apiLoaded:a.default.bool.isRequired,launcherVisible:a.default.bool.isRequired,layerReady:a.default.bool.isRequired,useDefaultLauncher:a.default.bool.isRequired},t.default=(0,u.connect)(function(e){return{apiLoaded:e.api.loaded,launcherVisible:e.launcher.visible,layerReady:e.layer.ready,useDefaultLauncher:e.settings.useDefaultLauncher}},function(e){return(0,c.bindActionCreators)({loadAPI:h.loadAPI,toggleLauncher:h.toggleLauncher},e)})(v)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(28),i=n(31),a=n(13),s=n(16);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.payload,u=t.type,c=(n||{}).identity;switch(u){case i.UPDATE_IDENTITY_PAYLOAD:return r({},e,{payload:r({},e.payload,c.payload)});case i.STORE_IDENTITY_TOKEN:return r({},e,{token:c.token,verified:c.verified});case a.LOGOUT_CLIENT:return r({},o.defaultState.identity,{payload:{chatId:e.payload.chatId}});case s.SHUTDOWN_APP:return o.defaultState.identity;default:return e}}},function(e,t,n){var r=n(159);e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,i=e==e,a=r(e),s=void 0!==t,u=null===t,c=t==t,l=r(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||o&&s&&c||!n&&c||!i)return 1;if(!o&&!a&&!l&&e<t||l&&n&&i&&!o&&!a||u&&n&&i||!s&&i||!c)return-1}return 0}},function(e,t,n){var r=n(297);e.exports=function(e,t,n){for(var o=-1,i=e.criteria,a=t.criteria,s=i.length,u=n.length;++o<s;){var c=r(i[o],a[o]);if(c)return o>=u?c:c*("desc"==n[o]?-1:1)}return e.index-t.index}},function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(163),o=n(35),i=n(300),a=n(299),s=n(162),u=n(298),c=n(164);e.exports=function(e,t,n){var l=-1;t=r(t.length?t:[c],s(o));var f=i(e,function(e,n,o){return{criteria:r(t,function(t){return t(e)}),index:++l,value:e}});return a(f,function(e,t){return u(e,t,n)})}},function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},function(e,t,n){var r=n(302),o=n(301),i=n(101),a=n(134),s=i(function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])});e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(18)),o=c(n(303));t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=t.type,c=t.payload;switch(n){case s.LOGOUT_CLIENT:case a.SHUTDOWN_APP:return i.defaultState.messages;case u.ADD_MESSAGE:return function(e,t){if((0,r.default)(e,function(e){return e.id===t.id}))return e;var n={id:t.id,position:t.position,body:t.body,is_inbound:t.is_inbound,timestamp:t.timestamp,author:t.author,syncState:t.syncState,parts:t.parts,isRead:t.isRead};return(0,o.default)([].concat(e,n),[function(e){return e.position},function(e){return e.timestamp}])}(e,c);case u.UPDATE_MESSAGE_PROPERTY:return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e)),i=(0,r.default)(o,function(e){return e.id===t});if(!i)return e;return n.forEach(function(e){var t=e.property;i[t]&&i[t]!==e.newValue&&(i[t]=e.newValue)}),o}(e,c.id,c.changes);default:return e}};var i=n(28),a=n(16),s=n(13),u=n(69);function c(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,u=t.payload;switch(n){case a.STORE_IDENTITY_TOKEN:return r({},e,{alert:void 0});case a.PUSH_IDENTITY_ALERT:return r({},e,{alert:u.identity.alert});case s.SET_USER_ID:return r({},e,{userId:u.userId});case s.SET_CONVERSATION_ID:return r({},e,{conversation:r({},e.conversation,{id:u.id})});case s.CONVERSATON_LOADED:return r({},e,{conversation:r({},e.conversation,{loaded:!0})});case s.LOAD_MORE_MESSAGES:return r({},e,{conversation:r({},e.conversation,{pagination:e.pagination+20})});case s.SET_PUSH_MESSAGE:return r({},e,{pushMessage:{id:u.id,avatar:u.avatar,author:u.author,body:u.body}});case s.REMOVE_PUSH_MESSAGE:return r({},e,{pushMessage:{}});case s.LAYER_READY:return r({},e,{ready:!0});case s.LOGOUT_CLIENT:case i.SHUTDOWN_APP:return o.defaultState.layer;default:return e}};var o=n(28),i=n(16),a=n(31),s=n(13)},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,n){var r=n(306),o=n(128);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=o(n))==n?n:0),void 0!==t&&(t=(t=o(t))==t?t:0),r(o(e),t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MAX_UNREAD_COUNT=void 0;var r=c(n(129)),o=c(n(307)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(28),s=n(16),u=n(30);function c(e){return e&&e.__esModule?e:{default:e}}var l=t.MAX_UNREAD_COUNT=100,f=function(e,t){var n,o,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i({},e,(n={},o=t,a=(0,r.default)(s.bool)?s.bool:!e[t],o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a,n))};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.type,r=t.payload;switch(n){case s.SHUTDOWN_APP:return a.defaultState.launcher;case s.HIDE:return i({},e,{visible:!0});case s.SHOW:return i({},e,{visible:!1});case u.TOGGLE_LAUNCHER:return i({},e,{visible:!e.visible});case u.RESET_UNREAD_COUNTER:return i({},e,{unread_count:0});case u.DECREASE_UNREAD_COUNTER:return i({},e,{unread_count:(0,o.default)(e.unread_count-r.offset,0,l)});case u.INCREASE_UNREAD_COUNTER:return i({},e,{unread_count:(0,o.default)(e.unread_count+r.offset,0,l)});case u.TOGGLE_EMAIL_CAPTURE:return f(e,"email_capture_visible",r);case u.TOGGLE_EMAIL_CAPTURE_MODAL:return f(e,"email_capture_modal_visible",r);case u.EMAIL_CAPTURED:return i({},e,{email_captured:!0});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=t.payload;switch(t.type){case a.ADD_SETTINGS:return r({},e,n.settings);case i.SHUTDOWN_APP:return o.defaultState.settings;default:return e}};var o=n(28),i=n(16),a=n(74)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch(arguments[1].type){case o.LOAD_API:return r({},e,{loaded:!0});default:return e}};var o=n(16)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),o=l(n(310)),i=l(n(309)),a=l(n(308)),s=l(n(305)),u=l(n(304)),c=l(n(296));n(28);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return t.type,(0,r.combineReducers)({api:o.default,settings:i.default,launcher:a.default,layer:s.default,messages:u.default,identity:c.default})(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var r=t(n);return console.log("next state",e.getState()),console.groupEnd(n.type),r}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(68)),o=u(n(23)),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(72);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"!=typeof t)throw new Error("Tattletale instances require a URL for log submission over XHR.");var r=n.userId,o=n.chatId;this.url=t,this.userId=r,this.chatId=o,this.logs=[],this.logLimit=100,this.timeWindow=1e4}return a(e,[{key:"log",value:function(){for(var e=this,t=this.logs,n=this.logLimit,a=this.timeout,s=this.timeWindow,u=arguments.length,c=Array(u),l=0;l<u;l++)c[l]=arguments[l];var f=(0,r.default)(c,function(e){switch(void 0===e?"undefined":i(e)){case"string":case"number":case"boolean":return e;case"object":return JSON.stringify(e);default:return null}}).join(", ");t.push(f),t.length>n&&t.splice(0,n),(0,o.default)(a)&&(this.timeout=window.setTimeout(function(){return e.send()},s))}},{key:"empty",value:function(){this.logs=[]}},{key:"send",value:function(e){delete this.timeout;var t=this.logs,n=this.url,r=this.userId,o=this.chatId;if(0!==t.length){var i=new XMLHttpRequest;i.onreadystatechange=function(){4===i.readyState&&"function"==typeof e&&e()},i.open("POST",n,!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify({logs:t,version:"1403776",userId:r,chatId:o})),this.empty()}}}]),e}();t.default=function(e){return new c(s.remoteLoggerUrl,e)}},function(e,t,n){(function(e){e.exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){return void 0===e}function s(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function c(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return St(e,t,n,r,!0).utc()}function p(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function h(e){if(null==e._isValid){var t=p(e),r=n.call(t.parsedDateParts,function(e){return null!=e}),o=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function y(e){var t=d(NaN);return null!=e?f(p(t),e):p(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var g=r.momentProperties=[];function m(e,t){var n,r,o;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=p(t)),a(t._locale)||(e._locale=t._locale),g.length>0)for(n=0;n<g.length;n++)r=g[n],a(o=t[r])||(e[r]=o);return e}var v=!1;function b(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,r.updateOffset(this),v=!1)}function _(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function A(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function C(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=A(t)),n}function w(e,t,n){var r,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(r=0;r<o;r++)(n&&e[r]!==t[r]||!n&&C(e[r])!==C(t[r]))&&a++;return a+i}function E(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var n=!0;return f(function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){for(var o,i=[],a=0;a<arguments.length;a++){if(o="","object"==typeof arguments[a]){for(var s in o+="\n["+a+"] ",arguments[0])o+=s+": "+arguments[0][s]+", ";o=o.slice(0,-2)}else o=arguments[a];i.push(o)}E(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var x,O={};function S(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),O[e]||(E(t),O[e]=!0)}function T(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function M(e,t){var n,r=f({},e);for(n in t)l(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)l(e,n)&&!l(t,n)&&i(e[n])&&(r[n]=f({},r[n]));return r}function P(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,x=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var B={};function D(e,t){var n=e.toLowerCase();B[n]=B[n+"s"]=B[t]=e}function I(e){return"string"==typeof e?B[e]||B[e.toLowerCase()]:void 0}function j(e){var t,n,r={};for(n in e)l(e,n)&&(t=I(n))&&(r[t]=e[n]);return r}var R={};function N(e,t){R[e]=t}function F(e,t,n){var r=""+Math.abs(e),o=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,z={},q={};function W(e,t,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),e&&(q[e]=o),t&&(q[t[0]]=function(){return F(o.apply(this,arguments),t[1],t[2])}),n&&(q[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function H(e,t){return e.isValid()?(t=Y(t,e.localeData()),z[t]=z[t]||function(e){var t,n,r,o=e.match(L);for(t=0,n=o.length;t<n;t++)q[o[t]]?o[t]=q[o[t]]:o[t]=(r=o[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,i="";for(r=0;r<n;r++)i+=T(o[r])?o[r].call(t,e):o[r];return i}}(t),z[t](e)):e.localeData().invalidDate()}function Y(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(U.lastIndex=0;n>=0&&U.test(e);)e=e.replace(U,r),U.lastIndex=0,n-=1;return e}var V=/\d/,G=/\d\d/,K=/\d{3}/,Z=/\d{4}/,X=/[+-]?\d{6}/,Q=/\d\d?/,$=/\d\d\d\d?/,J=/\d\d\d\d\d\d?/,ee=/\d{1,3}/,te=/\d{1,4}/,ne=/[+-]?\d{1,6}/,re=/\d+/,oe=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,ae=/Z|[+-]\d\d(?::?\d\d)?/gi,se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ue={};function ce(e,t,n){ue[e]=T(t)?t:function(e,r){return e&&n?n:t}}function le(e,t){return l(ue,e)?ue[e](t._strict,t._locale):new RegExp(fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,o){return t||n||r||o})))}function fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var de={};function pe(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),s(t)&&(r=function(e,n){n[t]=C(e)}),n=0;n<e.length;n++)de[e[n]]=r}function he(e,t){pe(e,function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)})}function ye(e,t,n){null!=t&&l(de,e)&&de[e](t,n._a,n,e)}var ge=0,me=1,ve=2,be=3,_e=4,Ae=5,Ce=6,we=7,Ee=8;function ke(e){return xe(e)?366:365}function xe(e){return e%4==0&&e%100!=0||e%400==0}W("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),D("year","y"),N("year",1),ce("Y",oe),ce("YY",Q,G),ce("YYYY",te,Z),ce("YYYYY",ne,X),ce("YYYYYY",ne,X),pe(["YYYYY","YYYYYY"],ge),pe("YYYY",function(e,t){t[ge]=2===e.length?r.parseTwoDigitYear(e):C(e)}),pe("YY",function(e,t){t[ge]=r.parseTwoDigitYear(e)}),pe("Y",function(e,t){t[ge]=parseInt(e,10)}),r.parseTwoDigitYear=function(e){return C(e)+(C(e)>68?1900:2e3)};var Oe,Se=Te("FullYear",!0);function Te(e,t){return function(n){return null!=n?(Pe(this,e,n),r.updateOffset(this,t),this):Me(this,e)}}function Me(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Pe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&xe(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Be(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Be(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?xe(e)?29:28:31-r%7%2}Oe=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),W("MMMM",0,0,function(e){return this.localeData().months(this,e)}),D("month","M"),N("month",8),ce("M",Q),ce("MM",Q,G),ce("MMM",function(e,t){return t.monthsShortRegex(e)}),ce("MMMM",function(e,t){return t.monthsRegex(e)}),pe(["M","MM"],function(e,t){t[me]=C(e)-1}),pe(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[me]=o:p(n).invalidMonth=e});var De=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ie="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),je="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Re(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=C(t);else if(!s(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Be(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ne(e){return null!=e?(Re(this,e),r.updateOffset(this,!0),this):Me(this,"Month")}var Fe=se,Le=se;function Ue(){function e(e,t){return t.length-e.length}var t,n,r=[],o=[],i=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(e),o.sort(e),i.sort(e),t=0;t<12;t++)r[t]=fe(r[t]),o[t]=fe(o[t]);for(t=0;t<24;t++)i[t]=fe(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function ze(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function qe(e,t,n){var r=7+t-n,o=(7+ze(e,0,r).getUTCDay()-t)%7;return-o+r-1}function We(e,t,n,r,o){var i,a,s=(7+n-r)%7,u=qe(e,r,o),c=1+7*(t-1)+s+u;return c<=0?a=ke(i=e-1)+c:c>ke(e)?(i=e+1,a=c-ke(e)):(i=e,a=c),{year:i,dayOfYear:a}}function He(e,t,n){var r,o,i=qe(e.year(),t,n),a=Math.floor((e.dayOfYear()-i-1)/7)+1;return a<1?(o=e.year()-1,r=a+Ye(o,t,n)):a>Ye(e.year(),t,n)?(r=a-Ye(e.year(),t,n),o=e.year()+1):(o=e.year(),r=a),{week:r,year:o}}function Ye(e,t,n){var r=qe(e,t,n),o=qe(e+1,t,n);return(ke(e)-r+o)/7}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),D("week","w"),D("isoWeek","W"),N("week",5),N("isoWeek",5),ce("w",Q),ce("ww",Q,G),ce("W",Q),ce("WW",Q,G),he(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=C(e)}),W("d",0,"do","day"),W("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),W("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),W("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),D("day","d"),D("weekday","e"),D("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),ce("d",Q),ce("e",Q),ce("E",Q),ce("dd",function(e,t){return t.weekdaysMinRegex(e)}),ce("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ce("dddd",function(e,t){return t.weekdaysRegex(e)}),he(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);null!=o?t.d=o:p(n).invalidWeekday=e}),he(["d","e","E"],function(e,t,n,r){t[r]=C(e)});var Ve="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ge="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ke="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ze=se,Xe=se,Qe=se;function $e(){function e(e,t){return t.length-e.length}var t,n,r,o,i,a=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),i=this.weekdays(n,""),a.push(r),s.push(o),u.push(i),c.push(r),c.push(o),c.push(i);for(a.sort(e),s.sort(e),u.sort(e),c.sort(e),t=0;t<7;t++)s[t]=fe(s[t]),u[t]=fe(u[t]),c[t]=fe(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Je(){return this.hours()%12||12}function et(e,t){W(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function tt(e,t){return t._meridiemParse}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,Je),W("k",["kk",2],0,function(){return this.hours()||24}),W("hmm",0,0,function(){return""+Je.apply(this)+F(this.minutes(),2)}),W("hmmss",0,0,function(){return""+Je.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)}),et("a",!0),et("A",!1),D("hour","h"),N("hour",13),ce("a",tt),ce("A",tt),ce("H",Q),ce("h",Q),ce("k",Q),ce("HH",Q,G),ce("hh",Q,G),ce("kk",Q,G),ce("hmm",$),ce("hmmss",J),ce("Hmm",$),ce("Hmmss",J),pe(["H","HH"],be),pe(["k","kk"],function(e,t,n){var r=C(e);t[be]=24===r?0:r}),pe(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),pe(["h","hh"],function(e,t,n){t[be]=C(e),p(n).bigHour=!0}),pe("hmm",function(e,t,n){var r=e.length-2;t[be]=C(e.substr(0,r)),t[_e]=C(e.substr(r)),p(n).bigHour=!0}),pe("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[be]=C(e.substr(0,r)),t[_e]=C(e.substr(r,2)),t[Ae]=C(e.substr(o)),p(n).bigHour=!0}),pe("Hmm",function(e,t,n){var r=e.length-2;t[be]=C(e.substr(0,r)),t[_e]=C(e.substr(r))}),pe("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[be]=C(e.substr(0,r)),t[_e]=C(e.substr(r,2)),t[Ae]=C(e.substr(o))});var nt,rt=Te("Hours",!0),ot={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ie,monthsShort:je,week:{dow:0,doy:6},weekdays:Ve,weekdaysMin:Ke,weekdaysShort:Ge,meridiemParse:/[ap]\.?m?\.?/i},it={},at={};function st(e){return e?e.toLowerCase().replace("_","-"):e}function ut(t){var n=null;if(!it[t]&&void 0!==e&&e&&e.exports)try{n=nt._abbr,!function(){var e=new Error('Cannot find module "undefined"');throw e.code="MODULE_NOT_FOUND",e}(),ct(n)}catch(e){}return it[t]}function ct(e,t){var n;return e&&((n=a(t)?ft(e):lt(e,t))?nt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),nt._abbr}function lt(e,t){if(null!==t){var n,r=ot;if(t.abbr=e,null!=it[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=it[e]._config;else if(null!=t.parentLocale)if(null!=it[t.parentLocale])r=it[t.parentLocale]._config;else{if(null==(n=ut(t.parentLocale)))return at[t.parentLocale]||(at[t.parentLocale]=[]),at[t.parentLocale].push({name:e,config:t}),null;r=n._config}return it[e]=new P(M(r,t)),at[e]&&at[e].forEach(function(e){lt(e.name,e.config)}),ct(e),it[e]}return delete it[e],null}function ft(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return nt;if(!o(e)){if(t=ut(e))return t;e=[e]}return function(e){for(var t,n,r,o,i=0;i<e.length;){for(o=st(e[i]).split("-"),t=o.length,n=(n=st(e[i+1]))?n.split("-"):null;t>0;){if(r=ut(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&w(o,n,!0)>=t-1)break;t--}i++}return nt}(e)}function dt(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[me]<0||n[me]>11?me:n[ve]<1||n[ve]>Be(n[ge],n[me])?ve:n[be]<0||n[be]>24||24===n[be]&&(0!==n[_e]||0!==n[Ae]||0!==n[Ce])?be:n[_e]<0||n[_e]>59?_e:n[Ae]<0||n[Ae]>59?Ae:n[Ce]<0||n[Ce]>999?Ce:-1,p(e)._overflowDayOfYear&&(t<ge||t>ve)&&(t=ve),p(e)._overflowWeeks&&-1===t&&(t=we),p(e)._overflowWeekday&&-1===t&&(t=Ee),p(e).overflow=t),e}function pt(e,t,n){return null!=e?e:null!=t?t:n}function ht(e){var t,n,o,i,a,s=[];if(!e._d){for(o=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[ve]&&null==e._a[me]&&function(e){var t,n,r,o,i,a,s,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)i=1,a=4,n=pt(t.GG,e._a[ge],He(Tt(),1,4).year),r=pt(t.W,1),((o=pt(t.E,1))<1||o>7)&&(u=!0);else{i=e._locale._week.dow,a=e._locale._week.doy;var c=He(Tt(),i,a);n=pt(t.gg,e._a[ge],c.year),r=pt(t.w,c.week),null!=t.d?((o=t.d)<0||o>6)&&(u=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(u=!0)):o=i}r<1||r>Ye(n,i,a)?p(e)._overflowWeeks=!0:null!=u?p(e)._overflowWeekday=!0:(s=We(n,r,o,i,a),e._a[ge]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=pt(e._a[ge],o[ge]),(e._dayOfYear>ke(a)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=ze(a,0,e._dayOfYear),e._a[me]=n.getUTCMonth(),e._a[ve]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=o[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[be]&&0===e._a[_e]&&0===e._a[Ae]&&0===e._a[Ce]&&(e._nextDay=!0,e._a[be]=0),e._d=(e._useUTC?ze:function(e,t,n,r,o,i,a){var s=new Date(e,t,n,r,o,i,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[be]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(p(e).weekdayMismatch=!0)}}var yt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=/Z|[+-]\d\d(?::?\d\d)?/,vt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],bt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],_t=/^\/?Date\((\-?\d+)/i;function At(e){var t,n,r,o,i,a,s=e._i,u=yt.exec(s)||gt.exec(s);if(u){for(p(e).iso=!0,t=0,n=vt.length;t<n;t++)if(vt[t][1].exec(u[1])){o=vt[t][0],r=!1!==vt[t][2];break}if(null==o)return void(e._isValid=!1);if(u[3]){for(t=0,n=bt.length;t<n;t++)if(bt[t][1].exec(u[3])){i=(u[2]||" ")+bt[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(u[4]){if(!mt.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=o+(i||"")+(a||""),xt(e)}else e._isValid=!1}var Ct=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function wt(e,t,n,r,o,i){var a=[function(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}(e),je.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&a.push(parseInt(i,10)),a}var Et={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function kt(e){var t=Ct.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(t){var n=wt(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){if(e){var r=Ge.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return p(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return Et[e];if(t)return 0;var r=parseInt(n,10),o=r%100,i=(r-o)/100;return 60*i+o}(t[8],t[9],t[10]),e._d=ze.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function xt(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],p(e).empty=!0;var t,n,o,i,a,s=""+e._i,u=s.length,c=0;for(o=Y(e._f,e._locale).match(L)||[],t=0;t<o.length;t++)i=o[t],(n=(s.match(le(i,e))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&p(e).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),c+=n.length),q[i]?(n?p(e).empty=!1:p(e).unusedTokens.push(i),ye(i,n,e)):e._strict&&!n&&p(e).unusedTokens.push(i);p(e).charsLeftOver=u-c,s.length>0&&p(e).unusedInput.push(s),e._a[be]<=12&&!0===p(e).bigHour&&e._a[be]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[be]=(l=e._locale,f=e._a[be],null==(d=e._meridiem)?f:null!=l.meridiemHour?l.meridiemHour(f,d):null!=l.isPM?((h=l.isPM(d))&&f<12&&(f+=12),h||12!==f||(f=0),f):f),ht(e),dt(e)}else kt(e);else At(e);var l,f,d,h}function Ot(e){var t=e._i,n=e._f;return e._locale=e._locale||ft(e._l),null===t||void 0===n&&""===t?y({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new b(dt(t)):(u(t)?e._d=t:o(n)?function(e){var t,n,r,o,i;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)i=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],xt(t),h(t)&&(i+=p(t).charsLeftOver,i+=10*p(t).unusedTokens.length,p(t).score=i,(null==r||i<r)&&(r=i,n=t));f(e,n||t)}(e):n?xt(e):function(e){var t=e._i;a(t)?e._d=new Date(r.now()):u(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=_t.exec(e._i);null===t?(At(e),!1===e._isValid&&(delete e._isValid,kt(e),!1===e._isValid&&(delete e._isValid,r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=c(t.slice(0),function(e){return parseInt(e,10)}),ht(e)):i(t)?function(e){if(!e._d){var t=j(e._i);e._a=c([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ht(e)}}(e):s(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),h(e)||(e._d=null),e))}function St(e,t,n,r,a){var s,u={};return!0!==n&&!1!==n||(r=n,n=void 0),(i(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||o(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=a,u._l=n,u._i=e,u._f=t,u._strict=r,(s=new b(dt(Ot(u))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Tt(e,t,n,r){return St(e,t,n,r,!1)}r.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),r.ISO_8601=function(){},r.RFC_2822=function(){};var Mt=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()}),Pt=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:y()});function Bt(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Tt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Dt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function It(e){var t=j(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||0,a=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Oe.call(Dt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Dt.length;++r)if(e[Dt[r]]){if(n)return!1;parseFloat(e[Dt[r]])!==C(e[Dt[r]])&&(n=!0)}return!0}(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=ft(),this._bubble()}function jt(e){return e instanceof It}function Rt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Nt(e,t){W(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+F(~~(e/60),2)+t+F(~~e%60,2)})}Nt("Z",":"),Nt("ZZ",""),ce("Z",ae),ce("ZZ",ae),pe(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Lt(ae,e)});var Ft=/([\+\-]|\d\d)/gi;function Lt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],o=(r+"").match(Ft)||["-",0,0],i=60*o[1]+C(o[2]);return 0===i?0:"+"===o[0]?i:-i}function Ut(e,t){var n,o;return t._isUTC?(n=t.clone(),o=(_(e)||u(e)?e.valueOf():Tt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),r.updateOffset(n,!1),n):Tt(e).local()}function zt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function qt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Wt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ht=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Yt(e,t){var n,r,o,i,a,u,c=e,f=null;return jt(e)?c={ms:e._milliseconds,d:e._days,M:e._months}:s(e)?(c={},t?c[t]=e:c.milliseconds=e):(f=Wt.exec(e))?(n="-"===f[1]?-1:1,c={y:0,d:C(f[ve])*n,h:C(f[be])*n,m:C(f[_e])*n,s:C(f[Ae])*n,ms:C(Rt(1e3*f[Ce]))*n}):(f=Ht.exec(e))?(n="-"===f[1]?-1:(f[1],1),c={y:Vt(f[2],n),M:Vt(f[3],n),w:Vt(f[4],n),d:Vt(f[5],n),h:Vt(f[6],n),m:Vt(f[7],n),s:Vt(f[8],n)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(i=Tt(c.from),a=Tt(c.to),o=i.isValid()&&a.isValid()?(a=Ut(a,i),i.isBefore(a)?u=Gt(i,a):((u=Gt(a,i)).milliseconds=-u.milliseconds,u.months=-u.months),u):{milliseconds:0,months:0},(c={}).ms=o.milliseconds,c.M=o.months),r=new It(c),jt(e)&&l(e,"_locale")&&(r._locale=e._locale),r}function Vt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Gt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Kt(e,t){return function(n,r){var o;return null===r||isNaN(+r)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),Zt(this,Yt(n="string"==typeof n?+n:n,r),e),this}}function Zt(e,t,n,o){var i=t._milliseconds,a=Rt(t._days),s=Rt(t._months);e.isValid()&&(o=null==o||o,s&&Re(e,Me(e,"Month")+s*n),a&&Pe(e,"Date",Me(e,"Date")+a*n),i&&e._d.setTime(e._d.valueOf()+i*n),o&&r.updateOffset(e,a||s))}Yt.fn=It.prototype,Yt.invalid=function(){return Yt(NaN)};var Xt=Kt(1,"add"),Qt=Kt(-1,"subtract");function $t(e,t){var n,r,o=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(o,"months");return t-i<0?(n=e.clone().add(o-1,"months"),r=(t-i)/(i-n)):(n=e.clone().add(o+1,"months"),r=(t-i)/(n-i)),-(o+r)||0}function Jt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ft(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var en=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function tn(){return this._locale}function nn(e,t){W(0,[e,e.length],0,t)}function rn(e,t,n,r,o){var i;return null==e?He(this,r,o).year:(i=Ye(e,r,o),t>i&&(t=i),function(e,t,n,r,o){var i=We(e,t,n,r,o),a=ze(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,r,o))}W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),nn("gggg","weekYear"),nn("ggggg","weekYear"),nn("GGGG","isoWeekYear"),nn("GGGGG","isoWeekYear"),D("weekYear","gg"),D("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),ce("G",oe),ce("g",oe),ce("GG",Q,G),ce("gg",Q,G),ce("GGGG",te,Z),ce("gggg",te,Z),ce("GGGGG",ne,X),ce("ggggg",ne,X),he(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=C(e)}),he(["gg","GG"],function(e,t,n,o){t[o]=r.parseTwoDigitYear(e)}),W("Q",0,"Qo","quarter"),D("quarter","Q"),N("quarter",7),ce("Q",V),pe("Q",function(e,t){t[me]=3*(C(e)-1)}),W("D",["DD",2],"Do","date"),D("date","D"),N("date",9),ce("D",Q),ce("DD",Q,G),ce("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),pe(["D","DD"],ve),pe("Do",function(e,t){t[ve]=C(e.match(Q)[0])});var on=Te("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),D("dayOfYear","DDD"),N("dayOfYear",4),ce("DDD",ee),ce("DDDD",K),pe(["DDD","DDDD"],function(e,t,n){n._dayOfYear=C(e)}),W("m",["mm",2],0,"minute"),D("minute","m"),N("minute",14),ce("m",Q),ce("mm",Q,G),pe(["m","mm"],_e);var an=Te("Minutes",!1);W("s",["ss",2],0,"second"),D("second","s"),N("second",15),ce("s",Q),ce("ss",Q,G),pe(["s","ss"],Ae);var sn,un=Te("Seconds",!1);for(W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),D("millisecond","ms"),N("millisecond",16),ce("S",ee,V),ce("SS",ee,G),ce("SSS",ee,K),sn="SSSS";sn.length<=9;sn+="S")ce(sn,re);function cn(e,t){t[Ce]=C(1e3*("0."+e))}for(sn="S";sn.length<=9;sn+="S")pe(sn,cn);var ln=Te("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var fn=b.prototype;function dn(e){return e}fn.add=Xt,fn.calendar=function(e,t){var n=e||Tt(),o=Ut(n,this).startOf("day"),i=r.calendarFormat(this,o)||"sameElse",a=t&&(T(t[i])?t[i].call(this,n):t[i]);return this.format(a||this.localeData().calendar(i,this,Tt(n)))},fn.clone=function(){return new b(this)},fn.diff=function(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(!(r=Ut(e,this)).isValid())return NaN;switch(o=6e4*(r.utcOffset()-this.utcOffset()),t=I(t)){case"year":i=$t(this,r)/12;break;case"month":i=$t(this,r);break;case"quarter":i=$t(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:A(i)},fn.endOf=function(e){return void 0===(e=I(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},fn.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=H(this,e);return this.localeData().postformat(t)},fn.from=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||Tt(e).isValid())?Yt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.fromNow=function(e){return this.from(Tt(),e)},fn.to=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||Tt(e).isValid())?Yt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fn.toNow=function(e){return this.to(Tt(),e)},fn.get=function(e){return T(this[e=I(e)])?this[e]():this},fn.invalidAt=function(){return p(this).overflow},fn.isAfter=function(e,t){var n=_(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(a(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},fn.isBefore=function(e,t){var n=_(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(a(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},fn.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},fn.isSame=function(e,t){var n,r=_(e)?e:Tt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=I(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},fn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},fn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},fn.isValid=function(){return h(this)},fn.lang=en,fn.locale=Jt,fn.localeData=tn,fn.max=Pt,fn.min=Mt,fn.parsingFlags=function(){return f({},p(this))},fn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:R[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=j(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(T(this[e=I(e)]))return this[e](t);return this},fn.startOf=function(e){switch(e=I(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},fn.subtract=Qt,fn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},fn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},fn.toDate=function(){return new Date(this.valueOf())},fn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?H(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(n,"Z")):H(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},fn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+o)},fn.toJSON=function(){return this.isValid()?this.toISOString():null},fn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},fn.unix=function(){return Math.floor(this.valueOf()/1e3)},fn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},fn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},fn.year=Se,fn.isLeapYear=function(){return xe(this.year())},fn.weekYear=function(e){return rn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},fn.isoWeekYear=function(e){return rn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},fn.quarter=fn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},fn.month=Ne,fn.daysInMonth=function(){return Be(this.year(),this.month())},fn.week=fn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},fn.isoWeek=fn.isoWeeks=function(e){var t=He(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},fn.weeksInYear=function(){var e=this.localeData()._week;return Ye(this.year(),e.dow,e.doy)},fn.isoWeeksInYear=function(){return Ye(this.year(),1,4)},fn.date=on,fn.day=fn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},fn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},fn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},fn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},fn.hour=fn.hours=rt,fn.minute=fn.minutes=an,fn.second=fn.seconds=un,fn.millisecond=fn.milliseconds=ln,fn.utcOffset=function(e,t,n){var o,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Lt(ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(o=zt(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==e&&(!t||this._changeInProgress?Zt(this,Yt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:zt(this)},fn.utc=function(e){return this.utcOffset(0,e)},fn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(zt(this),"m")),this},fn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Lt(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},fn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Tt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},fn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},fn.isLocal=function(){return!!this.isValid()&&!this._isUTC},fn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},fn.isUtc=qt,fn.isUTC=qt,fn.zoneAbbr=function(){return this._isUTC?"UTC":""},fn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},fn.dates=k("dates accessor is deprecated. Use date instead.",on),fn.months=k("months accessor is deprecated. Use month instead",Ne),fn.years=k("years accessor is deprecated. Use year instead",Se),fn.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),fn.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),(e=Ot(e))._a){var t=e._isUTC?d(e._a):Tt(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var pn=P.prototype;function hn(e,t,n,r){var o=ft(),i=d().set(r,t);return o[n](i,e)}function yn(e,t,n){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return hn(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=hn(e,r,n,"month");return o}function gn(e,t,n,r){"boolean"==typeof e?(s(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,s(t)&&(n=t,t=void 0),t=t||"");var o,i=ft(),a=e?i._week.dow:0;if(null!=n)return hn(t,(n+a)%7,r,"day");var u=[];for(o=0;o<7;o++)u[o]=hn(t,(o+a)%7,r,"day");return u}pn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return T(r)?r.call(t,n):r},pn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},pn.invalidDate=function(){return this._invalidDate},pn.ordinal=function(e){return this._ordinal.replace("%d",e)},pn.preparse=dn,pn.postformat=dn,pn.relativeTime=function(e,t,n,r){var o=this._relativeTime[n];return T(o)?o(e,t,n,r):o.replace(/%d/i,e)},pn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)},pn.set=function(e){var t,n;for(n in e)T(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},pn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||De).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},pn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[De.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},pn.monthsParse=function(e,t,n){var r,o,i;if(this._monthsParseExact)return function(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=Oe.call(this._shortMonthsParse,a))?o:null:-1!==(o=Oe.call(this._longMonthsParse,a))?o:null:"MMM"===t?-1!==(o=Oe.call(this._shortMonthsParse,a))?o:-1!==(o=Oe.call(this._longMonthsParse,a))?o:null:-1!==(o=Oe.call(this._longMonthsParse,a))?o:-1!==(o=Oe.call(this._shortMonthsParse,a))?o:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},pn.monthsRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||Ue.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Le),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},pn.monthsShortRegex=function(e){return this._monthsParseExact?(l(this,"_monthsRegex")||Ue.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},pn.week=function(e){return He(e,this._week.dow,this._week.doy).week},pn.firstDayOfYear=function(){return this._week.doy},pn.firstDayOfWeek=function(){return this._week.dow},pn.weekdays=function(e,t){return e?o(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:o(this._weekdays)?this._weekdays:this._weekdays.standalone},pn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},pn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},pn.weekdaysParse=function(e,t,n){var r,o,i;if(this._weekdaysParseExact)return function(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=Oe.call(this._weekdaysParse,a))?o:null:"ddd"===t?-1!==(o=Oe.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=Oe.call(this._minWeekdaysParse,a))?o:null:"dddd"===t?-1!==(o=Oe.call(this._weekdaysParse,a))?o:-1!==(o=Oe.call(this._shortWeekdaysParse,a))?o:-1!==(o=Oe.call(this._minWeekdaysParse,a))?o:null:"ddd"===t?-1!==(o=Oe.call(this._shortWeekdaysParse,a))?o:-1!==(o=Oe.call(this._weekdaysParse,a))?o:-1!==(o=Oe.call(this._minWeekdaysParse,a))?o:null:-1!==(o=Oe.call(this._minWeekdaysParse,a))?o:-1!==(o=Oe.call(this._weekdaysParse,a))?o:-1!==(o=Oe.call(this._shortWeekdaysParse,a))?o:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},pn.weekdaysRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Ze),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},pn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Xe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},pn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Qe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},pn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},pn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ct("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===C(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),r.lang=k("moment.lang is deprecated. Use moment.locale instead.",ct),r.langData=k("moment.langData is deprecated. Use moment.localeData instead.",ft);var mn=Math.abs;function vn(e,t,n,r){var o=Yt(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function bn(e){return e<0?Math.floor(e):Math.ceil(e)}function _n(e){return 4800*e/146097}function An(e){return 146097*e/4800}function Cn(e){return function(){return this.as(e)}}var wn=Cn("ms"),En=Cn("s"),kn=Cn("m"),xn=Cn("h"),On=Cn("d"),Sn=Cn("w"),Tn=Cn("M"),Mn=Cn("y");function Pn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Bn=Pn("milliseconds"),Dn=Pn("seconds"),In=Pn("minutes"),jn=Pn("hours"),Rn=Pn("days"),Nn=Pn("months"),Fn=Pn("years"),Ln=Math.round,Un={ss:44,s:45,m:45,h:22,d:26,M:11},zn=Math.abs;function qn(e){return(e>0)-(e<0)||+e}function Wn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=zn(this._milliseconds)/1e3,r=zn(this._days),o=zn(this._months);e=A(n/60),t=A(e/60),n%=60,e%=60;var i=A(o/12),a=o%=12,s=r,u=t,c=e,l=n?n.toFixed(3).replace(/\.?0+$/,""):"",f=this.asSeconds();if(!f)return"P0D";var d=f<0?"-":"",p=qn(this._months)!==qn(f)?"-":"",h=qn(this._days)!==qn(f)?"-":"",y=qn(this._milliseconds)!==qn(f)?"-":"";return d+"P"+(i?p+i+"Y":"")+(a?p+a+"M":"")+(s?h+s+"D":"")+(u||c||l?"T":"")+(u?y+u+"H":"")+(c?y+c+"M":"")+(l?y+l+"S":"")}var Hn=It.prototype;return Hn.isValid=function(){return this._isValid},Hn.abs=function(){var e=this._data;return this._milliseconds=mn(this._milliseconds),this._days=mn(this._days),this._months=mn(this._months),e.milliseconds=mn(e.milliseconds),e.seconds=mn(e.seconds),e.minutes=mn(e.minutes),e.hours=mn(e.hours),e.months=mn(e.months),e.years=mn(e.years),this},Hn.add=function(e,t){return vn(this,e,t,1)},Hn.subtract=function(e,t){return vn(this,e,t,-1)},Hn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=I(e))||"year"===e)return t=this._days+r/864e5,n=this._months+_n(t),"month"===e?n:n/12;switch(t=this._days+Math.round(An(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Hn.asMilliseconds=wn,Hn.asSeconds=En,Hn.asMinutes=kn,Hn.asHours=xn,Hn.asDays=On,Hn.asWeeks=Sn,Hn.asMonths=Tn,Hn.asYears=Mn,Hn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12):NaN},Hn._bubble=function(){var e,t,n,r,o,i=this._milliseconds,a=this._days,s=this._months,u=this._data;return i>=0&&a>=0&&s>=0||i<=0&&a<=0&&s<=0||(i+=864e5*bn(An(s)+a),a=0,s=0),u.milliseconds=i%1e3,e=A(i/1e3),u.seconds=e%60,t=A(e/60),u.minutes=t%60,n=A(t/60),u.hours=n%24,a+=A(n/24),o=A(_n(a)),s+=o,a-=bn(An(o)),r=A(s/12),s%=12,u.days=a,u.months=s,u.years=r,this},Hn.clone=function(){return Yt(this)},Hn.get=function(e){return e=I(e),this.isValid()?this[e+"s"]():NaN},Hn.milliseconds=Bn,Hn.seconds=Dn,Hn.minutes=In,Hn.hours=jn,Hn.days=Rn,Hn.weeks=function(){return A(this.days()/7)},Hn.months=Nn,Hn.years=Fn,Hn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Yt(e).abs(),o=Ln(r.as("s")),i=Ln(r.as("m")),a=Ln(r.as("h")),s=Ln(r.as("d")),u=Ln(r.as("M")),c=Ln(r.as("y")),l=o<=Un.ss&&["s",o]||o<Un.s&&["ss",o]||i<=1&&["m"]||i<Un.m&&["mm",i]||a<=1&&["h"]||a<Un.h&&["hh",a]||s<=1&&["d"]||s<Un.d&&["dd",s]||u<=1&&["M"]||u<Un.M&&["MM",u]||c<=1&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=n,function(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}.apply(null,l)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Hn.toISOString=Wn,Hn.toString=Wn,Hn.toJSON=Wn,Hn.locale=Jt,Hn.localeData=tn,Hn.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Wn),Hn.lang=en,W("X",0,0,"unix"),W("x",0,0,"valueOf"),ce("x",oe),ce("X",/[+-]?\d+(\.\d{1,3})?/),pe("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),pe("x",function(e,t,n){n._d=new Date(C(e))}),r.version="2.22.1",t=Tt,r.fn=fn,r.min=function(){return Bt("isBefore",[].slice.call(arguments,0))},r.max=function(){return Bt("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=d,r.unix=function(e){return Tt(1e3*e)},r.months=function(e,t){return yn(e,t,"months")},r.isDate=u,r.locale=ct,r.invalid=y,r.duration=Yt,r.isMoment=_,r.weekdays=function(e,t,n){return gn(e,t,n,"weekdays")},r.parseZone=function(){return Tt.apply(null,arguments).parseZone()},r.localeData=ft,r.isDuration=jt,r.monthsShort=function(e,t){return yn(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return gn(e,t,n,"weekdaysMin")},r.defineLocale=lt,r.updateLocale=function(e,t){if(null!=t){var n,r,o=ot;null!=(r=ut(e))&&(o=r._config),t=M(o,t),(n=new P(t)).parentLocale=it[e],it[e]=n,ct(e)}else null!=it[e]&&(null!=it[e].parentLocale?it[e]=it[e].parentLocale:null!=it[e]&&delete it[e]);return it[e]},r.locales=function(){return x(it)},r.weekdaysShort=function(e,t,n){return gn(e,t,n,"weekdaysShort")},r.normalizeUnits=I,r.relativeTimeRounding=function(e){return void 0===e?Ln:"function"==typeof e&&(Ln=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Un[e]&&(void 0===t?Un[e]:(Un[e]=t,"s"===e&&(Un.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=fn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(102)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(132)),o=s(n(10));t.default=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).offlineHours;if(!e)return!1;var t=e.timezone,n=e.rules,s=e.enabled;if(!(t&&(0,r.default)(t)&&n&&(0,o.default)(n)&&0!==n.length&&s))return!1;if(!i.default.tz.zone(t))return!1;var u=(0,i.default)().tz(t);return n.some(function(e){return(0,a.officeHourRuleMatches)(u,e)})};var i=s(n(131)),a=n(130);function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){e.exports=n.p+"86381f68c32a085ee41241a59d230f30.mp3"},function(e,t,n){e.exports=n.p+"c8112b185055a57d21e8b59c8456083a.ogg"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(140),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){return new Promise(function(t,n){var r=new XMLHttpRequest,o=u(e,"settings");r.open("GET",o),r.onreadystatechange=function(){4===r.readyState&&t(r.responseText)},r.onerror=n,r.send()}).then(function(e){return JSON.parse(e)}).catch(function(){})},t.checkForLogo=function(e){return new Promise(function(t,n){var r=new XMLHttpRequest;window.LogoXHR=r;var o=u(e,"logo");r.open("HEAD",o,!0),r.onreadystatechange=function(){r.status<400&&t(r.responseURL||u(e,"logo"))},r.onerror=n,r.send()}).catch(function(){})},t.getWroughtFrontSettings=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.color,r=t.useSecondaryColor,o=t.secondaryColor;return(0,i.default)({useBlackSecondaryColor:(0,s.needBlackFg)(n,r,o)},t,e)};var a=n(72),s=n(70);var u=function(e,t){return"https://"+a.frontSettingsDomain+"/"+e+"/"+t+"?v="+Date.now()}},function(e,t,n){var r,o;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=e({path:"/"},r.defaults,i)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var u="";for(var c in i)i[c]&&(u+="; "+c,!0!==i[c]&&(u+="="+i[c]));return document.cookie=t+"="+o+u}t||(a={});for(var l=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,d=0;d<l.length;d++){var p=l[d].split("="),h=p.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var y=p[0].replace(f,decodeURIComponent);if(h=n.read?n.read(h,y):n(h,y)||h.replace(f,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===y){a=h;break}t||(a[y]=h)}catch(e){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})})},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},function(e,t,n){var r=n(63);e.exports=function(e,t,n){var o=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===o?r(e,t,void 0,n):!!o}},function(e,t,n){var r=n(27)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(101),o=n(134);e.exports=function(e){return r(function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var u=n[r];u&&e(t,u,r,a)}return t})}},function(e,t,n){var r=n(142),o=n(76);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=i?i(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?o(n,c,l):r(n,c,l)}return n}},function(e,t,n){var r=n(324),o=n(135);e.exports=function(e){return r(e,o(e))}},function(e,t,n){var r=n(34),o=n(138),i=n(26),a="[object Object]",s=Function.prototype,u=Object.prototype,c=s.toString,l=u.hasOwnProperty,f=c.call(Object);e.exports=function(e){if(!i(e)||r(e)!=a)return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}},function(e,t,n){var r=n(41),o=n(26);e.exports=function(e){return o(e)&&r(e)}},function(e,t,n){var r=n(22),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(328),o=n(138),i=n(137);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},function(e,t,n){var r=n(49).Uint8Array;e.exports=r},function(e,t,n){var r=n(330);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(331);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(11))},function(e,t,n){(function(e){var r=n(49),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(102)(e))},function(e,t,n){var r=n(139),o=n(334),i=n(332),a=n(161),s=n(329),u=n(75),c=n(10),l=n(327),f=n(44),d=n(60),p=n(22),h=n(326),y=n(43),g=n(136),m=n(325);e.exports=function(e,t,n,v,b,_,A){var C=g(e,n),w=g(t,n),E=A.get(w);if(E)r(e,n,E);else{var k=_?_(C,w,n+"",e,t,A):void 0,x=void 0===k;if(x){var O=c(w),S=!O&&f(w),T=!O&&!S&&y(w);k=w,O||S||T?c(C)?k=C:l(C)?k=a(C):S?(x=!1,k=o(w,!0)):T?(x=!1,k=i(w,!0)):k=[]:h(w)||u(w)?(k=C,u(C)?k=m(C):(!p(C)||v&&d(C))&&(k=s(w))):x=!1}x&&(A.set(w,k),b(k,w,v,_,A),A.delete(w)),r(e,n,k)}}},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}},function(e,t,n){var r=n(336)();e.exports=r},function(e,t,n){var r=n(62),o=n(139),i=n(337),a=n(335),s=n(22),u=n(135),c=n(136);e.exports=function e(t,n,l,f,d){t!==n&&i(n,function(i,u){if(s(i))d||(d=new r),a(t,n,u,l,e,f,d);else{var p=f?f(c(t,u),i,u+"",t,n,d):void 0;void 0===p&&(p=i),o(t,u,p)}},u)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(56),o=n(75),i=n(10),a=n(141),s=n(59),u=n(82);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var d=u(t[c]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&a(d,l)&&(i(e)||o(e))}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(341),o=n(340);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(343),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){var r=n(142),o=n(56),i=n(141),a=n(22),s=n(82);e.exports=function(e,t,n,u){if(!a(e))return e;for(var c=-1,l=(t=o(t,e)).length,f=l-1,d=e;null!=d&&++c<l;){var p=s(t[c]),h=n;if(c!=f){var y=d[p];void 0===(h=u?u(y,p,d):void 0)&&(h=a(y)?y:i(t[c+1])?[]:{})}r(d,p,h),d=d[p]}return e}},function(e,t,n){var r=n(160),o=n(345),i=n(56);e.exports=function(e,t,n){for(var a=-1,s=t.length,u={};++a<s;){var c=t[a],l=r(e,c);n(l,c)&&o(u,i(c,e),l)}return u}},function(e,t,n){var r=n(346),o=n(342);e.exports=function(e,t){return r(e,t,function(t,n){return o(e,n)})}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(17),a=function(){function e(t){o(this,e),this._query=t?{model:t.model,returnType:t.returnType,dataType:t.dataType,paginationWindow:t.paginationWindow}:{model:i.Message,returnType:"object",dataType:"object",paginationWindow:i.prototype.paginationWindow},this._conversationIdSet=!1}return r(e,[{key:"forConversation",value:function(e){return 0===e.indexOf("layer:///channels/")?(this._query.predicate="channel.id = '"+e+"'",this._conversationIdSet=!0):0===e.indexOf("layer:///conversations/")?(this._query.predicate="conversation.id = '"+e+"'",this._conversationIdSet=!0):(this._query.predicate="",this._conversationIdSet=!1),this}},{key:"paginationWindow",value:function(e){return this._query.paginationWindow=e,this}},{key:"build",value:function(){return this._query}}]),e}(),s=function(e){function t(e){o(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._query.model=i.Announcement,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r(t,[{key:"build",value:function(){return this._query}}]),t}(),u=function(){function e(t){o(this,e),this._query=t?{model:t.model,returnType:t.returnType,dataType:t.dataType,paginationWindow:t.paginationWindow,sortBy:t.sortBy}:{model:i.Conversation,returnType:"object",dataType:"object",paginationWindow:i.prototype.paginationWindow,sortBy:null}}return r(e,[{key:"paginationWindow",value:function(e){return this._query.paginationWindow=e,this}},{key:"sortBy",value:function(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._query.sortBy=[(t={},n=e,r=o?"asc":"desc",n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)],this}},{key:"build",value:function(){return this._query}}]),e}(),c=function(){function e(t){o(this,e),this._query=t?{model:t.model,returnType:t.returnType,dataType:t.dataType,paginationWindow:t.paginationWindow,sortBy:null}:{model:i.Channel,returnType:"object",dataType:"object",paginationWindow:i.prototype.paginationWindow,sortBy:null}}return r(e,[{key:"paginationWindow",value:function(e){return this._query.paginationWindow=e,this}},{key:"build",value:function(){return this._query}}]),e}(),l=function(){function e(t){o(this,e),this._query=t?{model:t.model,returnType:t.returnType,dataType:t.dataType,paginationWindow:t.paginationWindow,sortBy:null}:{model:i.Membership,returnType:"object",dataType:"object",paginationWindow:i.prototype.paginationWindow,sortBy:null}}return r(e,[{key:"paginationWindow",value:function(e){return this._query.paginationWindow=e,this}},{key:"forChannel",value:function(e){return 0===e.indexOf("layer:///channels/")?this._query.predicate="channel.id = '"+e+"'":this._query.predicate="",this}},{key:"build",value:function(){return this._query}}]),e}(),f=function(){function e(t){o(this,e),this._query=t?{model:t.model,returnType:t.returnType,dataType:t.dataType,paginationWindow:t.paginationWindow}:{model:i.Identity,returnType:"object",dataType:"object",paginationWindow:i.prototype.paginationWindow}}return r(e,[{key:"paginationWindow",value:function(e){return this._query.paginationWindow=e,this}},{key:"build",value:function(){return this._query}}]),e}(),d={messages:function(){return new a},announcements:function(){return new s},conversations:function(){return new u},channels:function(){return new c},members:function(){return new l},identities:function(){return new f},fromQueryObject:function(e){switch(e.model){case i.Message:return new a(e);case i.Announcement:return new s(e);case i.Conversation:return new u(e);case i.Channel:return new c(e);case i.Identity:return new f(e);case i.Membership:return new l(e);default:return null}}};e.exports=d},function(e,t,n){"use strict";n(32),n(3).dictionary;var r=n(4),o=n(6).RECEIPT_STATE;n(21).WebsocketSyncEvent;e.exports={lifecycle:{constructor:function(e){this.on("websocket:operation",this._handleWebsocketOperation,this)}},methods:{_handleWebsocketOperation:function(e){switch(e.data.method){case"Conversation.mark_all_read":return this._handleMarkAllReadOperation(e.data)}},_handleMarkAllReadOperation:function(e){var t=e.data.position,n=this.getObject(e.object.id);if(n){var i=e.data.identity.id,a=this.user.id===i;n._inMarkAllAsRead=!0,this.forEachMessage(function(e){if(e.conversationId===n.id&&e.position<=t)if(a)e.recipientStatus[i]=o.READ,e.isRead=!0;else if(e.recipientStatus[i]!==o.READ){var s=r.clone(e.recipientStatus);s[i]=o.READ,e.recipientStatus=s}}),n._inMarkAllAsRead=!1}}}}},function(e,t,n){"use strict";var r=n(14),o=n(39),i=n(3).dictionary;e.exports={events:["messages:notify","messages:add","messages:remove","messages:sent","messages:sending","messages:sent-error","messages:change","messages:loaded","messages:delete"],lifecycle:{constructor:function(e){this._models.messages={}},cleanup:function(){var e=this;Object.keys(this._models.messages).forEach(function(t){var n=e._models.messages[t];n&&!n.isDestroyed&&n.destroy()}),this._models.messages=null},reset:function(){this._models.messages={}}},methods:{getMessage:function(e,t){if("string"!=typeof e)throw new Error(i.idParamRequired);return 0!==e.indexOf("layer:///")&&(e=o.prefixUUID+e),this._models.messages[e]?this._models.messages[e]:t?r.load(e,this):null},getMessagePart:function(e){if("string"!=typeof e)throw new Error(i.idParamRequired);var t=e.replace(/\/parts.*$/,""),n=this.getMessage(t);return n?n.getPartById(e):null},_addMessage:function(e){if(!this._models.messages[e.id]){this._models.messages[e.id]=e,this._triggerAsync("messages:add",{messages:[e]}),e._notify&&(this._triggerAsync("messages:notify",{message:e}),e._notify=!1);var t=e.getConversation(!1);if(t&&(!t.lastMessage||t.lastMessage.position<e.position)){var n=t.lastMessage;t.lastMessage=e,n&&this._scheduleCheckAndPurgeCache(n)}else this._scheduleCheckAndPurgeCache(e)}},_removeMessage:function(e){var t="string"==typeof e?e:e.id;if((e=this._models.messages[t])&&(delete this._models.messages[t],!this._inCleanup)){this._triggerAsync("messages:remove",{messages:[e]});var n=e.getConversation(!1);!this._inCheckAndPurgeCache&&n&&n.lastMessage===e&&(n.lastMessage=null,n._lastMessagePosition=e.position)}},_purgeMessagesByPosition:function(e,t){var n=this;Object.keys(this._models.messages).forEach(function(r){var o=n._models.messages[r];o.conversationId===e&&o.position<=t&&o.destroy()})},forEachMessage:function(e){var t=this;Object.keys(this._models.messages).forEach(function(n){return e(t._models.messages[n])})}}}},function(e,t,n){"use strict";var r=n(52),o=n(3).dictionary;e.exports={events:["channels:add","channels:remove","channels:change","channels:loaded","channels:delete","channels:sent","channels:sent-error"],lifecycle:{constructor:function(e){this._models.channels={}},cleanup:function(){var e=this;Object.keys(this._models.channels).forEach(function(t){var n=e._models.channels[t];n&&!n.isDestroyed&&n.destroy()}),this._models.channels=null},reset:function(){this._models.channels={}}},methods:{getChannel:function(e,t){if("string"!=typeof e)throw new Error(o.idParamRequired);return r.isValidId(e)||(e=r.prefixUUID+e),this._models.channels[e]?this._models.channels[e]:t?r.load(e,this):null},_addChannel:function(e){var t=e.id;this._models.channels[t]||(this._models.channels[t]=e,e.clientId!==this.appId&&(e.clientId=this.appId),this._triggerAsync("channels:add",{channels:[e]}),this._scheduleCheckAndPurgeCache(e))},_removeChannel:function(e){var t=this;e.off(null,null,this),this._models.channels[e.id]&&(delete this._models.channels[e.id],this._triggerAsync("channels:remove",{channels:[e]})),Object.keys(this._models.messages).forEach(function(n){t._models.messages[n].channelId===e.id&&t._models.messages[n].destroy()})},_updateChannelId:function(e,t){var n=this;this._models.channels[t]&&(this._models.channels[e.id]=e,delete this._models.channels[t],Object.keys(this._models.messages).filter(function(e){return n._models.messages[e].conversationId===t}).forEach(function(t){return n._models.messages[t].conversationId=e.id}))},findCachedChannel:function(e,t){for(var n=t?e.bind(t):e,r=Object.keys(this._models.channels),o=r.length,i=0;i<o;i++){var a=r[i],s=this._models.channels[a];if(n(s,i))return s}return null},createChannel:function(e){if(!this.isAuthenticated)throw new Error(o.clientMustBeReady);return"private"in e||(e.private=!1),e.client=this,r.create(e)}}}},function(e,t,n){"use strict";var r=n(54),o=n(3).dictionary;e.exports={events:["conversations:add","conversations:remove","conversations:sent","conversations:sent-error","conversations:change","conversations:loaded","conversations:delete"],lifecycle:{constructor:function(e){this._models.conversations={}},cleanup:function(){var e=this;Object.keys(this._models.conversations).forEach(function(t){var n=e._models.conversations[t];n&&!n.isDestroyed&&n.destroy()}),this._models.conversations=null},reset:function(){this._models.conversations={}}},methods:{getConversation:function(e,t){if("string"!=typeof e)throw new Error(o.idParamRequired);return r.isValidId(e)||(e=r.prefixUUID+e),this._models.conversations[e]?this._models.conversations[e]:t?r.load(e,this):null},_addConversation:function(e){var t=e.id;this._models.conversations[t]||(this._models.conversations[t]=e,e.clientId!==this.appId&&(e.clientId=this.appId),this._triggerAsync("conversations:add",{conversations:[e]}))},_removeConversation:function(e){var t=this;e.off(null,null,this),this._models.conversations[e.id]&&(delete this._models.conversations[e.id],this._triggerAsync("conversations:remove",{conversations:[e]})),Object.keys(this._models.messages).forEach(function(n){t._models.messages[n].conversationId===e.id&&t._models.messages[n].destroy()})},_updateConversationId:function(e,t){var n=this;this._models.conversations[t]&&(this._models.conversations[e.id]=e,delete this._models.conversations[t],Object.keys(this._models.messages).filter(function(e){return n._models.messages[e].conversationId===t}).forEach(function(t){return n._models.messages[t].conversationId=e.id}))},findCachedConversation:function(e,t){for(var n=t?e.bind(t):e,r=Object.keys(this._models.conversations),o=r.length,i=0;i<o;i++){var a=r[i],s=this._models.conversations[a];if(n(s,i))return s}return null},createConversation:function(e){if(!this.isAuthenticated)throw new Error(o.clientMustBeReady);return"distinct"in e||(e.distinct=!0),e.client=this,r.create(e)}}}},function(e,t,n){"use strict";var r=n(14),o=(n(78),n(3).dictionary);e.exports={events:["members:loaded","members:change","members:add","members:remove"],lifecycle:{constructor:function(e){this._models.members={}},cleanup:function(){var e=this;Object.keys(this._models.members).forEach(function(t){var n=e._models.members[t];n&&!n.isDestroyed&&n.destroy()}),this._models.members=null},reset:function(){this._models.members={}}},methods:{getMember:function(e,t){if("string"!=typeof e)throw new Error(o.idParamRequired);return this._models.members[e]?this._models.members[e]:t?r.load(e,this):null},_addMembership:function(e){this._models.members[e.id]||(this._models.members[e.id]=e,this._triggerAsync("members:add",{members:[e]}),this._scheduleCheckAndPurgeCache(e))},_removeMembership:function(e){var t="string"==typeof e?e:e.id;(e=this._models.members[t])&&(delete this._models.members[t],this._inCleanup||(e.off(null,null,this),this._triggerAsync("members:remove",{members:[e]})))}}}},function(e,t,n){"use strict";var r=n(32),o=n(3).dictionary,i=(n(4),n(21).WebsocketSyncEvent);e.exports={events:["identities:loaded","identities:loaded-error","identities:change","identities:add","identities:remove","identities:unfollow"],lifecycle:{constructor:function(e){this._models.identities={},this._loadPresenceIds=[]},cleanup:function(){var e=this;Object.keys(this._models.identities).forEach(function(t){var n=e._models.identities[t];n&&!n.isDestroyed&&n.destroy()}),this._models.identities=null},reset:function(){this._models.identities={}}},methods:{getIdentity:function(e,t){if("string"!=typeof e)throw new Error(o.idParamRequired);return r.isValidId(e)||(e=r.prefixUUID+encodeURIComponent(e)),this._models.identities[e]?this._models.identities[e]:t?r.load(e,this):null},_addIdentity:function(e){var t=this,n=e.id;n&&!this._models.identities[n]&&(this._models.identities[n]=e,this._triggerAsync("identities:add",{identities:[e]}),e.id&&null===e._presence.status&&!e.sessionOwner&&(this._loadPresenceIds.push(n),1===this._loadPresenceIds.length&&setTimeout(function(){t.isDestroyed||t._loadPresence()},150)))},_removeIdentity:function(e){e.off(null,null,this);var t=e.id;this._models.identities[t]&&(delete this._models.identities[t],this._triggerAsync("identities:remove",{identities:[e]}))},followIdentity:function(e){r.isValidId(e)||(e=r.prefixUUID+encodeURIComponent(e));var t=this.getIdentity(e);return t||(t=new r({id:e,clientId:this.appId,userId:e.substring(20)})),t.follow(),t},unfollowIdentity:function(e){r.isValidId(e)||(e=r.prefixUUID+encodeURIComponent(e));var t=this.getIdentity(e);return t||(t=new r({id:e,clientId:this.appId,userId:e.substring(20)})),t.unfollow(),t},_loadPresence:function(){var e=this._loadPresenceIds;this._loadPresenceIds=[],this.syncManager.request(new i({data:{method:"Presence.sync",data:{ids:e}},returnChangesArray:!0,operation:"READ",target:null,depends:[]}))}}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(2),i=n(17),a=n(145),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r(t,[{key:"_fixPredicate",value:function(e){return i.prototype._fixPredicate.apply(this,[e])}},{key:"_fetchData",value:function(e){var t=this;this.client.dbManager.loadAnnouncements(this._nextDBFromId,e,function(e){e.length&&t._appendResults({data:e},!0)});var n="announcements?page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");n!==this._firingRequest&&(this.isFiring=!0,this._firingRequest=n,this.client.xhr({telemetry:{name:"announcement_query_time"},url:n,method:"GET",sync:!1},function(r){return t._processRunResults(r,n,e)}))}}]),t}();s._supportedEvents=[].concat(a._supportedEvents),s.MaxPageSize=100,s.prototype.model=i.Announcement,o.initClass.apply(s,[s,"AnnouncementsQuery"]),e.exports=s},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(2),i=n(3),a=n(9),s=n(17),u=new RegExp(/^channel.id\s*=\s*['"]((layer:\/\/\/channels\/)?.{8}-.{4}-.{4}-.{4}-.{12})['"]$/),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s),r(t,[{key:"_fixPredicate",value:function(e){if(""===e)return"";if(-1!==e.indexOf("channel.id")){var t=e.match(u)?e.replace(u,"$1"):null;if(!t)throw new Error(i.dictionary.invalidPredicate);return 0!==t.indexOf("layer:///channels/")&&(t="layer:///channels/"+t),"channel.id = '"+t+"'"}throw new Error(i.dictionary.invalidPredicate)}},{key:"_getChannelPredicateIds",value:function(){if(this.predicate.match(u)){var e=this.predicate.replace(u,"$1"),t=(this._predicate||e).replace(/^layer:\/\/\/channels\//,"");if(t)return{uuid:t,id:e,type:s.Channel}}}},{key:"_fetchData",value:function(e){var t=this,n=this._getChannelPredicateIds();if(n){var r="layer:///channels/"+n.uuid;this._predicate||(this._predicate=n.id);var o=this.client.getChannel(r),i="channels/"+n.uuid+"/members?page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");o&&!o.isSaved()||i===this._firingRequest||(this.isFiring=!0,this._firingRequest=i,this.client.xhr({telemetry:{name:"member_query_time"},url:i,method:"GET",sync:!1},function(n){return t._processRunResults(n,i,e)}))}else this.predicate&&!this.predicate.match(/['"]/)&&a.error("This query may need to quote its value")}},{key:"_appendResultsSplice",value:function(e){this.data.push(this._getData(e))}},{key:"_handleEvents",value:function(e,t){switch(e){case"members:change":this._handleChangeEvent("members",t);break;case"members:add":this._handleAddEvent("members",t);break;case"members:remove":this._handleRemoveEvent("members",t)}}}]),t}();c._supportedEvents=[].concat(s._supportedEvents),c.MaxPageSize=500,c.prototype.model=s.Membership,o.initClass.apply(c,[c,"MembersQuery"]),e.exports=c},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(2),a=n(6).SYNC_STATE,s=n(17),u=n(146),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u),r(t,[{key:"_fetchData",value:function(e){var t=this;this.client.dbManager.loadChannels(this._nextDBFromId,e,function(e){e.length&&t._appendResults({data:e},!0)});var n="channels?page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");n!==this._firingRequest&&(this.isFiring=!0,this._firingRequest=n,this.client.xhr({telemetry:{name:"channel_query_time"},url:this._firingRequest,method:"GET",sync:!1},function(n){return t._processRunResults(n,t._firingRequest,e)}))}},{key:"_getSortField",value:function(){return"created_at"}},{key:"_getItem",value:function(e){return s.prototype._getItem.apply(this,[e])}},{key:"_handleEvents",value:function(e,t){switch(e){case"channels:change":this._handleChangeEvent("channels",t);break;case"channels:add":this._handleAddEvent("channels",t);break;case"channels:remove":this._handleRemoveEvent("channels",t)}}},{key:"_appendResultsSplice",value:function(e){this.data.unshift(this._getData(e))}},{key:"_handleChangeEvent",value:function(e,t){var n=this._getIndex(t.target.id);if(this.dataType===s.ObjectDataType){var r=t.getChangesFor("id");r.length&&(n=this._getIndex(r[0].oldValue))}if(-1!==n){var i=this._getSortField(),a=t.hasProperty("lastMessage")&&"last_message"===i,u=void 0;this.dataType===s.ObjectDataType?a?(u=this._getInsertIndex(t.target,this.data),this.data.splice(n,1),this.data.splice(u,0,this._getData(t.target)),this.data=this.data.concat([])):this.data=[].concat(o(this.data.slice(0,n)),[t.target.toObject()],o(this.data.slice(n+1))):a&&(u=this._getInsertIndex(t.target,this.data))!==n&&(this.data.splice(n,1),this.data.splice(u,0,t.target)),this._triggerChange({type:"property",target:this._getData(t.target),query:this,isChange:!0,changes:t.changes}),a&&u!==n&&this._triggerChange({type:"move",target:this._getData(t.target),query:this,isChange:!1,fromIndex:n,toIndex:u})}}},{key:"_getInsertIndex",value:function(e,t){if(!e.isSaved())return 0;var n=void 0;if("created_at"===this._getSortField()){for(n=0;n<t.length;n++){var r=t[n];if(r.syncState===a.NEW||r.syncState===a.SAVING);else if(e.createdAt>=r.createdAt)break}return n}var o=-1,i=e.lastMessage?e.lastMessage.sentAt:e.createdAt;for(n=0;n<t.length;n++){var s=t[n];if(s.id===e.id)o=n;else if(s.syncState===a.NEW||s.syncState===a.SAVING);else{if(i>=(s.lastMessage?s.lastMessage.sentAt:s.createdAt))break}}return-1===o||o>n?n:n-1}},{key:"_handleAddEvent",value:function(e,t){var n=this,r=t[e].filter(function(e){return-1===n._getIndex(e.id)});if(r.length){var o=this.data;r.forEach(function(e){var t=n._getInsertIndex(e,o);o.splice(t,0,n._getData(e)),n.dataType===s.ObjectDataType&&(n.data=[].concat(o)),n.totalSize+=1;var r=n._getData(e);n._triggerChange({type:"insert",index:t,target:r,query:n})})}}},{key:"_handleRemoveEvent",value:function(e,t){var n=this,r=[];t[e].forEach(function(e){var t=n._getIndex(e.id);-1!==t&&(e.id===n._nextDBFromId&&(n._nextDBFromId=n._updateNextFromId(t)),e.id===n._nextServerFromId&&(n._nextServerFromId=n._updateNextFromId(t)),r.push({data:e,index:t}),n.dataType===s.ObjectDataType?n.data=[].concat(o(n.data.slice(0,t)),o(n.data.slice(t+1))):n.data.splice(t,1))}),this.totalSize-=r.length,r.forEach(function(e){n._triggerChange({type:"remove",index:e.index,target:n._getData(e.data),query:n})})}}]),t}();c._supportedEvents=[].concat(u._supportedEvents),c.MaxPageSize=100,c.prototype.model=s.Channel,i.initClass.apply(c,[c,"ChannelsQuery"]),e.exports=c},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(2),i=n(17),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"_fetchData",value:function(e){var t=this;this._nextDBFromId||this.client.dbManager.loadIdentities(function(e){e.length&&t._appendResults({data:e},!0)});var n="identities?page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");n!==this._firingRequest&&(this.isFiring=!0,this._firingRequest=n,this.client.xhr({telemetry:{name:"identity_query_time"},url:n,method:"GET",sync:!1},function(r){return t._processRunResults(r,n,e)}))}},{key:"_appendResultsSplice",value:function(e){this.data.push(this._getData(e))}},{key:"_handleEvents",value:function(e,t){switch(e){case"identities:change":this._handleChangeEvent("identities",t);break;case"identities:add":this._handleAddEvent("identities",t);break;case"identities:remove":this._handleRemoveEvent("identities",t)}}}]),t}();a._supportedEvents=[].concat(i._supportedEvents),a.MaxPageSize=500,a.prototype.model=i.Identity,o.initClass.apply(a,[a,"IdentitiesQuery"]),e.exports=a},function(e,t,n){"use strict";var r=n(17),o=n(358),i=n(146),a=n(357),s=n(356),u=n(145),c=n(355),l=n(3).dictionary;e.exports={events:[],lifecycle:{constructor:function(e){this._models.queries={}},cleanup:function(){var e=this;Object.keys(this._models.queries).forEach(function(t){var n=e._models.queries[t];n&&!n.isDestroyed&&n.destroy()}),this._models.queries=null},reset:function(){this._models.queries={}}},methods:{getQuery:function(e){if("string"!=typeof e)throw new Error(l.idParamRequired);return this._models.queries[e]||null},createQuery:function(e){var t=void 0;switch("function"==typeof e.build&&(e=e.build()),e.client=this,e.model){case r.Identity:t=new o(e);break;case r.Conversation:t=new i(e);break;case r.Channel:t=new a(e);break;case r.Membership:t=new s(e);break;case r.Message:t=new u(e);break;case r.Announcement:t=new c(e);break;default:t=new r(e)}return this._addQuery(t),t},_addQuery:function(e){this._models.queries[e.id]=e},_removeQuery:function(e){var t=this;if(e){if(delete this._models.queries[e.id],!this._inCleanup){var n=e.data.map(function(e){return t.getObject(e.id)}).filter(function(e){return e});this._checkAndPurgeCache(n)}this.off(null,null,e)}}}}},function(e,t,n){"use strict";(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=n(2),a=n(25),s=n(4),u=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));if(r.client=e.client,r.state={id:r.id,records:[]},r.tempState={},r.storageKey="layer-telemetry-"+r.client.appId,t.localStorage)try{var o=localStorage[r.storageKey];o?r.state=JSON.parse(o):localStorage.setItem(r.storageKey,JSON.stringify(r.state))}catch(e){r.enabled=!1}else r.enabled=!1;return r.client.on("state-change",r.trackEvent,r),a.addConnectionListener(r.trackRestPerformance.bind(r)),r.setupReportingInterval(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,i),o(n,[{key:"trackEvent",value:function(e){if(this.enabled){var t=e.telemetryId+"-"+(e.id||"noid");if(e.started)this.tempState[t]=Date.now();else if(e.ended){var n=this.tempState[t];if(n){delete this.tempState[t];var r=Date.now()-n;this.writePerformance(e.telemetryId,r)}}}}},{key:"clearEvents",value:function(){var e=this,t=Date.now();Object.keys(this.tempState).forEach(function(n){e.tempState[n]+e.reportingInterval<t&&delete e.tempState[n]})}},{key:"trackRestPerformance",value:function(e){this.enabled&&e.request.telemetry&&this.writePerformance(e.request.telemetry.name,e.duration)}},{key:"writePerformance",value:function(e,t){var n=this.getCurrentStateObject().performance;n[e]||(n[e]={count:0,time:0,max:0}),n[e].count++,n[e].time+=t,t>n[e].max&&(n[e].max=t),this.writeState()}},{key:"writeUsage",value:function(e){var t=this.getCurrentStateObject().usage;t[e]||(t[e]=0),t[e]++,this.writeState()}},{key:"getEnvironment",value:function(){var e={platform:"web",locale:(navigator.language||"").replace(/-/g,"_"),layer_sdk_version:this.client.constructor.version,domain:location.hostname};return this.trigger("telemetry-environment",{environment:e}),e}},{key:"getDevice",value:function(){return{user_agent:navigator.userAgent,screen:{width:void 0===("undefined"==typeof screen?"undefined":r(screen))?0:screen.width,height:void 0===("undefined"==typeof screen?"undefined":r(screen))?0:screen.height},window:{width:window.innerWidth,height:window.innerHeight}}}},{key:"getCurrentStateObject",value:function(e){var t=new Date;t.setUTCHours(0,0,0,0);var n=new Date(t),r=Date.now();if(this.reportingInterval<864e5)for(;n.getTime()<r;)n.setMilliseconds(n.getMilliseconds()+this.reportingInterval);var o=n.toISOString(),i=new Date(n);i.setMilliseconds(i.getMilliseconds()+this.reportingInterval);var a=this.state.records.filter(function(e){return e.period.start===o})[0];return a||e||(a={period:{start:o,end:i.toISOString()},environment:this.getEnvironment(),device:this.getDevice(),usage:{},performance:{},errors:{}},this.state.records.push(a)),a}},{key:"writeState",value:function(){var e=this;this.enabled&&!this._writeTimeoutId&&(this._writeTimeoutId=setTimeout(function(){localStorage.setItem(e.storageKey,JSON.stringify(e.state)),e._writeTimeoutId=0},1e3))}},{key:"convertRecord",value:function(e){var t={period:e.period,device:e.device,environment:e.environment,usage:e.usage,performance:{}};return Object.keys(e.performance).forEach(function(n){var r=e.performance[n];t.performance[n]={max:Math.round(r.max),count:r.count,mean:Math.round(r.time/r.count)}}),t}},{key:"sendData",value:function(){var e=this,t=this.getCurrentStateObject(!0),n=this.state.records.filter(function(e){return e!==t});n.length&&a({sync:!1,method:"POST",url:this.telemetryUrl,headers:{"content-type":"application/json"},data:{id:s.uuid(this.state.id),layer_app_id:this.client.appId,records:n.map(function(t){return e.convertRecord(t)})}},function(t){t.success&&(e.state.records=e.state.records.filter(function(e){return-1===n.indexOf(e)}),e.writeState())}),this.clearEvents()}},{key:"setupReportingInterval",value:function(){this.enabled&&(this.sendData(),this._intervalId=setInterval(this.sendData.bind(this),this.reportingInterval))}},{key:"__updateEnabled",value:function(){this._intervalId&&(clearInterval(this._intervalId),this._intervalId=0),this.enabled&&this.setupReportingInterval()}}]),n}();u.prototype.telemetryUrl="https://telemetry.layer.com",u.prototype._intervalId=0,u.prototype.reportingInterval=36e5,u.prototype._writeTimeoutId=0,u.prototype.storageKey="",u.prototype.state=null,u.prototype.tempState=null,u.prototype.enabled=!0,u.prototype.client=null,u.prefixUUID="layer:///telemetry/",u._supportedEvents=i._supportedEvents.concat(["telemetry-environment"]),i.initClass.apply(u,[u,"TelemetryMonitor"]),e.exports=u}).call(this,n(11))},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=n(2),a=n(24),s=n(51),u=s.STARTED,c=s.PAUSED,l=s.FINISHED,f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._pollId=0,n._getClient().on("ready",function(){return n._clientReady()}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i),r(t,[{key:"_clientReady",value:function(){var e=this._getClient();this.user=e.user,e.socketManager.on("message",this._handleSocketEvent,this),this._startPolling()}},{key:"_isRelevantEvent",value:function(e){return"signal"===e.type&&"typing_indicator"===e.body.type&&e.body.data.sender.id!==this.user.id}},{key:"_handleSocketEvent",value:function(e){var t=e.data;if(this._isRelevantEvent(t)){var n=this._getClient().getIdentity(t.body.data.sender.id)||this._getClient()._createObject(t.body.data.sender),r=t.body.data.action,o=t.body.object.id,i=this.state[o];i||(i=this.state[o]={users:{},typing:[],paused:[]}),i.users[n.id]={startTime:Date.now(),state:r,identity:n},i.users[n.id].state===l&&delete i.users[n.id],this._updateState(i,r,n.id),this.trigger("typing-indicator-change",{conversationId:o,typing:i.typing.map(function(e){return i.users[e].identity.toObject()}),paused:i.paused.map(function(e){return i.users[e].identity.toObject()})})}}},{key:"getState",value:function(e){var t=this.state[e];return t?{typing:t.typing.map(function(e){return t.users[e].identity.toObject()}),paused:t.paused.map(function(e){return t.users[e].identity.toObject()})}:{typing:[],paused:[]}}},{key:"_updateState",value:function(e,t,n){var r=e.typing.indexOf(n);t!==u&&-1!==r&&(e.typing=[].concat(o(e.typing.slice(0,r)),o(e.typing.slice(r+1))));var i=e.paused.indexOf(n);t!==c&&-1!==i&&(e.paused=[].concat(o(e.paused.slice(0,i)),o(e.paused.slice(i+1)))),t===u&&-1===r?e.typing=[].concat(o(e.typing),[n]):t===c&&-1===i&&(e.paused=[].concat(o(e.paused),[n]))}},{key:"_startPolling",value:function(){var e=this;this._pollId||(this._pollId=setInterval(function(){return e._poll()},5e3))}},{key:"_poll",value:function(){var e=this;Object.keys(this.state).forEach(function(t){var n=e.state[t];Object.keys(n.users).forEach(function(r){Date.now()>=n.users[r].startTime+6e3&&(e._updateState(n,l,r),delete n.users[r],e.trigger("typing-indicator-change",{conversationId:t,typing:n.typing.map(function(e){return n.users[e].identity.toObject()}),paused:n.paused.map(function(e){return n.users[e].identity.toObject()})}))})})}},{key:"_getClient",value:function(){return a.get(this.clientId)}}]),t}();f.prototype._pollId=0,f.prototype.clientId="",f.bubbleEventParent="_getClient",f._supportedEvents=["typing-indicator-change"].concat(i._supportedEvents),i.initClass.apply(f,[f,"TypingIndicatorListener"]),e.exports=f},function(e,t){},function(e,t){},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0};var a=n(156),s=n(54),u=n(52),c=n(3).dictionary,l=n(53),f=n(80),d=n(79),p=n(32),h=n(78),y=n(361),g=n(4),m=n(2),v=n(24),b=n(9),_=n(147),A=n(77),C=n(360),w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return v.register(n),n._models={},n._runMixins("constructor",[e]),n._scheduleCheckAndPurgeCacheItems=[],n._initComponents(),n.on("online",n._connectionRestored.bind(n)),b.info(g.asciiInit(t.version)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),o(t,[{key:"_initComponents",value:function(){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initComponents",this).call(this),this._typingIndicators=new y({clientId:this.appId}),this.telemetryMonitor=new C({client:this,enabled:this.telemetryEnabled})}},{key:"_cleanup",value:function(){if(!this.isDestroyed){this._inCleanup=!0;try{this._runMixins("cleanup",[])}catch(e){b.error(e)}this.socketManager&&this.socketManager.close(),this._inCleanup=!1}}},{key:"destroy",value:function(){this._cleanup(),this._destroyComponents(),v.unregister(this),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._inCleanup=!1}},{key:"__adjustAppId",value:function(){if(this.appId)throw new Error(c.appIdImmutable)}},{key:"_fixIdentities",value:function(e){var t=this;return e.map(function(e){if(e instanceof p)return e;if("string"==typeof e)return t.getIdentity(e,!0);if(e&&"object"===(void 0===e?"undefined":r(e))){if("userId"in e)return t.getIdentity(e.id||e.userId);if("user_id"in e)return t._createObject(e)}return null})}},{key:"getObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(g.typeFromID(e)){case"messages":case"announcements":return this.getMessage(e,t);case"conversations":return this.getConversation(e,t);case"channels":return this.getChannel(e,t);case"queries":return this.getQuery(e);case"identities":return this.getIdentity(e,t);case"members":return this.getMember(e,t)}return null}},{key:"_createObject",value:function(e){var t=this.getObject(e.id);if(t)return t._populateFromServer(e),t;switch(g.typeFromID(e.id)){case"messages":if(e.conversation)return l._createFromServer(e,this);if(e.channel)return f._createFromServer(e,this);break;case"announcements":return d._createFromServer(e,this);case"conversations":return s._createFromServer(e,this);case"channels":return u._createFromServer(e,this);case"identities":return p._createFromServer(e,this);case"members":return h._createFromServer(e,this)}return null}},{key:"_updateContainerId",value:function(e,t){e instanceof s?this._updateConversationId(e,t):this._updateChannelId(e,t)}},{key:"_processDelayedTriggers",value:function(){if(!this.isDestroyed){var e=this._delayedTriggers.filter(function(e){return"conversations:add"===e[0]}),n=this._delayedTriggers.filter(function(e){return"conversations:remove"===e[0]});this._foldEvents(e,"conversations",this),this._foldEvents(n,"conversations",this);var r=this._delayedTriggers.filter(function(e){return"messages:add"===e[0]}),o=this._delayedTriggers.filter(function(e){return"messages:remove"===e[0]});this._foldEvents(r,"messages",this),this._foldEvents(o,"messages",this);var a=this._delayedTriggers.filter(function(e){return"identities:add"===e[0]}),s=this._delayedTriggers.filter(function(e){return"identities:remove"===e[0]});this._foldEvents(a,"identities",this),this._foldEvents(s,"identities",this),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_processDelayedTriggers",this).call(this)}}},{key:"trigger",value:function(e,n){this._triggerLogger(e,n),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,n)}},{key:"_triggerLogger",value:function(e,t){if(-1!==["conversations:add","conversations:remove","conversations:change","messages:add","messages:remove","messages:change","identities:add","identities:remove","identities:change","challenge","ready"].indexOf(e)){if(t&&t.isChange)b.info("Client Event: "+e+" "+t.changes.map(function(e){return e.property}).join(", "));else{var n="";t&&(t.message&&(n=t.message.id),t.messages&&(n=t.messages.length+" messages"),t.conversation&&(n=t.conversation.id),t.conversations&&(n=t.conversations.length+" conversations"),t.channel&&(n=t.channel.id),t.channels&&(n=t.channels.length+" channels")),b.info("Client Event: "+e+" "+n)}t&&b.debug(t)}else b.debug(e,t)}},{key:"_resetSession",value:function(){return this._cleanup(),this._runMixins("reset",[]),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_resetSession",this).call(this)}},{key:"_checkAndPurgeCache",value:function(e){var t=this;this._inCheckAndPurgeCache=!0,e.forEach(function(e){e.isDestroyed||t._isCachedObject(e)||(e instanceof m==!1&&(e=t.getObject(e.id)),e&&e.destroy())}),this._inCheckAndPurgeCache=!1}},{key:"_scheduleCheckAndPurgeCache",value:function(e){var n=this;e.isSaved()&&(this._scheduleCheckAndPurgeCacheAt<Date.now()&&(this._scheduleCheckAndPurgeCacheAt=Date.now()+t.CACHE_PURGE_INTERVAL,setTimeout(function(){return n._runScheduledCheckAndPurgeCache()},t.CACHE_PURGE_INTERVAL)),this._scheduleCheckAndPurgeCacheItems.push(e))}},{key:"_runScheduledCheckAndPurgeCache",value:function(){var e=this._scheduleCheckAndPurgeCacheItems;this._scheduleCheckAndPurgeCacheItems=[],this._checkAndPurgeCache(e),this._scheduleCheckAndPurgeCacheAt=0}},{key:"_isCachedObject",value:function(e){for(var t=Object.keys(this._models.queries),n=0;n<t.length;n++){if(this._models.queries[t[n]]._getItem(e.id))return!0}return!1}},{key:"_connectionRestored",value:function(e){var t=this;e.reset&&(b.debug("Client Connection Restored; Resetting all Queries"),this.dbManager.deleteTables(function(){t.dbManager._open(),Object.keys(t._models.queries).forEach(function(e){var n=t._models.queries[e];n&&n.reset()})}))}},{key:"createTypingListener",value:function(e){return new _({clientId:this.appId,input:e})}},{key:"createTypingPublisher",value:function(){return new A({clientId:this.appId})}},{key:"getTypingState",value:function(e){return this._typingIndicators.getState(e)}}],[{key:"getClient",value:function(e){return v.get(e)}},{key:"destroyAllClients",value:function(){v.getAll().forEach(function(e){return e.destroy()})}},{key:"addListenerForNewClient",value:function(e){v.addListener(e)}},{key:"removeListenerForNewClient",value:function(e){v.removeListener(e)}}]),t}();w.prototype._scheduleCheckAndPurgeCacheItems=null,w.prototype._scheduleCheckAndPurgeCacheAt=0,w.prototype.telemetryEnabled=!0,w.prototype.telemetryMonitor=null,w.prototype._tabId=g.generateUUID(),w.version="3.4.17",w.CACHE_PURGE_INTERVAL=72e5,w._ignoredEvents=["conversations:loaded","conversations:loaded-error"],w._supportedEvents=["typing-indicator-change"].concat(a._supportedEvents),w.mixins=[n(359),n(354),n(353),n(352),n(351),n(350),n(349)],m.initClass.apply(w,[w,"Client"]),e.exports=w},function(e,t,n){!function(){var n=Array.prototype.forEach,r=Object.prototype.hasOwnProperty,o=Array.prototype.slice,i=0;var a,s={keys:Object.keys||function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("keys() called on a non-object");var t,n=[];for(t in e)e.hasOwnProperty(t)&&(n[n.length]=t);return n},uniqueId:function(e){var t=++i+"";return e?e+t:t},has:function(e,t){return r.call(e,t)},each:function(e,t,r){if(null!=e)if(n&&e.forEach===n)e.forEach(t,r);else if(e.length===+e.length)for(var o=0,i=e.length;o<i;o++)t.call(r,e[o],o,e);else for(var a in e)this.has(e,a)&&t.call(r,e[a],a,e)},once:function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}};a={on:function(e,t,n){return c(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,n){if(!c(this,"once",e,[t,n])||!t)return this;var r=this,o=s.once(function(){r.off(e,o),t.apply(this,arguments)});return o._callback=t,this.on(e,o,n)},off:function(e,t,n){var r,o,i,a,u,l,f,d;if(!this._events||!c(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(u=0,l=(a=e?[e]:s.keys(this._events)).length;u<l;u++)if(e=a[u],i=this._events[e]){if(this._events[e]=r=[],t||n)for(f=0,d=i.length;f<d;f++)o=i[f],(t&&t!==o.callback&&t!==o.callback._callback||n&&n!==o.context)&&r.push(o);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&l(n,t),r&&l(r,arguments),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return this;var o=!t&&!n;for(var i in"object"==typeof t&&(n=this),e&&((r={})[e._listenerId]=e),r)r[i].off(t,n,this),o&&delete this._listeners[i];return this}};var u=/\s+/,c=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var o in n)e[t].apply(e,[o,n[o]].concat(r));return!1}if(u.test(n)){for(var i=n.split(u),a=0,s=i.length;a<s;a++)e[t].apply(e,[i[a]].concat(r));return!1}return!0},l=function(e,t){var n,r=-1,o=e.length,i=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<o;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<o;)(n=e[r]).callback.call(n.ctx,i);return;case 2:for(;++r<o;)(n=e[r]).callback.call(n.ctx,i,a);return;case 3:for(;++r<o;)(n=e[r]).callback.call(n.ctx,i,a,s);return;default:for(;++r<o;)(n=e[r]).callback.apply(n.ctx,t)}};s.each({listenTo:"on",listenToOnce:"once"},function(e,t){a[t]=function(t,n,r){return(this._listeners||(this._listeners={}))[t._listenerId||(t._listenerId=s.uniqueId("l"))]=t,"object"==typeof n&&(r=this),t[e](n,r,this),this}}),a.bind=a.on,a.unbind=a.off,a.mixin=function(e){return s.each(["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"],function(t){e[t]=this[t]},this),e},void 0!==e&&e.exports&&(t=e.exports=a),t.BackboneEvents=a}()},function(e,t,n){!function(){var t={set:function(e,t,n,r,o){if(e.abortHandler&&e.abortHandler(e.fullPath,"set",t))return;e.pointer[e.lastName]=t},delete:function(e,t,n,r,o){if(e.abortHandler&&e.abortHandler(e.fullPath,"delete",t))return;delete e.pointer[e.lastName]},add:function(e,t,n,r,o){if(e.abortHandler&&e.abortHandler(e.fullPath,"add",t))return;var i;i=e.lastName in e.pointer?e.pointer[e.lastName]:e.pointer[e.lastName]=[];if(!(Array.isArray(i)||i instanceof Set))throw new Error("The add operation requires an array or new structure to add to.");if(Array.isArray(t))throw new Error("The add operation will not add arrays to sets.");if(n.id){for(var a=0;a<i.length;a++)if(this.doesObjectMatchIdCallback(n.id,i[a]))return;i instanceof Set?i.add(t):i.push(t)}else{if(t&&"object"==typeof t)throw new Error("The add operation will not add objects to sets.");-1===i.indexOf(t)&&i.push(t)}},remove:function(e,t,n,r,o){if(e.abortHandler&&e.abortHandler(e.fullPath,"remove",t))return;var i;i=e.lastName in e.pointer?e.pointer[e.lastName]:e.pointer[e.lastName]=[];if(!(Array.isArray(i)||i instanceof Set))throw new Error("The remove operation requires an array or new structure to remove from.");if(n.id){if(i instanceof Set)i.delete(t);else for(var a=0;a<i.length;a++)if(this.doesObjectMatchIdCallback(n.id,i[a])){i.splice(a,1);break}}else{if(Array.isArray(t))throw new Error("The remove operation will not remove arrays from sets.");if(t&&"object"==typeof t)throw new Error("The remove operation will not remove objects from sets.");if(i instanceof Set)i.remove(t);else{var s=i.indexOf(t);-1!==s&&i.splice(s,1)}}}};function n(e){return this.camelCase=e.camelCase,this.propertyNameMap=e.propertyNameMap,this.changeCallbacks=e.changeCallbacks,this.abortCallbacks=e.abortCallbacks,this.getObjectCallback=e.getObjectCallback,this.createObjectCallback=e.createObjectCallback,this.doesObjectMatchIdCallback=e.doesObjectMatchIdCallback||function(e,t){return t.id==e},this.returnIds=e.returnIds,this}e.exports=n,n.prototype.parse=function(e){var n={};e.operations.forEach(function(r){var o=function(e,t,n,r){var o=t.object,i=String.fromCharCode(145),a=(e=(e=e.replace(/\\\./g,i)).replace(/\\(.)/g,"$1")).split(/\./),s=new RegExp(i,"g");a=a.map(function(e){return e.replace(s,".")}),this.camelCase&&(a[0]=a[0].replace(/[-_]./g,function(e){return e[1].toUpperCase()}));if(this.propertyNameMap){var u=this.propertyNameMap[t.type];a[0]=u&&u[a[0]]||a[0]}(function(e){if(!e.changes[e.baseName]){var t=e.object[e.baseName];("set"===e.operation||"delete"===e.operation)&&"id"in e.operation&&t&&(t=t.id);var n=e.changes[e.baseName]={paths:[]};n.before=t&&"object"==typeof t?function e(t){if(Array.isArray(t))return t.map(function(t){return e(t)});if(t instanceof Set){var n=new Set;return t.forEach(function(e){n.add(e)}),n}if(t instanceof Date)return new Date(t);if(t&&"object"==typeof t){var r=Object.keys(t).filter(function(e){return 0!==e.indexOf("_")}),n={};return r.forEach(function(r){n[r]=e(t[r])}),n}return t}(t):t}var r=e.changes[e.baseName].paths;-1===r.indexOf(e.fullPath)&&r.push(e.fullPath)}).apply(this,[{baseName:a[0],fullPath:e,object:t.object,options:t,changes:n,operation:r}]);for(var c=o,l=0;l<a.length-1;l++){var f=a[l];if(f in c){if(null===(c=c[f])||"object"!=typeof c)throw new Error("Can not access property '"+e+"'")}else c[f]={},c=c[f]}return{pointer:c,lastName:a[a.length-1],baseName:a[0],fullPath:e,abortHandler:this.abortCallbacks&&this.abortCallbacks[t.type]&&(this.abortCallbacks[t.type].all||this.abortCallbacks[t.type][a[0]])}}.apply(this,[r.property,e,n,r]);t[r.operation].call(this,o,function(e,t){if(e.id){if(!this.getObjectCallback)throw new Error("Must provide getObjectCallback in constructor to use ids");var n=this.getObjectCallback(e.id);return!n&&e.value&&(n=this.createObjectCallback?this.createObjectCallback(e.id,e.value):e.value),n||(this.returnIds?e.id:null)}return e.value}.apply(this,[r,e]),r,e,n)},this),function(e,t,n){this.changeCallbacks&&n&&this.changeCallbacks[n]&&Object.keys(e).forEach(function(r){this.changeCallbacks[n].all?this.changeCallbacks[n].all(t,t[r],e[r].before,e[r].paths):this.changeCallbacks[n][r]&&this.changeCallbacks[n][r](t,t[r],e[r].before,e[r].paths)},this)}.apply(this,[n,e.object,e.type])}}()},function(e,t,n){"use strict";var r=n(366),o=void 0;e.exports=function(e){o||function(e){e.client.once("destroy",function(){return o=null}),o=new r({camelCase:!0,getObjectCallback:function(t){return e.client.getObject(t)},createObjectCallback:function(t,n){return e.client._createObject(n)},propertyNameMap:{Conversation:{unreadMessageCount:"unreadCount"},Identity:{presence:"_presence"}},changeCallbacks:{Message:{all:function(e,t,n,r){e._handlePatchEvent(t,n,r)}},Conversation:{all:function(e,t,n,r){e._handlePatchEvent(t,n,r)}},Channel:{all:function(e,t,n,r){e._handlePatchEvent(t,n,r)}},Identity:{all:function(e,t,n,r){e._handlePatchEvent(t,n,r)}}}})}(e),o.parse(e)}},function(e,t,n){"use strict";(function(t){var n=t.getNativeSupport&&t.getNativeSupport("setImmediate");if(n)e.exports=n;else{var r=function(){for(a=!1,clearTimeout(o),o=0,i=0,s.push(i);s.length;){var e=s.shift();if("function"==typeof e)try{e()}catch(e){console.error(e)}else e>=u&&(s=[],console.error("Layer Error: setImmediate Max Queue Depth Exceded"))}},o=0,i=0,a=!1,s=[],u=10;e.exports=function(e){if("function"!=typeof e)throw new Error("Function expected in defer");s.push(e),a||(a=!0,"undefined"!=typeof document?window.postMessage({type:"layer-set-immediate"},"*"):window.postMessage({type:"layer-set-immediate"}),o=setTimeout(r,0))},e.exports.flush=function(){return r()},e.exports.reset=function(){s=[]},addEventListener("message",function(e){"layer-set-immediate"===e.data.type&&r()})}}).call(this,n(11))},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var o=new Uint8Array(16);n=function(){return r.getRandomValues(o),o}}if(!n){var i=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}e.exports=n}).call(this,n(11))},function(e,t,n){for(var r=n(369),o=[],i={},a=0;a<256;a++)o[a]=(a+256).toString(16).substr(1),i[o[a]]=a;function s(e,t){var n=t||0,r=o;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}var u=r(),c=[1|u[0],u[1],u[2],u[3],u[4],u[5]],l=16383&(u[6]<<8|u[7]),f=0,d=0;function p(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var a=0;a<16;a++)t[o+a]=i[a];return t||s(i)}var h=p;h.v1=function(e,t,n){var r=t&&n||0,o=t||[],i=void 0!==(e=e||{}).clockseq?e.clockseq:l,a=void 0!==e.msecs?e.msecs:(new Date).getTime(),u=void 0!==e.nsecs?e.nsecs:d+1,p=a-f+(u-d)/1e4;if(p<0&&void 0===e.clockseq&&(i=i+1&16383),(p<0||a>f)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=a,d=u,l=i;var h=(1e4*(268435455&(a+=122192928e5))+u)%4294967296;o[r++]=h>>>24&255,o[r++]=h>>>16&255,o[r++]=h>>>8&255,o[r++]=255&h;var y=a/4294967296*1e4&268435455;o[r++]=y>>>8&255,o[r++]=255&y,o[r++]=y>>>24&15|16,o[r++]=y>>>16&255,o[r++]=i>>>8|128,o[r++]=255&i;for(var g=e.node||c,m=0;m<6;m++)o[r+m]=g[m];return t||s(o)},h.v4=p,h.parse=function(e,t,n){var r=t&&n||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){o<16&&(t[r+o++]=i[e])});o<16;)t[r+o++]=0;return t},h.unparse=s,e.exports=h},function(e,t,n){"use strict";var r={};e.exports=r,r.Root=n(2),r.Client=n(364),r.ClientAuthenticator=n(156),r.Syncable=n(14),r.Conversation=n(54),r.Channel=n(52),r.Container=n(81),r.Message=n(39),r.Message.ConversationMessage=n(53),r.Message.ChannelMessage=n(80),r.Announcement=n(79),r.MessagePart=n(153),r.Content=n(152),r.Query=n(17),r.QueryBuilder=n(348),r.xhr=n(25),r.Identity=n(32),r.Membership=n(78),r.LayerError=n(3),r.LayerEvent=n(55),r.SyncManager=n(149),r.SyncEvent=n(21).SyncEvent,r.XHRSyncEvent=n(21).XHRSyncEvent,r.WebsocketSyncEvent=n(21).WebsocketSyncEvent,r.Websockets={SocketManager:n(155),RequestManager:n(151),ChangeManager:n(154)},r.OnlineStateManager=n(150),r.DbManager=n(148),r.Constants=n(6),r.Util=n(4),r.TypingIndicators=n(51),r.TypingIndicators.TypingListener=n(147),r.TypingIndicators.TypingPublisher=n(77)},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=n(373)(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=i},function(e,t,n){var r=n(10),o=n(159),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t){e.exports=function(e){return null===e}},function(e,t,n){(e.exports=function(){this.events={}}).prototype={on:function(e,t){return(e=this.events[e]=this.events[e]||[]).push(t),function(){e.splice(e.indexOf(t)>>>0,1)}},emit:function(e){var t=this.events[e];if(t&&t[0]){var n=t.slice.call(arguments,1);t.slice().map(function(e){e.apply(this,n)})}}}},function(e,t,n){var r=n(46);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},function(e,t){e.exports=function(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}},function(e,t,n){var r=n(163),o=n(46),i=n(379),a=n(162),s=n(161),u=Array.prototype.splice;e.exports=function(e,t,n,c){var l=c?i:o,f=-1,d=t.length,p=e;for(e===t&&(t=s(t)),n&&(p=r(e,a(n)));++f<d;)for(var h=0,y=t[f],g=n?n(y):y;(h=l(p,g,h,c))>-1;)p!==e&&u.call(p,h,1),u.call(e,h,1);return e}},function(e,t,n){var r=n(380);e.exports=function(e,t){return e&&e.length&&t&&t.length?r(e,t):e}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(383),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),u=Array(s);++a<s;)u[a]=i[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=i[a];return c[t]=n(u),r(e,this,c)}}},function(e,t,n){var r=n(101)(n(381));e.exports=r},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}t.__esModule=!0;var o=r();o.withExtraArgument=r,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(387),s=(o=a)&&o.__esModule?o:{default:o};i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var u=(0,s.default)(i);t.default=u}).call(this,n(11),n(102)(e))},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(103),o=n(104),i=n(389);e.exports=function(){function e(e,t,n,r,a,s){s!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},function(e,t,n){"use strict";var r=n(391);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";var r=n(392);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(t,n[a])||!o(e[n[a]],t[n[a]]))return!1;return!0}},function(e,t,n){"use strict";e.exports=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},function(e,t,n){"use strict";
/** @license React v16.3.2
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(104),o=n(0),i=n(396),a=n(105),s=n(103),u=n(395),c=n(394),l=n(393),f=n(167);function d(e){for(var t=arguments.length-1,n="http://reactjs.org/docs/error-decoder.html?invariant="+e,o=0;o<t;o++)n+="&args[]="+encodeURIComponent(arguments[o+1]);r(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}o||d("227");var p={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(e,t,n,r,o,i,a,s,u){(function(e,t,n,r,o,i,a,s,u){this._hasCaughtError=!1,this._caughtError=null;var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}).apply(p,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,o,i,a,s,u){if(p.invokeGuardedCallback.apply(this,arguments),p.hasCaughtError()){var c=p.clearCaughtError();p._hasRethrowError||(p._hasRethrowError=!0,p._rethrowError=c)}},rethrowCaughtError:function(){return function(){if(p._hasRethrowError){var e=p._rethrowError;throw p._rethrowError=null,p._hasRethrowError=!1,e}}.apply(p,arguments)},hasCaughtError:function(){return p._hasCaughtError},clearCaughtError:function(){if(p._hasCaughtError){var e=p._caughtError;return p._caughtError=null,p._hasCaughtError=!1,e}d("198")}};var h=null,y={};function g(){if(h)for(var e in y){var t=y[e],n=h.indexOf(e);if(-1<n||d("96",e),!v[n])for(var r in t.extractEvents||d("97",e),v[n]=t,n=t.eventTypes){var o=void 0,i=n[r],a=t,s=r;b.hasOwnProperty(s)&&d("99",s),b[s]=i;var u=i.phasedRegistrationNames;if(u){for(o in u)u.hasOwnProperty(o)&&m(u[o],a,s);o=!0}else i.registrationName?(m(i.registrationName,a,s),o=!0):o=!1;o||d("98",r,e)}}}function m(e,t,n){_[e]&&d("100",e),_[e]=t,A[e]=t.eventTypes[n].dependencies}var v=[],b={},_={},A={};function C(e){h&&d("101"),h=Array.prototype.slice.call(e),g()}function w(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];y.hasOwnProperty(t)&&y[t]===r||(y[t]&&d("102",t),y[t]=r,n=!0)}n&&g()}var E=Object.freeze({plugins:v,eventNameDispatchConfigs:b,registrationNameModules:_,registrationNameDependencies:A,possibleRegistrationNames:null,injectEventPluginOrder:C,injectEventPluginsByName:w}),k=null,x=null,O=null;function S(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=O(r),p.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function T(e,t){return null==t&&d("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function M(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var P=null;function B(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)S(e,t,n[o],r[o]);else n&&S(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function D(e){return B(e,!0)}function I(e){return B(e,!1)}var j={injectEventPluginOrder:C,injectEventPluginsByName:w};function R(e,t){var n=e.stateNode;if(!n)return null;var r=k(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&d("231",t,typeof n),n)}function N(e,t){null!==e&&(P=T(P,e)),e=P,P=null,e&&(M(e,t?D:I),P&&d("95"),p.rethrowCaughtError())}function F(e,t,n,r){for(var o=null,i=0;i<v.length;i++){var a=v[i];a&&(a=a.extractEvents(e,t,n,r))&&(o=T(o,a))}N(o,!1)}var L=Object.freeze({injection:j,getListener:R,runEventsInBatch:N,runExtractedEventsInBatch:F}),U=Math.random().toString(36).slice(2),z="__reactInternalInstance$"+U,q="__reactEventHandlers$"+U;function W(e){if(e[z])return e[z];for(;!e[z];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[z]).tag||6===e.tag?e:null}function H(e){if(5===e.tag||6===e.tag)return e.stateNode;d("33")}function Y(e){return e[q]||null}var V=Object.freeze({precacheFiberNode:function(e,t){t[z]=e},getClosestInstanceFromNode:W,getInstanceFromNode:function(e){return!(e=e[z])||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:H,getFiberCurrentPropsFromNode:Y,updateFiberProps:function(e,t){e[q]=t}});function G(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function K(e,t,n){for(var r=[];e;)r.push(e),e=G(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function Z(e,t,n){(t=R(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=T(n._dispatchListeners,t),n._dispatchInstances=T(n._dispatchInstances,e))}function X(e){e&&e.dispatchConfig.phasedRegistrationNames&&K(e._targetInst,Z,e)}function Q(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;K(t=t?G(t):null,Z,e)}}function $(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=R(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=T(n._dispatchListeners,t),n._dispatchInstances=T(n._dispatchInstances,e))}function J(e){e&&e.dispatchConfig.registrationName&&$(e._targetInst,null,e)}function ee(e){M(e,X)}function te(e,t,n,r){if(n&&r)e:{for(var o=n,i=r,a=0,s=o;s;s=G(s))a++;s=0;for(var u=i;u;u=G(u))s++;for(;0<a-s;)o=G(o),a--;for(;0<s-a;)i=G(i),s--;for(;a--;){if(o===i||o===i.alternate)break e;o=G(o),i=G(i)}o=null}else o=null;for(i=o,o=[];n&&n!==i&&(null===(a=n.alternate)||a!==i);)o.push(n),n=G(n);for(n=[];r&&r!==i&&(null===(a=r.alternate)||a!==i);)n.push(r),r=G(r);for(r=0;r<o.length;r++)$(o[r],"bubbled",e);for(e=n.length;0<e--;)$(n[e],"captured",t)}var ne=Object.freeze({accumulateTwoPhaseDispatches:ee,accumulateTwoPhaseDispatchesSkipTarget:function(e){M(e,Q)},accumulateEnterLeaveDispatches:te,accumulateDirectDispatches:function(e){M(e,J)}}),re=null;function oe(){return!re&&i.canUseDOM&&(re="textContent"in document.documentElement?"textContent":"innerText"),re}var ie={_root:null,_startText:null,_fallbackText:null};function ae(){if(ie._fallbackText)return ie._fallbackText;var e,t,n=ie._startText,r=n.length,o=se(),i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return ie._fallbackText=o.slice(e,1<t?1-t:void 0),ie._fallbackText}function se(){return"value"in ie._root?ie._root.value:ie._root[oe()]}var ue="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),ce={type:null,target:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function le(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?s.thatReturnsTrue:s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse,this}function fe(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function de(e){e instanceof this||d("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function pe(e){e.eventPool=[],e.getPooled=fe,e.release=de}a(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=s.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=s.thatReturnsTrue)},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<ue.length;t++)this[ue[t]]=null}}),le.Interface=ce,le.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return a(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=a({},r.Interface,e),n.extend=r.extend,pe(n),n},pe(le);var he=le.extend({data:null}),ye=le.extend({data:null}),ge=[9,13,27,32],me=i.canUseDOM&&"CompositionEvent"in window,ve=null;i.canUseDOM&&"documentMode"in document&&(ve=document.documentMode);var be=i.canUseDOM&&"TextEvent"in window&&!ve,_e=i.canUseDOM&&(!me||ve&&8<ve&&11>=ve),Ae=String.fromCharCode(32),Ce={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"topBlur topCompositionEnd topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"topBlur topCompositionStart topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"topBlur topCompositionUpdate topKeyDown topKeyPress topKeyUp topMouseDown".split(" ")}},we=!1;function Ee(e,t){switch(e){case"topKeyUp":return-1!==ge.indexOf(t.keyCode);case"topKeyDown":return 229!==t.keyCode;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function ke(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var xe=!1;var Oe={eventTypes:Ce,extractEvents:function(e,t,n,r){var o=void 0,i=void 0;if(me)e:{switch(e){case"topCompositionStart":o=Ce.compositionStart;break e;case"topCompositionEnd":o=Ce.compositionEnd;break e;case"topCompositionUpdate":o=Ce.compositionUpdate;break e}o=void 0}else xe?Ee(e,n)&&(o=Ce.compositionEnd):"topKeyDown"===e&&229===n.keyCode&&(o=Ce.compositionStart);return o?(_e&&(xe||o!==Ce.compositionStart?o===Ce.compositionEnd&&xe&&(i=ae()):(ie._root=r,ie._startText=se(),xe=!0)),o=he.getPooled(o,t,n,r),i?o.data=i:null!==(i=ke(n))&&(o.data=i),ee(o),i=o):i=null,(e=be?function(e,t){switch(e){case"topCompositionEnd":return ke(t);case"topKeyPress":return 32!==t.which?null:(we=!0,Ae);case"topTextInput":return(e=t.data)===Ae&&we?null:e;default:return null}}(e,n):function(e,t){if(xe)return"topCompositionEnd"===e||!me&&Ee(e,t)?(e=ae(),ie._root=null,ie._startText=null,ie._fallbackText=null,xe=!1,e):null;switch(e){case"topPaste":return null;case"topKeyPress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"topCompositionEnd":return _e?null:t.data;default:return null}}(e,n))?((t=ye.getPooled(Ce.beforeInput,t,n,r)).data=e,ee(t)):t=null,null===i?t:null===t?i:[i,t]}},Se=null,Te={injectFiberControlledHostComponent:function(e){Se=e}},Me=null,Pe=null;function Be(e){if(e=x(e)){Se&&"function"==typeof Se.restoreControlledState||d("194");var t=k(e.stateNode);Se.restoreControlledState(e.stateNode,e.type,t)}}function De(e){Me?Pe?Pe.push(e):Pe=[e]:Me=e}function Ie(){return null!==Me||null!==Pe}function je(){if(Me){var e=Me,t=Pe;if(Pe=Me=null,Be(e),t)for(e=0;e<t.length;e++)Be(t[e])}}var Re=Object.freeze({injection:Te,enqueueStateRestore:De,needsStateRestore:Ie,restoreStateIfNeeded:je});function Ne(e,t){return e(t)}function Fe(e,t,n){return e(t,n)}function Le(){}var Ue=!1;function ze(e,t){if(Ue)return e(t);Ue=!0;try{return Ne(e,t)}finally{Ue=!1,Ie()&&(Le(),je())}}var qe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function We(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qe[e.type]:"textarea"===t}function He(e){return(e=e.target||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Ye(e,t){return!(!i.canUseDOM||t&&!("addEventListener"in document))&&((t=(e="on"+e)in document)||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t)}function Ve(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ge(e){e._valueTracker||(e._valueTracker=function(e){var t=Ve(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"function"==typeof n.get&&"function"==typeof n.set)return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.get.call(this)},set:function(e){r=""+e,n.set.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}(e))}function Ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ve(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var Ze=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xe="function"==typeof Symbol&&Symbol.for,Qe=Xe?Symbol.for("react.element"):60103,$e=Xe?Symbol.for("react.call"):60104,Je=Xe?Symbol.for("react.return"):60105,et=Xe?Symbol.for("react.portal"):60106,tt=Xe?Symbol.for("react.fragment"):60107,nt=Xe?Symbol.for("react.strict_mode"):60108,rt=Xe?Symbol.for("react.provider"):60109,ot=Xe?Symbol.for("react.context"):60110,it=Xe?Symbol.for("react.async_mode"):60111,at=Xe?Symbol.for("react.forward_ref"):60112,st="function"==typeof Symbol&&Symbol.iterator;function ut(e){return null===e||void 0===e?null:"function"==typeof(e=st&&e[st]||e["@@iterator"])?e:null}function ct(e){if("function"==typeof(e=e.type))return e.displayName||e.name;if("string"==typeof e)return e;switch(e){case tt:return"ReactFragment";case et:return"ReactPortal";case $e:return"ReactCall";case Je:return"ReactReturn"}if("object"==typeof e&&null!==e)switch(e.$$typeof){case at:return""!==(e=e.render.displayName||e.render.name||"")?"ForwardRef("+e+")":"ForwardRef"}return null}function lt(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var n=e._debugOwner,r=e._debugSource,o=ct(e),i=null;n&&(i=ct(n)),n=r,o="\n    in "+(o||"Unknown")+(n?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":i?" (created by "+i+")":"");break e;default:o=""}t+=o,e=e.return}while(e);return t}var ft=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dt={},pt={};function ht(e,t,n,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yt[e]=new ht(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yt[t]=new ht(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){yt[e]=new ht(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){yt[e]=new ht(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yt[e]=new ht(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){yt[e]=new ht(e,3,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){yt[e]=new ht(e,4,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){yt[e]=new ht(e,6,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){yt[e]=new ht(e,5,!1,e.toLowerCase(),null)});var gt=/[\-:]([a-z])/g;function mt(e){return e[1].toUpperCase()}function vt(e,t,n,r){var o=yt.hasOwnProperty(t)?yt[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||void 0===t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!pt.hasOwnProperty(e)||!dt.hasOwnProperty(e)&&(ft.test(e)?pt[e]=!0:(dt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function bt(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function _t(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=kt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function At(e,t){null!=(t=t.checked)&&vt(e,"checked",t,!1)}function Ct(e,t){At(e,t);var n=kt(t.value);null!=n&&("number"===t.type?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n)),t.hasOwnProperty("value")?Et(e,t.type,n):t.hasOwnProperty("defaultValue")&&Et(e,t.type,kt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function wt(e,t){(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue"))&&(""===e.value&&(e.value=""+e._wrapperState.initialValue),e.defaultValue=""+e._wrapperState.initialValue),""!==(t=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)}function Et(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function kt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gt,mt);yt[t]=new ht(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gt,mt);yt[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gt,mt);yt[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),yt.tabIndex=new ht("tabIndex",1,!1,"tabindex",null);var xt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"topBlur topChange topClick topFocus topInput topKeyDown topKeyUp topSelectionChange".split(" ")}};function Ot(e,t,n){return(e=le.getPooled(xt.change,e,t,n)).type="change",De(n),ee(e),e}var St=null,Tt=null;function Mt(e){N(e,!1)}function Pt(e){if(Ke(H(e)))return e}function Bt(e,t){if("topChange"===e)return t}var Dt=!1;function It(){St&&(St.detachEvent("onpropertychange",jt),Tt=St=null)}function jt(e){"value"===e.propertyName&&Pt(Tt)&&ze(Mt,e=Ot(Tt,e,He(e)))}function Rt(e,t,n){"topFocus"===e?(It(),Tt=n,(St=t).attachEvent("onpropertychange",jt)):"topBlur"===e&&It()}function Nt(e){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return Pt(Tt)}function Ft(e,t){if("topClick"===e)return Pt(t)}function Lt(e,t){if("topInput"===e||"topChange"===e)return Pt(t)}i.canUseDOM&&(Dt=Ye("input")&&(!document.documentMode||9<document.documentMode));var Ut={eventTypes:xt,_isInputEventSupported:Dt,extractEvents:function(e,t,n,r){var o=t?H(t):window,i=void 0,a=void 0,s=o.nodeName&&o.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===o.type?i=Bt:We(o)?Dt?i=Lt:(i=Nt,a=Rt):(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(i=Ft),i&&(i=i(e,t)))return Ot(i,n,r);a&&a(e,o,t),"topBlur"===e&&null!=t&&(e=t._wrapperState||o._wrapperState)&&e.controlled&&"number"===o.type&&Et(o,"number",o.value)}},zt=le.extend({view:null,detail:null}),qt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=qt[e])&&!!t[e]}function Ht(){return Wt}var Yt=zt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ht,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),Vt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},Gt={eventTypes:Vt,extractEvents:function(e,t,n,r){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement)||"topMouseOut"!==e&&"topMouseOver"!==e)return null;var o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window;if("topMouseOut"===e?(e=t,t=(t=n.relatedTarget||n.toElement)?W(t):null):e=null,e===t)return null;var i=null==e?o:H(e);o=null==t?o:H(t);var a=Yt.getPooled(Vt.mouseLeave,e,n,r);return a.type="mouseleave",a.target=i,a.relatedTarget=o,(n=Yt.getPooled(Vt.mouseEnter,t,n,r)).type="mouseenter",n.target=o,n.relatedTarget=i,te(a,n,e,t),[a,n]}};function Kt(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function Zt(e){return!!(e=e._reactInternalFiber)&&2===Kt(e)}function Xt(e){2!==Kt(e)&&d("188")}function Qt(e){var t=e.alternate;if(!t)return 3===(t=Kt(e))&&d("188"),1===t?null:e;for(var n=e,r=t;;){var o=n.return,i=o?o.alternate:null;if(!o||!i)break;if(o.child===i.child){for(var a=o.child;a;){if(a===n)return Xt(o),e;if(a===r)return Xt(o),t;a=a.sibling}d("188")}if(n.return!==r.return)n=o,r=i;else{a=!1;for(var s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a){for(s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}a||d("189")}}n.alternate!==r&&d("190")}return 3!==n.tag&&d("188"),n.stateNode.current===n?e:t}function $t(e){if(!(e=Qt(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var Jt=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),en=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tn=zt.extend({relatedTarget:null});function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var rn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},on={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},an=zt.extend({key:function(e){if(e.key){var t=rn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?on[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ht,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),sn=Yt.extend({dataTransfer:null}),un=zt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ht}),cn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ln=Yt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),fn={},dn={};function pn(e,t){var n=e[0].toUpperCase()+e.slice(1),r="on"+n;t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n="top"+n],isInteractive:t},fn[e]=t,dn[n]=t}"blur cancel click close contextMenu copy cut doubleClick dragEnd dragStart drop focus input invalid keyDown keyPress keyUp mouseDown mouseUp paste pause play rateChange reset seeked submit touchCancel touchEnd touchStart volumeChange".split(" ").forEach(function(e){pn(e,!0)}),"abort animationEnd animationIteration animationStart canPlay canPlayThrough drag dragEnter dragExit dragLeave dragOver durationChange emptied encrypted ended error load loadedData loadedMetadata loadStart mouseMove mouseOut mouseOver playing progress scroll seeking stalled suspend timeUpdate toggle touchMove transitionEnd waiting wheel".split(" ").forEach(function(e){pn(e,!1)});var hn={eventTypes:fn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=dn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var o=dn[e];if(!o)return null;switch(e){case"topKeyPress":if(0===nn(n))return null;case"topKeyDown":case"topKeyUp":e=an;break;case"topBlur":case"topFocus":e=tn;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":e=Yt;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":e=sn;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":e=un;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":e=Jt;break;case"topTransitionEnd":e=cn;break;case"topScroll":e=zt;break;case"topWheel":e=ln;break;case"topCopy":case"topCut":case"topPaste":e=en;break;default:e=le}return ee(t=e.getPooled(o,t,n,r)),t}},yn=hn.isInteractiveTopLevelEventType,gn=[];function mn(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=W(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],F(e.topLevelType,t,e.nativeEvent,He(e.nativeEvent))}var vn=!0;function bn(e){vn=!!e}function _n(e,t,n){if(!n)return null;e=(yn(e)?Cn:wn).bind(null,e),n.addEventListener(t,e,!1)}function An(e,t,n){if(!n)return null;e=(yn(e)?Cn:wn).bind(null,e),n.addEventListener(t,e,!0)}function Cn(e,t){Fe(wn,e,t)}function wn(e,t){if(vn){var n=He(t);if(null!==(n=W(n))&&"number"==typeof n.tag&&2!==Kt(n)&&(n=null),gn.length){var r=gn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{ze(mn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>gn.length&&gn.push(e)}}}var En=Object.freeze({get _enabled(){return vn},setEnabled:bn,isEnabled:function(){return vn},trapBubbledEvent:_n,trapCapturedEvent:An,dispatchEvent:wn});function kn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}var xn={animationend:kn("Animation","AnimationEnd"),animationiteration:kn("Animation","AnimationIteration"),animationstart:kn("Animation","AnimationStart"),transitionend:kn("Transition","TransitionEnd")},On={},Sn={};function Tn(e){if(On[e])return On[e];if(!xn[e])return e;var t,n=xn[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sn)return On[e]=n[t];return e}i.canUseDOM&&(Sn=document.createElement("div").style,"AnimationEvent"in window||(delete xn.animationend.animation,delete xn.animationiteration.animation,delete xn.animationstart.animation),"TransitionEvent"in window||delete xn.transitionend.transition);var Mn={topAnimationEnd:Tn("animationend"),topAnimationIteration:Tn("animationiteration"),topAnimationStart:Tn("animationstart"),topBlur:"blur",topCancel:"cancel",topChange:"change",topClick:"click",topClose:"close",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoad:"load",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topToggle:"toggle",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:Tn("transitionend"),topWheel:"wheel"},Pn={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Bn={},Dn=0,In="_reactListenersID"+(""+Math.random()).slice(2);function jn(e){return Object.prototype.hasOwnProperty.call(e,In)||(e[In]=Dn++,Bn[e[In]]={}),Bn[e[In]]}function Rn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nn(e,t){var n,r=Rn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rn(r)}}function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}var Ln=i.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Un={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"topBlur topContextMenu topFocus topKeyDown topKeyUp topMouseDown topMouseUp topSelectionChange".split(" ")}},zn=null,qn=null,Wn=null,Hn=!1;function Yn(e,t){if(Hn||null==zn||zn!==u())return null;var n=zn;return"selectionStart"in n&&Fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?n={anchorNode:(n=window.getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}:n=void 0,Wn&&c(Wn,n)?null:(Wn=n,(e=le.getPooled(Un.select,qn,e,t)).type="select",e.target=zn,ee(e),e)}var Vn={eventTypes:Un,extractEvents:function(e,t,n,r){var o,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(o=!i)){e:{i=jn(i),o=A.onSelect;for(var a=0;a<o.length;a++){var s=o[a];if(!i.hasOwnProperty(s)||!i[s]){i=!1;break e}}i=!0}o=!i}if(o)return null;switch(i=t?H(t):window,e){case"topFocus":(We(i)||"true"===i.contentEditable)&&(zn=i,qn=t,Wn=null);break;case"topBlur":Wn=qn=zn=null;break;case"topMouseDown":Hn=!0;break;case"topContextMenu":case"topMouseUp":return Hn=!1,Yn(n,r);case"topSelectionChange":if(Ln)break;case"topKeyDown":case"topKeyUp":return Yn(n,r)}return null}};function Gn(e,t,n,r){this.tag=e,this.key=n,this.stateNode=this.type=null,this.sibling=this.child=this.return=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function Kn(e,t,n){var r=e.alternate;return null===r?((r=new Gn(e.tag,t,e.key,e.mode)).type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Zn(e,t,n){var r=e.type,o=e.key;e=e.props;var i=void 0;if("function"==typeof r)i=r.prototype&&r.prototype.isReactComponent?2:0;else if("string"==typeof r)i=5;else switch(r){case tt:return Xn(e.children,t,n,o);case it:i=11,t|=3;break;case nt:i=11,t|=2;break;case $e:i=7;break;case Je:i=9;break;default:if("object"==typeof r&&null!==r)switch(r.$$typeof){case rt:i=13;break;case ot:i=12;break;case at:i=14;break;default:if("number"==typeof r.tag)return(t=r).pendingProps=e,t.expirationTime=n,t;d("130",null==r?r:typeof r,"")}else d("130",null==r?r:typeof r,"")}return(t=new Gn(i,e,o,t)).type=r,t.expirationTime=n,t}function Xn(e,t,n,r){return(e=new Gn(10,e,r,t)).expirationTime=n,e}function Qn(e,t,n){return(e=new Gn(6,e,null,t)).expirationTime=n,e}function $n(e,t,n){return(t=new Gn(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}j.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),k=V.getFiberCurrentPropsFromNode,x=V.getInstanceFromNode,O=V.getNodeFromInstance,j.injectEventPluginsByName({SimpleEventPlugin:hn,EnterLeaveEventPlugin:Gt,ChangeEventPlugin:Ut,SelectEventPlugin:Vn,BeforeInputEventPlugin:Oe});var Jn=null,er=null;function tr(e){return function(t){try{return e(t)}catch(e){}}}function nr(e){"function"==typeof Jn&&Jn(e)}function rr(e){"function"==typeof er&&er(e)}function or(e){return{baseState:e,expirationTime:0,first:null,last:null,callbackList:null,hasForceUpdate:!1,isInitialized:!1,capturedValues:null}}function ir(e,t){null===e.last?e.first=e.last=t:(e.last.next=t,e.last=t),(0===e.expirationTime||e.expirationTime>t.expirationTime)&&(e.expirationTime=t.expirationTime)}new Set;var ar=void 0,sr=void 0;function ur(e){ar=sr=null;var t=e.alternate,n=e.updateQueue;null===n&&(n=e.updateQueue=or(null)),null!==t?null===(e=t.updateQueue)&&(e=t.updateQueue=or(null)):e=null,ar=n,sr=e!==n?e:null}function cr(e,t){ur(e),e=ar;var n=sr;null===n?ir(e,t):null===e.last||null===n.last?(ir(e,t),ir(n,t)):(ir(e,t),n.last=t)}function lr(e,t,n,r){return"function"==typeof(e=e.partialState)?e.call(t,n,r):e}function fr(e,t,n,r,o,i){null!==e&&e.updateQueue===n&&(n=t.updateQueue={baseState:n.baseState,expirationTime:n.expirationTime,first:n.first,last:n.last,isInitialized:n.isInitialized,capturedValues:n.capturedValues,callbackList:null,hasForceUpdate:!1}),n.expirationTime=0,n.isInitialized?e=n.baseState:(e=n.baseState=t.memoizedState,n.isInitialized=!0);for(var s=!0,u=n.first,c=!1;null!==u;){var l=u.expirationTime;if(l>i){var f=n.expirationTime;(0===f||f>l)&&(n.expirationTime=l),c||(c=!0,n.baseState=e)}else c||(n.first=u.next,null===n.first&&(n.last=null)),u.isReplace?(e=lr(u,r,e,o),s=!0):(l=lr(u,r,e,o))&&(e=s?a({},e,l):a(e,l),s=!1),u.isForced&&(n.hasForceUpdate=!0),null!==u.callback&&(null===(l=n.callbackList)&&(l=n.callbackList=[]),l.push(u)),null!==u.capturedValue&&(null===(l=n.capturedValues)?n.capturedValues=[u.capturedValue]:l.push(u.capturedValue));u=u.next}return null!==n.callbackList?t.effectTag|=32:null!==n.first||n.hasForceUpdate||null!==n.capturedValues||(t.updateQueue=null),c||(n.baseState=e),e}function dr(e,t){var n=e.callbackList;if(null!==n)for(e.callbackList=null,e=0;e<n.length;e++){var r=n[e],o=r.callback;r.callback=null,"function"!=typeof o&&d("191",o),o.call(t)}}var pr=Array.isArray;function hr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){var r=void 0;(n=n._owner)&&(2!==n.tag&&d("110"),r=n.stateNode),r||d("147",e);var o=""+e;return null!==t&&null!==t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs===f?r.refs={}:r.refs;null===e?delete t[o]:t[o]=e})._stringRef=o,t)}"string"!=typeof e&&d("148"),n._owner||d("254",e)}return e}function yr(e,t){"textarea"!==e.type&&d("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function gr(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return(e=Kn(e,t,n)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Qn(n,e.mode,r)).return=e,t):((t=o(t,n,r)).return=e,t)}function u(e,t,n,r){return null!==t&&t.type===n.type?((r=o(t,n.props,r)).ref=hr(e,t,n),r.return=e,r):((r=Zn(n,e.mode,r)).ref=hr(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$n(n,e.mode,r)).return=e,t):((t=o(t,n.children||[],r)).return=e,t)}function l(e,t,n,r,i){return null===t||10!==t.tag?((t=Xn(n,e.mode,r,i)).return=e,t):((t=o(t,n,r)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Qn(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Qe:return(n=Zn(t,e.mode,n)).ref=hr(e,null,t),n.return=e,n;case et:return(t=$n(t,e.mode,n)).return=e,t}if(pr(t)||ut(t))return(t=Xn(t,e.mode,n,null)).return=e,t;yr(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Qe:return n.key===o?n.type===tt?l(e,t,n.props.children,r,o):u(e,t,n,r):null;case et:return n.key===o?c(e,t,n,r):null}if(pr(n)||ut(n))return null!==o?null:l(e,t,n,r,null);yr(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Qe:return e=e.get(null===r.key?n:r.key)||null,r.type===tt?l(t,e,r.props.children,o,r.key):u(t,e,r,o);case et:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(pr(r)||ut(r))return l(t,e=e.get(n)||null,r,o,null);yr(t,r)}return null}function y(o,a,s,u){for(var c=null,l=null,d=a,y=a=0,g=null;null!==d&&y<s.length;y++){d.index>y?(g=d,d=null):g=d.sibling;var m=p(o,d,s[y],u);if(null===m){null===d&&(d=g);break}e&&d&&null===m.alternate&&t(o,d),a=i(m,a,y),null===l?c=m:l.sibling=m,l=m,d=g}if(y===s.length)return n(o,d),c;if(null===d){for(;y<s.length;y++)(d=f(o,s[y],u))&&(a=i(d,a,y),null===l?c=d:l.sibling=d,l=d);return c}for(d=r(o,d);y<s.length;y++)(g=h(d,o,y,s[y],u))&&(e&&null!==g.alternate&&d.delete(null===g.key?y:g.key),a=i(g,a,y),null===l?c=g:l.sibling=g,l=g);return e&&d.forEach(function(e){return t(o,e)}),c}function g(o,a,s,u){var c=ut(s);"function"!=typeof c&&d("150"),null==(s=c.call(s))&&d("151");for(var l=c=null,y=a,g=a=0,m=null,v=s.next();null!==y&&!v.done;g++,v=s.next()){y.index>g?(m=y,y=null):m=y.sibling;var b=p(o,y,v.value,u);if(null===b){y||(y=m);break}e&&y&&null===b.alternate&&t(o,y),a=i(b,a,g),null===l?c=b:l.sibling=b,l=b,y=m}if(v.done)return n(o,y),c;if(null===y){for(;!v.done;g++,v=s.next())null!==(v=f(o,v.value,u))&&(a=i(v,a,g),null===l?c=v:l.sibling=v,l=v);return c}for(y=r(o,y);!v.done;g++,v=s.next())null!==(v=h(y,o,g,v.value,u))&&(e&&null!==v.alternate&&y.delete(null===v.key?g:v.key),a=i(v,a,g),null===l?c=v:l.sibling=v,l=v);return e&&y.forEach(function(e){return t(o,e)}),c}return function(e,r,i,s){"object"==typeof i&&null!==i&&i.type===tt&&null===i.key&&(i=i.props.children);var u="object"==typeof i&&null!==i;if(u)switch(i.$$typeof){case Qe:e:{var c=i.key;for(u=r;null!==u;){if(u.key===c){if(10===u.tag?i.type===tt:u.type===i.type){n(e,u.sibling),(r=o(u,i.type===tt?i.props.children:i.props,s)).ref=hr(e,u,i),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}i.type===tt?((r=Xn(i.props.children,e.mode,s,i.key)).return=e,e=r):((s=Zn(i,e.mode,s)).ref=hr(e,r,i),s.return=e,e=s)}return a(e);case et:e:{for(u=i.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[],s)).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$n(i,e.mode,s)).return=e,e=r}return a(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i,s)).return=e,e=r):(n(e,r),(r=Qn(i,e.mode,s)).return=e,e=r),a(e);if(pr(i))return y(e,r,i,s);if(ut(i))return g(e,r,i,s);if(u&&yr(e,i),void 0===i)switch(e.tag){case 2:case 1:d("152",(s=e.type).displayName||s.name||"Component")}return n(e,r)}}var mr=gr(!0),vr=gr(!1);function br(e,t,n,r,o,i,s){function u(e,t,n){l(e,t,n,t.expirationTime)}function l(e,t,n,r){t.child=null===e?vr(t,null,n,r):mr(t,e.child,n,r)}function p(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function h(e,t,n,r,o,i){if(p(e,t),!n&&!o)return r&&S(t,!1),m(e,t);n=t.stateNode,Ze.current=t;var a=o?null:n.render();return t.effectTag|=1,o&&(l(e,t,null,i),t.child=null),l(e,t,a,i),t.memoizedState=n.state,t.memoizedProps=n.props,r&&S(t,!0),t.child}function y(e){var t=e.stateNode;t.pendingContext?O(e,t.pendingContext,t.pendingContext!==t.context):t.context&&O(e,t.context,!1),A(e,t.containerInfo)}function g(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){switch(o.tag){case 12:var i=0|o.stateNode;if(o.type===t&&0!=(i&n)){for(i=o;null!==i;){var a=i.alternate;if(0===i.expirationTime||i.expirationTime>r)i.expirationTime=r,null!==a&&(0===a.expirationTime||a.expirationTime>r)&&(a.expirationTime=r);else{if(null===a||!(0===a.expirationTime||a.expirationTime>r))break;a.expirationTime=r}i=i.return}i=null}else i=o.child;break;case 13:i=o.type===e.type?null:o.child;break;default:i=o.child}if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===e){i=null;break}if(null!==(o=i.sibling)){i=o;break}i=i.return}o=i}}function m(e,t){if(null!==e&&t.child!==e.child&&d("153"),null!==t.child){var n=Kn(e=t.child,e.pendingProps,e.expirationTime);for(t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Kn(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}var v=e.shouldSetTextContent,b=e.shouldDeprioritizeSubtree,_=t.pushHostContext,A=t.pushHostContainer,C=r.pushProvider,w=n.getMaskedContext,E=n.getUnmaskedContext,k=n.hasContextChanged,x=n.pushContextProvider,O=n.pushTopLevelContextObject,S=n.invalidateContextProvider,T=o.enterHydrationState,M=o.resetHydrationState,P=o.tryToClaimNextHydratableInstance,B=(e=function(e,t,n,r,o){function i(e,t,n,r,o,i){if(null===t||null!==e.updateQueue&&e.updateQueue.hasForceUpdate)return!0;var a=e.stateNode;return e=e.type,"function"==typeof a.shouldComponentUpdate?a.shouldComponentUpdate(n,o,i):!(e.prototype&&e.prototype.isPureReactComponent&&c(t,n)&&c(r,o))}function s(e,t){t.updater=m,e.stateNode=t,t._reactInternalFiber=e}function u(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&m.enqueueReplaceState(t,t.state,null)}function l(e,t,n,r){if("function"==typeof(e=e.type).getDerivedStateFromProps)return e.getDerivedStateFromProps.call(null,n,r)}var d=e.cacheContext,p=e.getMaskedContext,h=e.getUnmaskedContext,y=e.isContextConsumer,g=e.hasContextChanged,m={isMounted:Zt,enqueueSetState:function(e,r,o){e=e._reactInternalFiber,o=void 0===o?null:o;var i=n(e);cr(e,{expirationTime:i,partialState:r,callback:o,isReplace:!1,isForced:!1,capturedValue:null,next:null}),t(e,i)},enqueueReplaceState:function(e,r,o){e=e._reactInternalFiber,o=void 0===o?null:o;var i=n(e);cr(e,{expirationTime:i,partialState:r,callback:o,isReplace:!0,isForced:!1,capturedValue:null,next:null}),t(e,i)},enqueueForceUpdate:function(e,r){e=e._reactInternalFiber,r=void 0===r?null:r;var o=n(e);cr(e,{expirationTime:o,partialState:null,callback:r,isReplace:!1,isForced:!0,capturedValue:null,next:null}),t(e,o)}};return{adoptClassInstance:s,callGetDerivedStateFromProps:l,constructClassInstance:function(e,t){var n=e.type,r=h(e),o=y(e),i=o?p(e,r):f,u=null!==(n=new n(t,i)).state&&void 0!==n.state?n.state:null;return s(e,n),e.memoizedState=u,null!==(t=l(e,0,t,u))&&void 0!==t&&(e.memoizedState=a({},e.memoizedState,t)),o&&d(e,r,i),n},mountClassInstance:function(e,t){var n=e.type,r=e.alternate,o=e.stateNode,i=e.pendingProps,a=h(e);o.props=i,o.state=e.memoizedState,o.refs=f,o.context=p(e,a),"function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(n=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),n!==o.state&&m.enqueueReplaceState(o,o.state,null),null!==(n=e.updateQueue)&&(o.state=fr(r,e,n,o,i,t))),"function"==typeof o.componentDidMount&&(e.effectTag|=4)},resumeMountClassInstance:function(e,t){var n=e.type,s=e.stateNode;s.props=e.memoizedProps,s.state=e.memoizedState;var c=e.memoizedProps,f=e.pendingProps,d=s.context,y=h(e);y=p(e,y),(n="function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(c!==f||d!==y)&&u(e,s,f,y),d=e.memoizedState,t=null!==e.updateQueue?fr(null,e,e.updateQueue,s,f,t):d;var m=void 0;if(c!==f&&(m=l(e,0,f,t)),null!==m&&void 0!==m){t=null===t||void 0===t?m:a({},t,m);var v=e.updateQueue;null!==v&&(v.baseState=a({},v.baseState,m))}return c!==f||d!==t||g()||null!==e.updateQueue&&e.updateQueue.hasForceUpdate?((c=i(e,c,f,d,t,y))?(n||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(e.effectTag|=4)):("function"==typeof s.componentDidMount&&(e.effectTag|=4),r(e,f),o(e,t)),s.props=f,s.state=t,s.context=y,c):("function"==typeof s.componentDidMount&&(e.effectTag|=4),!1)},updateClassInstance:function(e,t,n){var s=t.type,c=t.stateNode;c.props=t.memoizedProps,c.state=t.memoizedState;var f=t.memoizedProps,d=t.pendingProps,y=c.context,m=h(t);m=p(t,m),(s="function"==typeof s.getDerivedStateFromProps||"function"==typeof c.getSnapshotBeforeUpdate)||"function"!=typeof c.UNSAFE_componentWillReceiveProps&&"function"!=typeof c.componentWillReceiveProps||(f!==d||y!==m)&&u(t,c,d,m),y=t.memoizedState,n=null!==t.updateQueue?fr(e,t,t.updateQueue,c,d,n):y;var v=void 0;if(f!==d&&(v=l(t,0,d,n)),null!==v&&void 0!==v){n=null===n||void 0===n?v:a({},n,v);var b=t.updateQueue;null!==b&&(b.baseState=a({},b.baseState,v))}return f!==d||y!==n||g()||null!==t.updateQueue&&t.updateQueue.hasForceUpdate?((v=i(t,f,d,y,n,m))?(s||"function"!=typeof c.UNSAFE_componentWillUpdate&&"function"!=typeof c.componentWillUpdate||("function"==typeof c.componentWillUpdate&&c.componentWillUpdate(d,n,m),"function"==typeof c.UNSAFE_componentWillUpdate&&c.UNSAFE_componentWillUpdate(d,n,m)),"function"==typeof c.componentDidUpdate&&(t.effectTag|=4),"function"==typeof c.getSnapshotBeforeUpdate&&(t.effectTag|=2048)):("function"!=typeof c.componentDidUpdate||f===e.memoizedProps&&y===e.memoizedState||(t.effectTag|=4),"function"!=typeof c.getSnapshotBeforeUpdate||f===e.memoizedProps&&y===e.memoizedState||(t.effectTag|=2048),r(t,d),o(t,n)),c.props=d,c.state=n,c.context=m,v):("function"!=typeof c.componentDidUpdate||f===e.memoizedProps&&y===e.memoizedState||(t.effectTag|=4),"function"!=typeof c.getSnapshotBeforeUpdate||f===e.memoizedProps&&y===e.memoizedState||(t.effectTag|=2048),!1)}}}(n,i,s,function(e,t){e.memoizedProps=t},function(e,t){e.memoizedState=t})).adoptClassInstance,D=e.callGetDerivedStateFromProps,I=e.constructClassInstance,j=e.mountClassInstance,R=e.resumeMountClassInstance,N=e.updateClassInstance;return{beginWork:function(e,t,n){if(0===t.expirationTime||t.expirationTime>n){switch(t.tag){case 3:y(t);break;case 2:x(t);break;case 4:A(t,t.stateNode.containerInfo);break;case 13:C(t)}return null}switch(t.tag){case 0:null!==e&&d("155");var r=t.type,o=t.pendingProps,i=E(t);return r=r(o,i=w(t,i)),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(i=t.type,t.tag=2,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,"function"==typeof i.getDerivedStateFromProps&&(null!==(o=D(t,r,o,t.memoizedState))&&void 0!==o&&(t.memoizedState=a({},t.memoizedState,o))),o=x(t),B(t,r),j(t,n),e=h(e,t,!0,o,!1,n)):(t.tag=1,u(e,t,r),t.memoizedProps=o,e=t.child),e;case 1:return o=t.type,n=t.pendingProps,k()||t.memoizedProps!==n?(r=E(t),o=o(n,r=w(t,r)),t.effectTag|=1,u(e,t,o),t.memoizedProps=n,e=t.child):e=m(e,t),e;case 2:o=x(t),null===e?null===t.stateNode?(I(t,t.pendingProps),j(t,n),r=!0):r=R(t,n):r=N(e,t,n),i=!1;var s=t.updateQueue;return null!==s&&null!==s.capturedValues&&(i=r=!0),h(e,t,r,o,i,n);case 3:e:if(y(t),r=t.updateQueue,null!==r){if(i=t.memoizedState,o=fr(e,t,r,null,null,n),t.memoizedState=o,null!==(r=t.updateQueue)&&null!==r.capturedValues)r=null;else{if(i===o){M(),e=m(e,t);break e}r=o.element}i=t.stateNode,(null===e||null===e.child)&&i.hydrate&&T(t)?(t.effectTag|=2,t.child=vr(t,null,r,n)):(M(),u(e,t,r)),t.memoizedState=o,e=t.child}else M(),e=m(e,t);return e;case 5:return _(t),null===e&&P(t),o=t.type,s=t.memoizedProps,r=t.pendingProps,i=null!==e?e.memoizedProps:null,k()||s!==r||((s=1&t.mode&&b(o,r))&&(t.expirationTime=1073741823),s&&1073741823===n)?(s=r.children,v(o,r)?s=null:i&&v(o,i)&&(t.effectTag|=16),p(e,t),1073741823!==n&&1&t.mode&&b(o,r)?(t.expirationTime=1073741823,t.memoizedProps=r,e=null):(u(e,t,s),t.memoizedProps=r,e=t.child)):e=m(e,t),e;case 6:return null===e&&P(t),t.memoizedProps=t.pendingProps,null;case 8:t.tag=7;case 7:return o=t.pendingProps,k()||t.memoizedProps!==o||(o=t.memoizedProps),r=o.children,t.stateNode=null===e?vr(t,t.stateNode,r,n):mr(t,e.stateNode,r,n),t.memoizedProps=o,t.stateNode;case 9:return null;case 4:return A(t,t.stateNode.containerInfo),o=t.pendingProps,k()||t.memoizedProps!==o?(null===e?t.child=mr(t,null,o,n):u(e,t,o),t.memoizedProps=o,e=t.child):e=m(e,t),e;case 14:return u(e,t,n=(n=t.type.render)(t.pendingProps,t.ref)),t.memoizedProps=n,t.child;case 10:return n=t.pendingProps,k()||t.memoizedProps!==n?(u(e,t,n),t.memoizedProps=n,e=t.child):e=m(e,t),e;case 11:return n=t.pendingProps.children,k()||null!==n&&t.memoizedProps!==n?(u(e,t,n),t.memoizedProps=n,e=t.child):e=m(e,t),e;case 13:return function(e,t,n){var r=t.type._context,o=t.pendingProps,i=t.memoizedProps;if(!k()&&i===o)return t.stateNode=0,C(t),m(e,t);var a=o.value;if(t.memoizedProps=o,null===i)a=1073741823;else if(i.value===o.value){if(i.children===o.children)return t.stateNode=0,C(t),m(e,t);a=0}else{var s=i.value;if(s===a&&(0!==s||1/s==1/a)||s!=s&&a!=a){if(i.children===o.children)return t.stateNode=0,C(t),m(e,t);a=0}else if(a="function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823,0==(a|=0)){if(i.children===o.children)return t.stateNode=0,C(t),m(e,t)}else g(t,r,a,n)}return t.stateNode=a,C(t),u(e,t,o.children),t.child}(e,t,n);case 12:e:{r=t.type,i=t.pendingProps,s=t.memoizedProps,o=r._currentValue;var c=r._changedBits;if(k()||0!==c||s!==i){t.memoizedProps=i;var l=i.unstable_observedBits;if(void 0!==l&&null!==l||(l=1073741823),t.stateNode=l,0!=(c&l))g(t,r,c,n);else if(s===i){e=m(e,t);break e}u(e,t,n=(n=i.children)(o)),e=t.child}else e=m(e,t)}return e;default:d("156")}}}}function _r(e,t){var n=t.source;null===t.stack&&lt(n),null!==n&&ct(n),t=t.value,null!==e&&2===e.tag&&ct(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}var Ar={};function Cr(e){function t(){if(null!==ee)for(var e=ee.return;null!==e;)I(e),e=e.return;te=null,ne=0,ee=null,ie=!1}function n(e){return null!==ae&&ae.has(e)}function r(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(512&e.effectTag)){t=P(t,e,ne);var o=e;if(1073741823===ne||1073741823!==o.expirationTime){e:switch(o.tag){case 3:case 2:var i=o.updateQueue;i=null===i?0:i.expirationTime;break e;default:i=0}for(var a=o.child;null!==a;)0!==a.expirationTime&&(0===i||i>a.expirationTime)&&(i=a.expirationTime),a=a.sibling;o.expirationTime=i}if(null!==t)return t;if(null!==n&&0==(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){ie=!0;break}e=n}else{if(null!==(e=D(e)))return e.effectTag&=2559,e;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512),null!==r)return r;if(null===n)break;e=n}}return null}function o(e){var t=M(e.alternate,e,ne);return null===t&&(t=r(e)),Ze.current=null,t}function i(e,n,i){J&&d("243"),J=!0,n===ne&&e===te&&null!==ee||(t(),ne=n,ee=Kn((te=e).current,null,ne),e.pendingCommitExpirationTime=0);for(var a=!1;;){try{if(i)for(;null!==ee&&!E();)ee=o(ee);else for(;null!==ee;)ee=o(ee)}catch(e){if(null===ee){a=!0,k(e);break}var s=(i=ee).return;if(null===s){a=!0,k(e);break}B(s,i,e),ee=r(i)}break}return J=!1,a||null!==ee?null:ie?(e.pendingCommitExpirationTime=n,e.current.alternate):void d("262")}function s(e,t,n,r){cr(t,{expirationTime:r,partialState:null,callback:null,isReplace:!1,isForced:!1,capturedValue:e={value:n,source:e,stack:lt(e)},next:null}),l(t,r)}function u(e,t){e:{J&&!oe&&d("263");for(var r=e.return;null!==r;){switch(r.tag){case 2:var o=r.stateNode;if("function"==typeof r.type.getDerivedStateFromCatch||"function"==typeof o.componentDidCatch&&!n(o)){s(e,r,t,1),e=void 0;break e}break;case 3:s(e,r,t,1),e=void 0;break e}r=r.return}3===e.tag&&s(e,e,t,1),e=void 0}return e}function c(e){return e=0!==$?$:J?oe?1:ne:1&e.mode?Ae?10*(1+((p()+15)/10|0)):25*(1+((p()+500)/25|0)):1,Ae&&(0===he||e>he)&&(he=e),e}function l(e,n){e:{for(;null!==e;){if((0===e.expirationTime||e.expirationTime>n)&&(e.expirationTime=n),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>n)&&(e.alternate.expirationTime=n),null===e.return){if(3!==e.tag){n=void 0;break e}var r=e.stateNode;!J&&0!==ne&&n<ne&&t(),J&&!oe&&te===r||g(r,n),Ee>we&&d("185")}e=e.return}n=void 0}return n}function p(){return X=H()-Z,2+(X/10|0)}function h(e,t,n,r,o){var i=$;$=1;try{return e(t,n,r,o)}finally{$=i}}function y(e){if(0!==ce){if(e>ce)return;V(le)}var t=H()-Z;ce=e,le=Y(v,{timeout:10*(e-2)-t})}function g(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===ue?(se=ue=e,e.nextScheduledRoot=e):(ue=ue.nextScheduledRoot=e).nextScheduledRoot=se;else{var n=e.remainingExpirationTime;(0===n||t<n)&&(e.remainingExpirationTime=t)}fe||(be?_e&&(de=e,pe=1,C(e,1,!1)):1===t?b():y(t))}function m(){var e=0,t=null;if(null!==ue)for(var n=ue,r=se;null!==r;){var o=r.remainingExpirationTime;if(0===o){if((null===n||null===ue)&&d("244"),r===r.nextScheduledRoot){se=ue=r.nextScheduledRoot=null;break}if(r===se)se=o=r.nextScheduledRoot,ue.nextScheduledRoot=o,r.nextScheduledRoot=null;else{if(r===ue){(ue=n).nextScheduledRoot=se,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===e||o<e)&&(e=o,t=r),r===ue)break;n=r,r=r.nextScheduledRoot}}null!==(n=de)&&n===t&&1===e?Ee++:Ee=0,de=t,pe=e}function v(e){_(0,!0,e)}function b(){_(1,!1,null)}function _(e,t,n){if(ve=n,m(),t)for(;null!==de&&0!==pe&&(0===e||e>=pe)&&(!ye||p()>=pe);)C(de,pe,!ye),m();else for(;null!==de&&0!==pe&&(0===e||e>=pe);)C(de,pe,!1),m();null!==ve&&(ce=0,le=-1),0!==pe&&y(pe),ve=null,ye=!1,A()}function A(){if(Ee=0,null!==Ce){var e=Ce;Ce=null;for(var t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){ge||(ge=!0,me=e)}}}if(ge)throw e=me,me=null,ge=!1,e}function C(e,t,n){fe&&d("245"),fe=!0,n?null!==(n=e.finishedWork)?w(e,n,t):(e.finishedWork=null,null!==(n=i(e,t,!0))&&(E()?e.finishedWork=n:w(e,n,t))):null!==(n=e.finishedWork)?w(e,n,t):(e.finishedWork=null,null!==(n=i(e,t,!1))&&w(e,n,t)),fe=!1}function w(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===Ce?Ce=[r]:Ce.push(r),r._defer))return e.finishedWork=t,void(e.remainingExpirationTime=0);e.finishedWork=null,oe=J=!0,(n=t.stateNode).current===t&&d("177"),0===(r=n.pendingCommitExpirationTime)&&d("261"),n.pendingCommitExpirationTime=0;var o=p();if(Ze.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var i=t.firstEffect}else i=t;else i=t.firstEffect;for(G(n.containerInfo),re=i;null!==re;){var a=!1,s=void 0;try{for(;null!==re;)2048&re.effectTag&&j(re.alternate,re),re=re.nextEffect}catch(e){a=!0,s=e}a&&(null===re&&d("178"),u(re,s),null!==re&&(re=re.nextEffect))}for(re=i;null!==re;){a=!1,s=void 0;try{for(;null!==re;){var c=re.effectTag;if(16&c&&R(re),128&c){var l=re.alternate;null!==l&&W(l)}switch(14&c){case 2:N(re),re.effectTag&=-3;break;case 6:N(re),re.effectTag&=-3,L(re.alternate,re);break;case 4:L(re.alternate,re);break;case 8:F(re)}re=re.nextEffect}}catch(e){a=!0,s=e}a&&(null===re&&d("178"),u(re,s),null!==re&&(re=re.nextEffect))}for(K(n.containerInfo),n.current=t,re=i;null!==re;){c=!1,l=void 0;try{for(i=n,a=o,s=r;null!==re;){var f=re.effectTag;36&f&&U(i,re.alternate,re,a,s),256&f&&z(re,k),128&f&&q(re);var h=re.nextEffect;re.nextEffect=null,re=h}}catch(e){c=!0,l=e}c&&(null===re&&d("178"),u(re,l),null!==re&&(re=re.nextEffect))}J=oe=!1,nr(t.stateNode),0===(t=n.current.expirationTime)&&(ae=null),e.remainingExpirationTime=t}function E(){return!(null===ve||ve.timeRemaining()>ke)&&(ye=!0)}function k(e){null===de&&d("246"),de.remainingExpirationTime=0,ge||(ge=!0,me=e)}var x=function(){var e=[],t=-1;return{createCursor:function(e){return{current:e}},isEmpty:function(){return-1===t},pop:function(n){0>t||(n.current=e[t],e[t]=null,t--)},push:function(n,r){e[++t]=n.current,n.current=r},checkThatStackIsEmpty:function(){},resetStackAfterFatalErrorInDev:function(){}}}(),O=function(e,t){function n(e){return e===Ar&&d("174"),e}var r=e.getChildHostContext,o=e.getRootHostContext;e=t.createCursor;var i=t.push,a=t.pop,s=e(Ar),u=e(Ar),c=e(Ar);return{getHostContext:function(){return n(s.current)},getRootHostContainer:function(){return n(c.current)},popHostContainer:function(e){a(s,e),a(u,e),a(c,e)},popHostContext:function(e){u.current===e&&(a(s,e),a(u,e))},pushHostContainer:function(e,t){i(c,t,e),i(u,e,e),i(s,Ar,e),t=o(t),a(s,e),i(s,t,e)},pushHostContext:function(e){var t=n(c.current),o=n(s.current);o!==(t=r(o,e.type,t))&&(i(u,e,e),i(s,t,e))}}}(e,x),S=function(e){function t(e,t,n){(e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n}function n(e){return 2===e.tag&&null!=e.type.childContextTypes}function r(e,t){var n=e.stateNode,r=e.type.childContextTypes;if("function"!=typeof n.getChildContext)return t;for(var o in n=n.getChildContext())o in r||d("108",ct(e)||"Unknown",o);return a({},t,n)}var o=e.createCursor,i=e.push,s=e.pop,u=o(f),c=o(!1),l=f;return{getUnmaskedContext:function(e){return n(e)?l:u.current},cacheContext:t,getMaskedContext:function(e,n){var r=e.type.contextTypes;if(!r)return f;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===n)return o.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in r)a[i]=n[i];return o&&t(e,n,a),a},hasContextChanged:function(){return c.current},isContextConsumer:function(e){return 2===e.tag&&null!=e.type.contextTypes},isContextProvider:n,popContextProvider:function(e){n(e)&&(s(c,e),s(u,e))},popTopLevelContextObject:function(e){s(c,e),s(u,e)},pushTopLevelContextObject:function(e,t,n){null!=u.cursor&&d("168"),i(u,t,e),i(c,n,e)},processChildContext:r,pushContextProvider:function(e){if(!n(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||f,l=u.current,i(u,t,e),i(c,c.current,e),!0},invalidateContextProvider:function(e,t){var n=e.stateNode;if(n||d("169"),t){var o=r(e,l);n.__reactInternalMemoizedMergedChildContext=o,s(c,e),s(u,e),i(u,o,e)}else s(c,e);i(c,t,e)},findCurrentUnmaskedContext:function(e){for((2!==Kt(e)||2!==e.tag)&&d("170");3!==e.tag;){if(n(e))return e.stateNode.__reactInternalMemoizedMergedChildContext;(e=e.return)||d("171")}return e.stateNode.context}}}(x);x=function(e){var t=e.createCursor,n=e.push,r=e.pop,o=t(null),i=t(null),a=t(0);return{pushProvider:function(e){var t=e.type._context;n(a,t._changedBits,e),n(i,t._currentValue,e),n(o,e,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode},popProvider:function(e){var t=a.current,n=i.current;r(o,e),r(i,e),r(a,e),(e=e.type._context)._currentValue=n,e._changedBits=t}}}(x);var T=function(e){function t(e,t){var n=new Gn(5,null,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function n(e,t){switch(e.tag){case 5:return null!==(t=i(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=a(t,e.pendingProps))&&(e.stateNode=t,!0);default:return!1}}function r(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;f=e}var o=e.shouldSetTextContent;if(!(e=e.hydration))return{enterHydrationState:function(){return!1},resetHydrationState:function(){},tryToClaimNextHydratableInstance:function(){},prepareToHydrateHostInstance:function(){d("175")},prepareToHydrateHostTextInstance:function(){d("176")},popHydrationState:function(){return!1}};var i=e.canHydrateInstance,a=e.canHydrateTextInstance,s=e.getNextHydratableSibling,u=e.getFirstHydratableChild,c=e.hydrateInstance,l=e.hydrateTextInstance,f=null,p=null,h=!1;return{enterHydrationState:function(e){return p=u(e.stateNode.containerInfo),f=e,h=!0},resetHydrationState:function(){p=f=null,h=!1},tryToClaimNextHydratableInstance:function(e){if(h){var r=p;if(r){if(!n(e,r)){if(!(r=s(r))||!n(e,r))return e.effectTag|=2,h=!1,void(f=e);t(f,p)}f=e,p=u(r)}else e.effectTag|=2,h=!1,f=e}},prepareToHydrateHostInstance:function(e,t,n){return t=c(e.stateNode,e.type,e.memoizedProps,t,n,e),e.updateQueue=t,null!==t},prepareToHydrateHostTextInstance:function(e){return l(e.stateNode,e.memoizedProps,e)},popHydrationState:function(e){if(e!==f)return!1;if(!h)return r(e),h=!0,!1;var n=e.type;if(5!==e.tag||"head"!==n&&"body"!==n&&!o(n,e.memoizedProps))for(n=p;n;)t(e,n),n=s(n);return r(e),p=f?s(e.stateNode):null,!0}}}(e),M=br(e,O,S,x,T,l,c).beginWork,P=function(e,t,n,r,o){function i(e){e.effectTag|=4}var a=e.createInstance,s=e.createTextInstance,u=e.appendInitialChild,c=e.finalizeInitialChildren,l=e.prepareUpdate,f=e.persistence,p=t.getRootHostContainer,h=t.popHostContext,y=t.getHostContext,g=t.popHostContainer,m=n.popContextProvider,v=n.popTopLevelContextObject,b=r.popProvider,_=o.prepareToHydrateHostInstance,A=o.prepareToHydrateHostTextInstance,C=o.popHydrationState,w=void 0,E=void 0,k=void 0;return e.mutation?(w=function(){},E=function(e,t,n){(t.updateQueue=n)&&i(t)},k=function(e,t,n,r){n!==r&&i(t)}):d(f?"235":"236"),{completeWork:function(e,t,n){var r=t.pendingProps;switch(t.tag){case 1:return null;case 2:return m(t),e=t.stateNode,null!==(r=t.updateQueue)&&null!==r.capturedValues&&(t.effectTag&=-65,"function"==typeof e.componentDidCatch?t.effectTag|=256:r.capturedValues=null),null;case 3:return g(t),v(t),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(C(t),t.effectTag&=-3),w(t),null!==(e=t.updateQueue)&&null!==e.capturedValues&&(t.effectTag|=256),null;case 5:h(t),n=p();var o=t.type;if(null!==e&&null!=t.stateNode){var f=e.memoizedProps,x=t.stateNode,O=y();x=l(x,o,f,r,n,O),E(e,t,x,o,f,r,n,O),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!r)return null===t.stateNode&&d("166"),null;if(e=y(),C(t))_(t,n,e)&&i(t);else{f=a(o,r,n,e,t);e:for(O=t.child;null!==O;){if(5===O.tag||6===O.tag)u(f,O.stateNode);else if(4!==O.tag&&null!==O.child){O.child.return=O,O=O.child;continue}if(O===t)break;for(;null===O.sibling;){if(null===O.return||O.return===t)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}c(f,o,r,n,e)&&i(t),t.stateNode=f}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)k(e,t,e.memoizedProps,r);else{if("string"!=typeof r)return null===t.stateNode&&d("166"),null;e=p(),n=y(),C(t)?A(t)&&i(t):t.stateNode=s(r,e,n,t)}return null;case 7:(r=t.memoizedProps)||d("165"),t.tag=8,o=[];e:for((f=t.stateNode)&&(f.return=t);null!==f;){if(5===f.tag||6===f.tag||4===f.tag)d("247");else if(9===f.tag)o.push(f.pendingProps.value);else if(null!==f.child){f.child.return=f,f=f.child;continue}for(;null===f.sibling;){if(null===f.return||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}return r=(f=r.handler)(r.props,o),t.child=mr(t,null!==e?e.child:null,r,n),t.child;case 8:return t.tag=7,null;case 9:case 14:case 10:case 11:return null;case 4:return g(t),w(t),null;case 13:return b(t),null;case 12:return null;case 0:d("167");default:d("156")}}}}(e,O,S,x,T).completeWork,B=(O=function(e,t,n,r,o){var i=e.popHostContainer,a=e.popHostContext,s=t.popContextProvider,u=t.popTopLevelContextObject,c=n.popProvider;return{throwException:function(e,t,n){t.effectTag|=512,t.firstEffect=t.lastEffect=null,t={value:n,source:t,stack:lt(t)};do{switch(e.tag){case 3:return ur(e),e.updateQueue.capturedValues=[t],void(e.effectTag|=1024);case 2:if(n=e.stateNode,0==(64&e.effectTag)&&null!==n&&"function"==typeof n.componentDidCatch&&!o(n)){ur(e);var r=(n=e.updateQueue).capturedValues;return null===r?n.capturedValues=[t]:r.push(t),void(e.effectTag|=1024)}}e=e.return}while(null!==e)},unwindWork:function(e){switch(e.tag){case 2:s(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return i(e),u(e),1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 5:return a(e),null;case 4:return i(e),null;case 13:return c(e),null;default:return null}},unwindInterruptedWork:function(e){switch(e.tag){case 2:s(e);break;case 3:i(e),u(e);break;case 5:a(e);break;case 4:i(e);break;case 13:c(e)}}}}(O,S,x,0,n)).throwException,D=O.unwindWork,I=O.unwindInterruptedWork,j=(O=function(e,t,n,r,o){function i(e){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){t(e,n)}else n.current=null}function a(e){switch(rr(e),e.tag){case 2:i(e);var n=e.stateNode;if("function"==typeof n.componentWillUnmount)try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(n){t(e,n)}break;case 5:i(e);break;case 7:s(e.stateNode);break;case 4:f&&c(e)}}function s(e){for(var t=e;;)if(a(t),null===t.child||f&&4===t.tag){if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}else t.child.return=t,t=t.child}function u(e){return 5===e.tag||3===e.tag||4===e.tag}function c(e){for(var t=e,n=!1,r=void 0,o=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&d("160"),n.tag){case 5:r=n.stateNode,o=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,o=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag)s(t),o?C(r,t.stateNode):A(r,t.stateNode);else if(4===t.tag?r=t.stateNode.containerInfo:a(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}var l=e.getPublicInstance,f=e.mutation;e=e.persistence,f||d(e?"235":"236");var p=f.commitMount,h=f.commitUpdate,y=f.resetTextContent,g=f.commitTextUpdate,m=f.appendChild,v=f.appendChildToContainer,b=f.insertBefore,_=f.insertInContainerBefore,A=f.removeChild,C=f.removeChildFromContainer;return{commitBeforeMutationLifeCycles:function(e,t){switch(t.tag){case 2:if(2048&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;(e=t.stateNode).props=t.memoizedProps,e.state=t.memoizedState,t=e.getSnapshotBeforeUpdate(n,r),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:break;default:d("163")}},commitResetTextContent:function(e){y(e.stateNode)},commitPlacement:function(e){e:{for(var t=e.return;null!==t;){if(u(t)){var n=t;break e}t=t.return}d("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:d("161")}16&n.effectTag&&(y(t),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||u(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){if(5===o.tag||6===o.tag)n?r?_(t,o.stateNode,n):b(t,o.stateNode,n):r?v(t,o.stateNode):m(t,o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},commitDeletion:function(e){c(e),e.return=null,e.child=null,e.alternate&&(e.alternate.child=null,e.alternate.return=null)},commitWork:function(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var o=t.type,i=t.updateQueue;t.updateQueue=null,null!==i&&h(n,i,o,e,r,t)}break;case 6:null===t.stateNode&&d("162"),n=t.memoizedProps,g(t.stateNode,null!==e?e.memoizedProps:n,n);break;case 3:break;default:d("163")}},commitLifeCycles:function(e,t,n){switch(n.tag){case 2:if(e=n.stateNode,4&n.effectTag)if(null===t)e.props=n.memoizedProps,e.state=n.memoizedState,e.componentDidMount();else{var r=t.memoizedProps;t=t.memoizedState,e.props=n.memoizedProps,e.state=n.memoizedState,e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}null!==(n=n.updateQueue)&&dr(n,e);break;case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=l(n.child.stateNode);break;case 2:e=n.child.stateNode}dr(t,e)}break;case 5:e=n.stateNode,null===t&&4&n.effectTag&&p(e,n.type,n.memoizedProps,n);break;case 6:case 4:break;default:d("163")}},commitErrorLogging:function(e,t){switch(e.tag){case 2:var n=e.type;t=e.stateNode;var r=e.updateQueue;(null===r||null===r.capturedValues)&&d("264");var i=r.capturedValues;for(r.capturedValues=null,"function"!=typeof n.getDerivedStateFromCatch&&o(t),t.props=e.memoizedProps,t.state=e.memoizedState,n=0;n<i.length;n++){var a=(r=i[n]).value,s=r.stack;_r(e,r),t.componentDidCatch(a,{componentStack:null!==s?s:""})}break;case 3:for((null===(n=e.updateQueue)||null===n.capturedValues)&&d("264"),i=n.capturedValues,n.capturedValues=null,n=0;n<i.length;n++)_r(e,r=i[n]),t(r.value);break;default:d("265")}},commitAttachRef:function(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:e=l(n);break;default:e=n}"function"==typeof t?t(e):t.current=e}},commitDetachRef:function(e){null!==(e=e.ref)&&("function"==typeof e?e(null):e.current=null)}}}(e,u,0,0,function(e){null===ae?ae=new Set([e]):ae.add(e)})).commitBeforeMutationLifeCycles,R=O.commitResetTextContent,N=O.commitPlacement,F=O.commitDeletion,L=O.commitWork,U=O.commitLifeCycles,z=O.commitErrorLogging,q=O.commitAttachRef,W=O.commitDetachRef,H=e.now,Y=e.scheduleDeferredCallback,V=e.cancelDeferredCallback,G=e.prepareForCommit,K=e.resetAfterCommit,Z=H(),X=Z,Q=0,$=0,J=!1,ee=null,te=null,ne=0,re=null,oe=!1,ie=!1,ae=null,se=null,ue=null,ce=0,le=-1,fe=!1,de=null,pe=0,he=0,ye=!1,ge=!1,me=null,ve=null,be=!1,_e=!1,Ae=!1,Ce=null,we=1e3,Ee=0,ke=1;return{recalculateCurrentTime:p,computeExpirationForFiber:c,scheduleWork:l,requestWork:g,flushRoot:function(e,t){fe&&d("253"),de=e,pe=t,C(e,t,!1),b(),A()},batchedUpdates:function(e,t){var n=be;be=!0;try{return e(t)}finally{(be=n)||fe||b()}},unbatchedUpdates:function(e,t){if(be&&!_e){_e=!0;try{return e(t)}finally{_e=!1}}return e(t)},flushSync:function(e,t){fe&&d("187");var n=be;be=!0;try{return h(e,t)}finally{be=n,b()}},flushControlled:function(e){var t=be;be=!0;try{h(e)}finally{(be=t)||fe||_(1,!1,null)}},deferredUpdates:function(e){var t=$;$=25*(1+((p()+500)/25|0));try{return e()}finally{$=t}},syncUpdates:h,interactiveUpdates:function(e,t,n){if(Ae)return e(t,n);be||fe||0===he||(_(he,!1,null),he=0);var r=Ae,o=be;be=Ae=!0;try{return e(t,n)}finally{Ae=r,(be=o)||fe||b()}},flushInteractiveUpdates:function(){fe||0===he||(_(he,!1,null),he=0)},computeUniqueAsyncExpiration:function(){var e=25*(1+((p()+500)/25|0));return e<=Q&&(e=Q+1),Q=e},legacyContext:S}}function wr(e){function t(e,t,n,r,o,a){if(r=t.current,n){n=n._reactInternalFiber;var s=u(n);n=c(n)?l(n,s):s}else n=f;return null===t.context?t.context=n:t.pendingContext=n,cr(r,{expirationTime:o,partialState:{element:e},callback:void 0===(t=a)?null:t,isReplace:!1,isForced:!1,capturedValue:null,next:null}),i(r,o),o}var n=e.getPublicInstance,r=(e=Cr(e)).recalculateCurrentTime,o=e.computeExpirationForFiber,i=e.scheduleWork,s=e.legacyContext,u=s.findCurrentUnmaskedContext,c=s.isContextProvider,l=s.processChildContext;return{createContainer:function(e,t,n){return e={current:t=new Gn(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e},updateContainer:function(e,n,i,a){var s=n.current;return t(e,n,i,r(),s=o(s),a)},updateContainerAtExpirationTime:function(e,n,o,i,a){return t(e,n,o,r(),i,a)},flushRoot:e.flushRoot,requestWork:e.requestWork,computeUniqueAsyncExpiration:e.computeUniqueAsyncExpiration,batchedUpdates:e.batchedUpdates,unbatchedUpdates:e.unbatchedUpdates,deferredUpdates:e.deferredUpdates,syncUpdates:e.syncUpdates,interactiveUpdates:e.interactiveUpdates,flushInteractiveUpdates:e.flushInteractiveUpdates,flushControlled:e.flushControlled,flushSync:e.flushSync,getPublicRootInstance:function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:return n(e.child.stateNode);default:return e.child.stateNode}},findHostInstance:function(e){var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?d("188"):d("268",Object.keys(e))),null===(e=$t(t))?null:e.stateNode},findHostInstanceWithNoPortals:function(e){return null===(e=function(e){if(!(e=Qt(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:e.stateNode},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Jn=tr(function(e){return t.onCommitFiberRoot(n,e)}),er=tr(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}(a({},e,{findHostInstanceByFiber:function(e){return null===(e=$t(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}}}var Er=Object.freeze({default:wr}),kr=Er&&wr||Er,xr=kr.default?kr.default:kr;var Or="object"==typeof performance&&"function"==typeof performance.now,Sr=void 0;Sr=Or?function(){return performance.now()}:function(){return Date.now()};var Tr=void 0,Mr=void 0;if(i.canUseDOM)if("function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback){var Pr=null,Br=!1,Dr=-1,Ir=!1,jr=0,Rr=33,Nr=33,Fr=void 0;Fr=Or?{didTimeout:!1,timeRemaining:function(){var e=jr-performance.now();return 0<e?e:0}}:{didTimeout:!1,timeRemaining:function(){var e=jr-Date.now();return 0<e?e:0}};var Lr="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===Lr){if(Br=!1,e=Sr(),0>=jr-e){if(!(-1!==Dr&&Dr<=e))return void(Ir||(Ir=!0,requestAnimationFrame(Ur)));Fr.didTimeout=!0}else Fr.didTimeout=!1;Dr=-1,e=Pr,Pr=null,null!==e&&e(Fr)}},!1);var Ur=function(e){Ir=!1;var t=e-jr+Nr;t<Nr&&Rr<Nr?(8>t&&(t=8),Nr=t<Rr?Rr:t):Rr=t,jr=e+Nr,Br||(Br=!0,window.postMessage(Lr,"*"))};Tr=function(e,t){return Pr=e,null!=t&&"number"==typeof t.timeout&&(Dr=Sr()+t.timeout),Ir||(Ir=!0,requestAnimationFrame(Ur)),0},Mr=function(){Pr=null,Br=!1,Dr=-1}}else Tr=window.requestIdleCallback,Mr=window.cancelIdleCallback;else Tr=function(e){return setTimeout(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})})},Mr=function(e){clearTimeout(e)};function zr(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return o.Children.forEach(e,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)}),t}(t.children))&&(e.children=t),e}function qr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Wr(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function Hr(e,t){return null!=t.dangerouslySetInnerHTML&&d("91"),a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yr(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&d("92"),Array.isArray(t)&&(1>=t.length||d("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function Vr(e,t){var n=t.value;null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function Gr(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}var Kr={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Zr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Zr(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Qr,$r=void 0,Jr=(Qr=function(e,t){if(e.namespaceURI!==Kr.svg||"innerHTML"in e)e.innerHTML=t;else{for(($r=$r||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=$r.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return Qr(e,t)})}:Qr);function eo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var to={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},no=["Webkit","ms","Moz","O"];function ro(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=n,i=t[n];o=null==i||"boolean"==typeof i||""===i?"":r||"number"!=typeof i||0===i||to.hasOwnProperty(o)&&to[o]?(""+i).trim():i+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(to).forEach(function(e){no.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),to[t]=to[e]})});var oo=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function io(e,t,n){t&&(oo[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&d("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&d("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||d("61")),null!=t.style&&"object"!=typeof t.style&&d("62",n()))}function ao(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var so=s.thatReturns("");function uo(e,t){var n=jn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=A[t];for(var r=0;r<t.length;r++){var o=t[r];n.hasOwnProperty(o)&&n[o]||("topScroll"===o?An("topScroll","scroll",e):"topFocus"===o||"topBlur"===o?(An("topFocus","focus",e),An("topBlur","blur",e),n.topBlur=!0,n.topFocus=!0):"topCancel"===o?(Ye("cancel",!0)&&An("topCancel","cancel",e),n.topCancel=!0):"topClose"===o?(Ye("close",!0)&&An("topClose","close",e),n.topClose=!0):Mn.hasOwnProperty(o)&&_n(o,Mn[o],e),n[o]=!0)}}function co(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===Kr.html&&(r=Zr(e)),r===Kr.html?"script"===e?((e=n.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function lo(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function fo(e,t,n,r){var o=ao(t,n);switch(t){case"iframe":case"object":_n("topLoad","load",e);var i=n;break;case"video":case"audio":for(i in Pn)Pn.hasOwnProperty(i)&&_n(i,Pn[i],e);i=n;break;case"source":_n("topError","error",e),i=n;break;case"img":case"image":case"link":_n("topError","error",e),_n("topLoad","load",e),i=n;break;case"form":_n("topReset","reset",e),_n("topSubmit","submit",e),i=n;break;case"details":_n("topToggle","toggle",e),i=n;break;case"input":_t(e,n),i=bt(e,n),_n("topInvalid","invalid",e),uo(r,"onChange");break;case"option":i=zr(e,n);break;case"select":Wr(e,n),i=a({},n,{value:void 0}),_n("topInvalid","invalid",e),uo(r,"onChange");break;case"textarea":Yr(e,n),i=Hr(e,n),_n("topInvalid","invalid",e),uo(r,"onChange");break;default:i=n}io(t,i,so);var u,c=i;for(u in c)if(c.hasOwnProperty(u)){var l=c[u];"style"===u?ro(e,l):"dangerouslySetInnerHTML"===u?null!=(l=l?l.__html:void 0)&&Jr(e,l):"children"===u?"string"==typeof l?("textarea"!==t||""!==l)&&eo(e,l):"number"==typeof l&&eo(e,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(_.hasOwnProperty(u)?null!=l&&uo(r,u):null!=l&&vt(e,u,l,o))}switch(t){case"input":Ge(e),wt(e,n);break;case"textarea":Ge(e),Gr(e);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,null!=(t=n.value)?qr(e,!!n.multiple,t,!1):null!=n.defaultValue&&qr(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=s)}}function po(e,t,n,r,o){var i=null;switch(t){case"input":n=bt(e,n),r=bt(e,r),i=[];break;case"option":n=zr(e,n),r=zr(e,r),i=[];break;case"select":n=a({},n,{value:void 0}),r=a({},r,{value:void 0}),i=[];break;case"textarea":n=Hr(e,n),r=Hr(e,r),i=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=s)}io(t,r,so),t=e=void 0;var u=null;for(e in n)if(!r.hasOwnProperty(e)&&n.hasOwnProperty(e)&&null!=n[e])if("style"===e){var c=n[e];for(t in c)c.hasOwnProperty(t)&&(u||(u={}),u[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(_.hasOwnProperty(e)?i||(i=[]):(i=i||[]).push(e,null));for(e in r){var l=r[e];if(c=null!=n?n[e]:void 0,r.hasOwnProperty(e)&&l!==c&&(null!=l||null!=c))if("style"===e)if(c){for(t in c)!c.hasOwnProperty(t)||l&&l.hasOwnProperty(t)||(u||(u={}),u[t]="");for(t in l)l.hasOwnProperty(t)&&c[t]!==l[t]&&(u||(u={}),u[t]=l[t])}else u||(i||(i=[]),i.push(e,u)),u=l;else"dangerouslySetInnerHTML"===e?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(i=i||[]).push(e,""+l)):"children"===e?c===l||"string"!=typeof l&&"number"!=typeof l||(i=i||[]).push(e,""+l):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(_.hasOwnProperty(e)?(null!=l&&uo(o,e),i||c===l||(i=[])):(i=i||[]).push(e,l))}return u&&(i=i||[]).push("style",u),i}function ho(e,t,n,r,o){"input"===n&&"radio"===o.type&&null!=o.name&&At(e,o),ao(n,r),r=ao(n,o);for(var i=0;i<t.length;i+=2){var a=t[i],s=t[i+1];"style"===a?ro(e,s):"dangerouslySetInnerHTML"===a?Jr(e,s):"children"===a?eo(e,s):vt(e,a,s,r)}switch(n){case"input":Ct(e,o);break;case"textarea":Vr(e,o);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!o.multiple,null!=(n=o.value)?qr(e,!!o.multiple,n,!1):t!==!!o.multiple&&(null!=o.defaultValue?qr(e,!!o.multiple,o.defaultValue,!0):qr(e,!!o.multiple,o.multiple?[]:"",!1))}}function yo(e,t,n,r,o){switch(t){case"iframe":case"object":_n("topLoad","load",e);break;case"video":case"audio":for(var i in Pn)Pn.hasOwnProperty(i)&&_n(i,Pn[i],e);break;case"source":_n("topError","error",e);break;case"img":case"image":case"link":_n("topError","error",e),_n("topLoad","load",e);break;case"form":_n("topReset","reset",e),_n("topSubmit","submit",e);break;case"details":_n("topToggle","toggle",e);break;case"input":_t(e,n),_n("topInvalid","invalid",e),uo(o,"onChange");break;case"select":Wr(e,n),_n("topInvalid","invalid",e),uo(o,"onChange");break;case"textarea":Yr(e,n),_n("topInvalid","invalid",e),uo(o,"onChange")}for(var a in io(t,n,so),r=null,n)n.hasOwnProperty(a)&&(i=n[a],"children"===a?"string"==typeof i?e.textContent!==i&&(r=["children",i]):"number"==typeof i&&e.textContent!==""+i&&(r=["children",""+i]):_.hasOwnProperty(a)&&null!=i&&uo(o,a));switch(t){case"input":Ge(e),wt(e,n);break;case"textarea":Ge(e),Gr(e);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(e.onclick=s)}return r}function go(e,t){return e.nodeValue!==t}var mo=Object.freeze({createElement:co,createTextNode:lo,setInitialProperties:fo,diffProperties:po,updateProperties:ho,diffHydratedProperties:yo,diffHydratedText:go,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(Ct(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Y(r);o||d("90"),Ke(r),Ct(r,o)}}}break;case"textarea":Vr(e,n);break;case"select":null!=(t=n.value)&&qr(e,!!n.multiple,t,!1)}}});Te.injectFiberControlledHostComponent(mo);var vo=null,bo=null;function _o(e){this._expirationTime=ko.computeUniqueAsyncExpiration(),this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Ao(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Co(e,t,n){this._internalRoot=ko.createContainer(e,t,n)}function wo(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Eo(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}_o.prototype.render=function(e){this._defer||d("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Ao;return ko.updateContainerAtExpirationTime(e,t,null,n,r._onCommit),r},_o.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},_o.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||d("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,o=t;o!==this;)r=o,o=o._next;null===r&&d("251"),r._next=o._next,this._next=t,e.firstBatch=this}this._defer=!1,ko.flushRoot(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},_o.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Ao.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Ao.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&d("191",n),n()}}},Co.prototype.render=function(e,t){var n=this._internalRoot,r=new Ao;return null!==(t=void 0===t?null:t)&&r.then(t),ko.updateContainer(e,n,null,r._onCommit),r},Co.prototype.unmount=function(e){var t=this._internalRoot,n=new Ao;return null!==(e=void 0===e?null:e)&&n.then(e),ko.updateContainer(null,t,null,n._onCommit),n},Co.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,o=new Ao;return null!==(n=void 0===n?null:n)&&o.then(n),ko.updateContainer(t,r,e,o._onCommit),o},Co.prototype.createBatch=function(){var e=new _o(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime<=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e};var ko=xr({getRootHostContext:function(e){var t=e.nodeType;switch(t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xr(null,"");break;default:e=Xr(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}return e},getChildHostContext:function(e,t){return Xr(e,t)},getPublicInstance:function(e){return e},prepareForCommit:function(){vo=vn;var e=u();if(Fn(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=window.getSelection&&window.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{t.nodeType,o.nodeType}catch(e){t=null;break e}var i=0,a=-1,s=-1,c=0,l=0,f=e,d=null;t:for(;;){for(var p;f!==t||0!==r&&3!==f.nodeType||(a=i+r),f!==o||0!==n&&3!==f.nodeType||(s=i+n),3===f.nodeType&&(i+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===t&&++c===r&&(a=i),d===o&&++l===n&&(s=i),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}t=-1===a||-1===s?null:{start:a,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;bo={focusedElem:e,selectionRange:t},bn(!1)},resetAfterCommit:function(){var e=bo,t=u(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&l(document.documentElement,n)){if(Fn(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(window.getSelection){t=window.getSelection();var o=n[oe()].length;e=Math.min(r.start,o),r=void 0===r.end?e:Math.min(r.end,o),!t.extend&&e>r&&(o=r,r=e,e=o),o=Nn(n,e);var i=Nn(n,r);if(o&&i&&(1!==t.rangeCount||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)){var a=document.createRange();a.setStart(o.node,o.offset),t.removeAllRanges(),e>r?(t.addRange(a),t.extend(i.node,i.offset)):(a.setEnd(i.node,i.offset),t.addRange(a))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}bo=null,bn(vo),vo=null},createInstance:function(e,t,n,r,o){return(e=co(e,t,n,r))[z]=o,e[q]=t,e},appendInitialChild:function(e,t){e.appendChild(t)},finalizeInitialChildren:function(e,t,n,r){return fo(e,t,n,r),Eo(t,n)},prepareUpdate:function(e,t,n,r,o){return po(e,t,n,r,o)},shouldSetTextContent:function(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html},shouldDeprioritizeSubtree:function(e,t){return!!t.hidden},createTextInstance:function(e,t,n,r){return(e=lo(e,t))[z]=r,e},now:Sr,mutation:{commitMount:function(e,t,n){Eo(t,n)&&e.focus()},commitUpdate:function(e,t,n,r,o){e[q]=o,ho(e,t,n,r,o)},resetTextContent:function(e){eo(e,"")},commitTextUpdate:function(e,t,n){e.nodeValue=n},appendChild:function(e,t){e.appendChild(t)},appendChildToContainer:function(e,t){8===e.nodeType?e.parentNode.insertBefore(t,e):e.appendChild(t)},insertBefore:function(e,t,n){e.insertBefore(t,n)},insertInContainerBefore:function(e,t,n){8===e.nodeType?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},removeChildFromContainer:function(e,t){8===e.nodeType?e.parentNode.removeChild(t):e.removeChild(t)}},hydration:{canHydrateInstance:function(e,t){return 1!==e.nodeType||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e},canHydrateTextInstance:function(e,t){return""===t||3!==e.nodeType?null:e},getNextHydratableSibling:function(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},getFirstHydratableChild:function(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e},hydrateInstance:function(e,t,n,r,o,i){return e[z]=i,e[q]=n,yo(e,t,n,o,r)},hydrateTextInstance:function(e,t,n){return e[z]=n,go(e,t)},didNotMatchHydratedContainerTextInstance:function(){},didNotMatchHydratedTextInstance:function(){},didNotHydrateContainerInstance:function(){},didNotHydrateInstance:function(){},didNotFindHydratableContainerInstance:function(){},didNotFindHydratableContainerTextInstance:function(){},didNotFindHydratableInstance:function(){},didNotFindHydratableTextInstance:function(){}},scheduleDeferredCallback:Tr,cancelDeferredCallback:Mr}),xo=ko;function Oo(e,t,n,r,o){wo(n)||d("200");var i=n._reactRootContainer;if(i){if("function"==typeof o){var a=o;o=function(){var e=ko.getPublicRootInstance(i._internalRoot);a.call(e)}}null!=e?i.legacy_renderSubtreeIntoContainer(e,t,o):i.render(t,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Co(e,!1,t)}(n,r),"function"==typeof o){var s=o;o=function(){var e=ko.getPublicRootInstance(i._internalRoot);s.call(e)}}ko.unbatchedUpdates(function(){null!=e?i.legacy_renderSubtreeIntoContainer(e,t,o):i.render(t,o)})}return ko.getPublicRootInstance(i._internalRoot)}function So(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return wo(t)||d("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:et,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ne=xo.batchedUpdates,Fe=xo.interactiveUpdates,Le=xo.flushInteractiveUpdates;var To={createPortal:So,findDOMNode:function(e){return null==e?null:1===e.nodeType?e:ko.findHostInstance(e)},hydrate:function(e,t,n){return Oo(null,e,t,!0,n)},render:function(e,t,n){return Oo(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return(null==e||void 0===e._reactInternalFiber)&&d("38"),Oo(e,t,n,!1,r)},unmountComponentAtNode:function(e){return wo(e)||d("40"),!!e._reactRootContainer&&(ko.unbatchedUpdates(function(){Oo(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return So.apply(void 0,arguments)},unstable_batchedUpdates:ko.batchedUpdates,unstable_deferredUpdates:ko.deferredUpdates,flushSync:ko.flushSync,unstable_flushControlled:ko.flushControlled,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:L,EventPluginRegistry:E,EventPropagators:ne,ReactControlledComponent:Re,ReactDOMComponentTree:V,ReactDOMEventListener:En},unstable_createRoot:function(e,t){return new Co(e,!0,null!=t&&!0===t.hydrate)}};ko.injectIntoDevTools({findFiberByHostInstance:W,bundleType:0,version:"16.3.2",rendererPackageName:"react-dom"});var Mo=Object.freeze({default:To}),Po=Mo&&To||Mo;e.exports=Po.default?Po.default:Po},function(e,t,n){"use strict";
/** @license React v16.3.2
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(105),o=n(104),i=n(167),a=n(103),s="function"==typeof Symbol&&Symbol.for,u=s?Symbol.for("react.element"):60103,c=s?Symbol.for("react.portal"):60106,l=s?Symbol.for("react.fragment"):60107,f=s?Symbol.for("react.strict_mode"):60108,d=s?Symbol.for("react.provider"):60109,p=s?Symbol.for("react.context"):60110,h=s?Symbol.for("react.async_mode"):60111,y=s?Symbol.for("react.forward_ref"):60112,g="function"==typeof Symbol&&Symbol.iterator;function m(e){for(var t=arguments.length-1,n="http://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);o(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function b(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||v}function _(){}function A(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||v}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&m("85"),this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=b.prototype;var C=A.prototype=new _;C.constructor=A,r(C,b.prototype),C.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r=void 0,o={},i=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(i=""+t.key),t)E.call(t,r)&&!k.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:u,type:e,key:i,ref:a,props:o,_owner:w.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===u}var S=/\/+/g,T=[];function M(e,t,n,r){if(T.length){var o=T.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function P(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>T.length&&T.push(e)}function B(e,t,n,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var i=!1;if(null===e)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case u:case c:i=!0}}if(i)return n(r,e,""===t?"."+D(e,0):t),1;if(i=0,t=""===t?".":t+":",Array.isArray(e))for(var a=0;a<e.length;a++){var s=t+D(o=e[a],a);i+=B(o,s,n,r)}else if(null===e||void 0===e?s=null:s="function"==typeof(s=g&&e[g]||e["@@iterator"])?s:null,"function"==typeof s)for(e=s.call(e),a=0;!(o=e.next()).done;)i+=B(o=o.value,s=t+D(o,a++),n,r);else"object"===o&&m("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return i}function D(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function I(e,t){e.func.call(e.context,t,e.count++)}function j(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?R(e,r,n,a.thatReturnsArgument):null!=e&&(O(e)&&(t=o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(S,"$&/")+"/")+n,e={$$typeof:u,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function R(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(S,"$&/")+"/"),t=M(t,i,r,o),null==e||B(e,"",j,t),P(t)}var N={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return R(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=M(null,null,t,n),null==e||B(e,"",I,t),P(t)},count:function(e){return null==e?0:B(e,"",a.thatReturnsNull,null)},toArray:function(e){var t=[];return R(e,t,null,a.thatReturnsArgument),t},only:function(e){return O(e)||m("143"),e}},createRef:function(){return{current:null}},Component:b,PureComponent:A,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:p,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_changedBits:0,Provider:null,Consumer:null}).Provider={$$typeof:d,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:y,render:e}},Fragment:l,StrictMode:f,unstable_AsyncMode:h,createElement:x,cloneElement:function(e,t,n){(null===e||void 0===e)&&m("267",e);var o=void 0,i=r({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,c=w.current),void 0!==t.key&&(a=""+t.key);var l=void 0;for(o in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)E.call(t,o)&&!k.hasOwnProperty(o)&&(i[o]=void 0===t[o]&&void 0!==l?l[o]:t[o])}if(1===(o=arguments.length-2))i.children=n;else if(1<o){l=Array(o);for(var f=0;f<o;f++)l[f]=arguments[f+2];i.children=l}return{$$typeof:u,type:e.type,key:a,ref:s,props:i,_owner:c}},createFactory:function(e){var t=x.bind(null,e);return t.type=e,t},isValidElement:O,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:w,assign:r}},F=Object.freeze({default:N}),L=F&&N||F;e.exports=L.default?L.default:L},function(e,t,n){var r;e.exports=function e(t,n,o){function i(s,u){if(!n[s]){if(!t[s]){var c="function"==typeof r&&r;if(!u&&c)return r(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return i(n||e)},f,f.exports,e,t,n,o)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){t.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.React;if(!e)throw new Error("cannot find React");return{init:function(t){var n=function(n){function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.call(this,e));return t.state={error:null,info:null},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,n),o.prototype.componentDidCatch=function(e,n){var o=this.props.beforeSend,i=t.BugsnagReport,a=new i(e.name,e.message,i.getStacktrace(e),{severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}});n&&n.componentStack&&(n.componentStack=r(n.componentStack)),a.updateMetaData("react",n),t.notify(a,{beforeSend:o}),this.setState({error:e,info:n})},o.prototype.render=function(){var t=this.state.error;if(t){var n=this.props.FallbackComponent;return n?e.createElement(n,this.state):null}return this.props.children},o}(e.Component);return n}}};var r=function(e){for(var t=e.split(/\s*\n\s*/g),n="",r=0,o=t.length;r<o;r++)t[r].length&&(n+=(n.length?"\n":"")+t[r]);return n};t.exports.formatComponentStack=r,t.exports.default=t.exports},{}]},{},[1])(1)},function(e,t,n){e.exports=function(){var e=function(e,t,n){for(var r=n,o=0,i=e.length;o<i;o++)r=t(r,e[o],o,e);return r},t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=function(e){return e<10?"0"+e:e},o={map:function(t,n){return e(t,function(e,t,r,o){return e.concat(n(t,r,o))},[])},reduce:e,filter:function(t,n){return e(t,function(e,t,r,o){return n(t,r,o)?e.concat(t):e},[])},includes:function(t,n){return e(t,function(e,t,r,o){return!0===e||t===n},!1)},keys:function(e){var r=[],o=void 0;for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.push(o);if(!t)return r;for(var i=0,a=n.length;i<a;i++)Object.prototype.hasOwnProperty.call(e,n[i])&&r.push(n[i]);return r},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isoDate:function(){var e=new Date;return e.getUTCFullYear()+"-"+r(e.getUTCMonth()+1)+"-"+r(e.getUTCDate())+"T"+r(e.getUTCHours())+":"+r(e.getUTCMinutes())+":"+r(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}},i=o.isoDate,a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[anonymous]",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"manual",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i();!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=r,this.name=t,this.metaData=n,this.timestamp=o}return e.prototype.toJSON=function(){return{type:this.type,name:this.name,timestamp:this.timestamp,metaData:this.metaData}},e}(),s=o.includes,u=function(e){return s(["undefined","number"],typeof e)&&parseInt(""+e,10)===e&&e>0},c={},l=o.filter,f=o.reduce,d=o.keys,p=o.isArray;c.schema={apiKey:{defaultValue:function(){return null},message:"is required",validate:function(e){return"string"==typeof e&&e.length}},appVersion:{defaultValue:function(){return null},message:"should be a string",validate:function(e){return null===e||"string"==typeof e&&e.length}},autoNotify:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return!0===e||!1===e}},beforeSend:{defaultValue:function(){return[]},message:"should be a function or array of functions",validate:function(e){return"function"==typeof e||p(e)&&l(e,function(e){return"function"==typeof e}).length===e.length}},endpoint:{defaultValue:function(){return"https://notify.bugsnag.com"},message:"should be a URL",validate:function(){return!0}},sessionEndpoint:{defaultValue:function(){return"https://sessions.bugsnag.com"},message:"should be a URL",validate:function(){return!0}},autoCaptureSessions:{defaultValue:function(){return!1},message:"should be true|false",validate:function(e){return!0===e||!1===e}},notifyReleaseStages:{defaultValue:function(){return null},message:"should be an array of strings",validate:function(e){return null===e||p(e)&&l(e,function(e){return"string"==typeof e}).length===e.length}},releaseStage:{defaultValue:function(){return"production"},message:"should be a string",validate:function(e){return"string"==typeof e&&e.length}},maxBreadcrumbs:{defaultValue:function(){return 20},message:"should be a number ≤40",validate:function(e){return 0===e||u(e)&&(void 0===e||e<=40)}},autoBreadcrumbs:{defaultValue:function(){return!0},message:"should be true|false",validate:function(e){return"boolean"==typeof e}},user:{defaultValue:function(){return null},message:"(object) user should be an object",validate:function(e){return"object"==typeof e}},metaData:{defaultValue:function(){return null},message:"should be an object",validate:function(e){return"object"==typeof e}},logger:{defaultValue:function(){},message:"should be null or an object with methods { debug, info, warn, error }",validate:function(e){return!e||e&&f(["debug","info","warn","error"],function(t,n){return t&&"function"==typeof e[n]},!0)}}},c.mergeDefaults=function(e,t){if(!e||!t)throw new Error("schema.mergeDefaults(opts, schema): opts and schema objects are required");return f(d(t),function(n,r){return n[r]=void 0!==e[r]?e[r]:t[r].defaultValue(),n},{})},c.validate=function(e,t){if(!e||!t)throw new Error("schema.mergeDefaults(opts, schema): opts and schema objects are required");var n=f(d(t),function(n,r){return t[r].validate(e[r])?n:n.concat({key:r,message:t[r].message,value:e[r]})},[]);return{valid:!n.length,errors:n}};var h=function(e){return e.app&&"string"==typeof e.app.releaseStage?e.app.releaseStage:e.config.releaseStage},y=function(e){return!(!e||!e.stack&&!e.stacktrace&&!e["opera#sourceloc"]||"string"!=typeof(e.stack||e.stacktrace||e["opera#sourceloc"]))},g={};!function(e,t){"use strict";"object"==typeof g?g=t():e.StackFrame=t()}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}var r=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],i=["fileName","functionName","source"],a=r.concat(o,i,["args"]);function s(e){if(e instanceof Object)for(var n=0;n<a.length;n++)e.hasOwnProperty(a[n])&&void 0!==e[a[n]]&&this["set"+t(a[n])](e[a[n]])}s.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof s)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new s(e)}},toString:function(){var t=this.getFunctionName()||"{anonymous}",n="("+(this.getArgs()||[]).join(",")+")",r=this.getFileName()?"@"+this.getFileName():"",o=e(this.getLineNumber())?":"+this.getLineNumber():"",i=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return t+n+r+o+i}};for(var u=0;u<r.length;u++)s.prototype["get"+t(r[u])]=n(r[u]),s.prototype["set"+t(r[u])]=function(e){return function(t){this[e]=Boolean(t)}}(r[u]);for(var c=0;c<o.length;c++)s.prototype["get"+t(o[c])]=n(o[c]),s.prototype["set"+t(o[c])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(o[c]);for(var l=0;l<i.length;l++)s.prototype["get"+t(i[l])]=n(i[l]),s.prototype["set"+t(i[l])]=function(e){return function(t){this[e]=String(t)}}(i[l]);return s});var m={};!function(e,t){"use strict";"object"==typeof m?m=t(g):e.ErrorStackParser=t(e.StackFrame)}(this,function(e){"use strict";var t=/(^|@)\S+\:\d+/,n=/^\s*at .*(\S+\:\d+|\(native\))/m,r=/^(eval@)?(\[native code\])?$/;return{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(n))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(t){var r=t.stack.split("\n").filter(function(e){return!!e.match(n)},this);return r.map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=t.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),r=this.extractLocation(n.pop()),o=n.join(" ")||void 0,i=["eval","<anonymous>"].indexOf(r[0])>-1?void 0:r[0];return new e({functionName:o,fileName:i,lineNumber:r[1],columnNumber:r[2],source:t})},this)},parseFFOrSafari:function(t){var n=t.stack.split("\n").filter(function(e){return!e.match(r)},this);return n.map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===t.indexOf("@")&&-1===t.indexOf(":"))return new e({functionName:t});var n=t.split("@"),r=this.extractLocation(n.pop()),o=n.join("@")||void 0;return new e({functionName:o,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:t})},this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,r=t.message.split("\n"),o=[],i=2,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e({fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera10:function(t){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=t.stacktrace.split("\n"),o=[],i=0,a=r.length;i<a;i+=2){var s=n.exec(r[i]);s&&o.push(new e({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:r[i]}))}return o},parseOpera11:function(n){var r=n.stack.split("\n").filter(function(e){return!!e.match(t)&&!e.match(/^Error created at/)},this);return r.map(function(t){var n,r=t.split("@"),o=this.extractLocation(r.pop()),i=r.shift()||"",a=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;i.match(/\(([^\)]*)\)/)&&(n=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new e({functionName:a,args:s,fileName:o[0],lineNumber:o[1],columnNumber:o[2],source:t})},this)}}});var v={};!function(e,t){"use strict";"object"==typeof v?v=t(g):e.StackGenerator=t(e.StackFrame)}(this,function(e){return{backtrace:function(t){var n=[],r=10;"object"==typeof t&&"number"==typeof t.maxStackSize&&(r=t.maxStackSize);for(var o=arguments.callee;o&&n.length<r&&o.arguments;){for(var i=new Array(o.arguments.length),a=0;a<i.length;++a)i[a]=o.arguments[a];/function(?:\s+([\w$]+))+\s*\(/.test(o.toString())?n.push(new e({functionName:RegExp.$1||void 0,args:i})):n.push(new e({args:i}));try{o=o.caller}catch(e){break}}return n}}});var b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_=o.reduce,A=o.filter,C=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k();!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.__isBugsnagReport=!0,this._ignored=!1,this._handledState=o,this.app=void 0,this.apiKey=void 0,this.breadcrumbs=[],this.context=void 0,this.device=void 0,this.errorClass=x(t,"[no error class]"),this.errorMessage=x(n,"[no error message]"),this.groupingHash=void 0,this.metaData={},this.request=void 0,this.severity=this._handledState.severity,this.stacktrace=_(r,function(e,t){var n=w(t);try{return"{}"===JSON.stringify(n)?e:e.concat(n)}catch(t){return e}},[]),this.user=void 0,this.session=void 0}return e.prototype.ignore=function(){this._ignored=!0},e.prototype.isIgnored=function(){return this._ignored},e.prototype.updateMetaData=function(e){var t;if(!e)return this;var n=void 0;return null===(arguments.length<=1?void 0:arguments[1])?this.removeMetaData(e):null===(arguments.length<=2?void 0:arguments[2])?this.removeMetaData(e,arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]):("object"==typeof(arguments.length<=1?void 0:arguments[1])&&(n=arguments.length<=1?void 0:arguments[1]),"string"==typeof(arguments.length<=1?void 0:arguments[1])&&((t={})[arguments.length<=1?void 0:arguments[1]]=arguments.length<=2?void 0:arguments[2],n=t),n?(this.metaData[e]||(this.metaData[e]={}),this.metaData[e]=b({},this.metaData[e],n),this):this)},e.prototype.removeMetaData=function(e,t){return"string"!=typeof e?this:t?this.metaData[e]?(delete this.metaData[e][t],this):this:(delete this.metaData[e],this)},e.prototype.toJSON=function(){return{payloadVersion:"4",exceptions:[{errorClass:this.errorClass,message:this.errorMessage,stacktrace:this.stacktrace,type:"browserjs"}],severity:this.severity,unhandled:this._handledState.unhandled,severityReason:this._handledState.severityReason,app:this.app,device:this.device,breadcrumbs:this.breadcrumbs,context:this.context,user:this.user,metaData:this.metaData,groupingHash:this.groupingHash,request:this.request,session:this.session}},e}(),w=function(e){var t={file:e.fileName,method:E(e.functionName),lineNumber:e.lineNumber,columnNumber:e.columnNumber,code:void 0,inProject:void 0};return t.lineNumber>-1&&!t.file&&!t.method&&(t.file="global code"),t},E=function(e){return/^global code$/i.test(e)?"global code":e},k=function(){return{unhandled:!1,severity:"warning",severityReason:{type:"handledException"}}},x=function(e,t){return"string"==typeof e&&e?e:t};C.getStacktrace=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return y(e)?m.parse(e).slice(t):A(v.backtrace(),function(e){return-1===(e.functionName||"").indexOf("StackGenerator$$")}).slice(1+n)},C.ensureReport=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e.__isBugsnagReport)return e;try{var r=C.getStacktrace(e,t,1+n);return new C(e.name,e.message,r)}catch(t){return new C(e.name,e.message,[])}};var O=C,S=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},T="object"==typeof window?window:self,M=0;for(var P in T)Object.hasOwnProperty.call(T,P)&&M++;var B=navigator.mimeTypes?navigator.mimeTypes.length:0,D=S((B+navigator.userAgent.length).toString(36)+M.toString(36),4),I=function(){return D},j=0,R=4,N=36,F=Math.pow(N,R);function L(){return S((Math.random()*F<<0).toString(N),R)}function U(){var e=(new Date).getTime().toString(N),t=S((j=j<F?j:0,++j-1).toString(N),R),n=I(),r=L()+L();return"c"+e+t+n+r}U.fingerprint=I;var z=U,q=o.isoDate,W=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=z(),this.startedAt=q(),this._handled=0,this._unhandled=0}return e.prototype.toJSON=function(){return{id:this.id,startedAt:this.startedAt,events:{handled:this._handled,unhandled:this._unhandled}}},e.prototype.trackError=function(e){this[e._handledState.unhandled?"_unhandled":"_handled"]+=1},e}(),H=function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V=o.map,G=o.reduce,K=o.includes,Z=o.isArray,X=function(){},Q=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.schema,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("new BugsnagClient(notifier, configSchema) requires `notifier` argument");if(!t.name||!t.version||!t.url)throw new Error("new BugsnagClient(notifier, configSchema) - `notifier` requires: `{ name, version, url }`");this.notifier=t,this.configSchema=n,this._configured=!1,this._transport={name:"NULL_TRANSPORT",sendSession:X,sendReport:X},this._logger={debug:X,info:X,warn:X,error:X},this.plugins=[],this.session=r,this.beforeSession=[],this.breadcrumbs=[],this.app={},this.context=void 0,this.device=void 0,this.metaData=void 0,this.request=void 0,this.user={},this.BugsnagReport=O,this.BugsnagBreadcrumb=a,this.BugsnagSession=W}return e.prototype.configure=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=c.mergeDefaults(Y({},this.config,e),this.configSchema);var t=c.validate(this.config,this.configSchema);if(1==!t.valid){var n=new Error("Bugsnag configuration error");throw n.errors=V(t.errors,function(e){return e.key+" "+e.message+" \n  "+e.value}),n}return"function"==typeof this.config.beforeSend&&(this.config.beforeSend=[this.config.beforeSend]),null!==this.config.appVersion&&(this.app.version=this.config.appVersion),this.config.metaData&&(this.metaData=this.config.metaData),this.config.user&&(this.user=this.config.user),this.config.logger&&this.logger(this.config.logger),this._configured=!0,this._logger.debug("Loaded!"),this},e.prototype.use=function(e){return this.plugins.push(e),e.init(this)},e.prototype.transport=function(e){return this._transport=e,this},e.prototype.logger=function(e,t){return this._logger=e,this},e.prototype.sessionDelegate=function(e){return this._sessionDelegate=e,this},e.prototype.startSession=function(){return this._sessionDelegate?this._sessionDelegate.startSession(this):(this._logger.warn("No session implementation is installed"),this)},e.prototype.leaveBreadcrumb=function(e,t,n,r){if(!this._configured)throw new Error("Bugsnag must be configured before calling leaveBreadcrumb()");if(e=e||void 0,n="string"==typeof n?n:void 0,r="string"==typeof r?r:void 0,t="object"==typeof t&&null!==t?t:void 0,"string"==typeof e||t){var o=new a(e,t,n,r);return this.breadcrumbs.push(o),this.breadcrumbs.length>this.config.maxBreadcrumbs&&(this.breadcrumbs=this.breadcrumbs.slice(this.breadcrumbs.length-this.config.maxBreadcrumbs)),this}},e.prototype.notify=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._configured)throw new Error("Bugsnag must be configured before calling report()");var n=h(this),r=$(e,t,this._logger),o=r.err,i=r.errorFramesToSkip,a=r._opts;a&&(t=a),o||(this._logger.warn('Usage error. notify() called with no "error" parameter'),o=new Error('Bugsnag usage error. notify() called with no "error" parameter')),"object"==typeof t&&null!==t||(t={});var s=O.ensureReport(o,i,1);if(s.app=Y({releaseStage:n},s.app,this.app),s.context=s.context||t.context||this.context||void 0,s.device=Y({},s.device,this.device,t.device),s.request=Y({},s.request,this.request,t.request),s.user=Y({},s.user,this.user,t.user),s.metaData=Y({},s.metaData,this.metaData,t.metaData),s.breadcrumbs=this.breadcrumbs.slice(0),this.session&&(this.session.trackError(s),s.session=this.session),void 0!==t.severity&&(s.severity=t.severity,s._handledState.severityReason={type:"userSpecifiedSeverity"}),Z(this.config.notifyReleaseStages)&&!K(this.config.notifyReleaseStages,n))return this._logger.warn("Report not sent due to releaseStage/notifyReleaseStages configuration"),!1;var u=s.severity,c=[].concat(t.beforeSend).concat(this.config.beforeSend),l=G(c,function(e,t){return!0===e||"function"==typeof t&&!1===t(s)||!!s.isIgnored()},!1);return l?(this._logger.debug("Report not sent due to beforeSend callback"),!1):(this.config.autoBreadcrumbs&&this.leaveBreadcrumb(s.errorClass,{errorClass:s.errorClass,errorMessage:s.errorMessage,severity:s.severity,stacktrace:s.stacktrace},"error"),u!==s.severity&&(s._handledState.severityReason={type:"userCallbackSetSeverity"}),this._transport.sendReport(this._logger,this.config,{apiKey:s.apiKey||this.config.apiKey,notifier:this.notifier,events:[s]}),!0)},e}(),$=function(e,t,n){var r=void 0,o=0,i=void 0;switch(typeof e){case"string":"string"==typeof t?(n.warn("Usage error. notify() called with (string, string) but expected (error, object)"),r=new Error("Bugsnag usage error. notify() called with (string, string) but expected (error, object)"),i={metaData:{notifier:{notifyArgs:[e,t]}}}):(r=new Error(String(e)),o+=2);break;case"number":case"boolean":r=new Error(String(e));break;case"function":n.warn('Usage error. notify() called with a function as "error" parameter'),r=new Error('Bugsnag usage error. notify() called with a function as "error" parameter');break;case"object":null!==e&&(H(e)||e.__isBugsnagReport)?r=e:null!==e&&J(e)?((r=new Error(e.message||e.errorMessage)).name=e.name||e.errorClass,o+=2):(n.warn('Usage error. notify() called with an unsupported object as "error" parameter. Supply an Error or { name, message } object.'),r=new Error('Bugsnag usage error. notify() called with an unsupported object as "error" parameter. Supply an Error or { name, message } object.'))}return{err:r,errorFramesToSkip:o,_opts:i}},J=function(e){return!("string"!=typeof e.name&&"string"!=typeof e.errorClass||"string"!=typeof e.message&&"string"!=typeof e.errorMessage)},ee=Q,te={init:function(e){var t=0;e.config.beforeSend.push(function(n){if(t>=e.config.maxEvents)return n.ignore();t++}),e.refresh=function(){t=0}},configSchema:{maxEvents:{defaultValue:function(){return 10},message:"should be a positive integer ≤100",validate:function(e){return u(e)&&e<100}}}},ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re=c.schema,oe=o.map,ie={releaseStage:{defaultValue:function(){return/^localhost(:\d+)?$/.test(window.location.host)?"development":"production"},message:"(string) releaseStage should be set",validate:function(e){return"string"==typeof e&&e.length}},collectUserIp:{defaultValue:function(){return!0},message:"(boolean) collectUserIp should true/false",validate:function(e){return!0===e||!1===e}},logger:ne({},re.logger,{defaultValue:function(){return"undefined"!=typeof console&&"function"==typeof console.debug?ae():void 0}})},ae=function(){var e={},t=console.log;return oe(["debug","info","warn","error"],function(n){var r=console[n];e[n]="function"==typeof r?r.bind(console,"[bugsnag]"):t.bind(console,"[bugsnag]")}),e},se={},ue=o.map,ce=o.reduce,le=o.filter;se.init=function(e){ue(fe,function(t){var n=console[t];console[t]=function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];e.leaveBreadcrumb("Console output",ce(o,function(e,t,n){var r=String(t);if("[object Object]"===r)try{r=JSON.stringify(t)}catch(e){}return e["["+n+"]"]=r,e},{severity:0===t.indexOf("group")?"log":t}),"log"),n.apply(console,o)},console[t]._restore=function(){console[t]=n}})},se.configSchema={consoleBreadcrumbsEnabled:{defaultValue:function(){},validate:function(e){return!0===e||!1===e||void 0===e},message:"should be true|false"}};var fe=le(["log","debug","info","warn","error"],function(e){return"undefined"!=typeof console&&"function"==typeof console[e]}),de={init:function(e){e.config.beforeSend.unshift(function(e){e.context||(e.context=window.location.pathname)})}},pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he=o.isoDate,ye={init:function(e){e.config.beforeSend.unshift(function(e){e.device=pe({time:he(),locale:navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage||navigator.language,userAgent:navigator.userAgent},e.device)}),e.beforeSession.push(function(e){e.device={userAgent:navigator.userAgent}})}},ge={},me=o.reduce,ve=/^.*<script.*?>/,be=/<\/script>.*$/,_e=(ge={init:function(e){var t="",n=!1,r=function(){return document.documentElement.outerHTML},o=window.location.href;t=r(),document.onreadystatechange=function(){"interactive"===document.readyState&&(t=r(),n=!0)},e.config.beforeSend.unshift(function(e){var i=e.stacktrace[0];if(!i||!i.file||!i.lineNumber)return i;if(i.file.replace(/#.*$/,"")!==o.replace(/#.*$/,""))return i;n&&t||(t=r());var a=["\x3c!-- DOCUMENT START --\x3e"].concat(t.split("\n")),s=_e(a,i.lineNumber-1),u=s.script,c=s.start,l=me(u,function(e,t,n){return Math.abs(c+n+1-i.lineNumber)>10?e:(e[""+(c+n+1)]=t,e)},{});i.code=l,e.updateMetaData("script",{content:u.join("\n")})})}}).extractScriptContent=function(e,t){for(var n=t;n<e.length&&!be.test(e[n]);)n++;for(var r=n;n>0&&!ve.test(e[n]);)n--;var o=n,i=e.slice(o,r+1);return i[0]=i[0].replace(ve,""),i[i.length-1]=i[i.length-1].replace(be,""),{script:i,start:o}},Ae={init:function(e){"addEventListener"in window&&window.addEventListener("click",function(t){var n=void 0,r=void 0;try{n=Ce(t.target),r=function e(t){var n=[t.tagName];if(t.id&&n.push("#"+t.id),t.className&&t.className.length&&n.push("."+t.className.split(" ").join(".")),!document.querySelectorAll||!Array.prototype.indexOf)return n.join("");try{if(1===document.querySelectorAll(n.join("")).length)return n.join("")}catch(e){return n.join("")}if(t.parentNode.childNodes.length>1){var r=Array.prototype.indexOf.call(t.parentNode.childNodes,t)+1;n.push(":nth-child("+r+")")}return 1===document.querySelectorAll(n.join("")).length?n.join(""):t.parentNode?e(t.parentNode)+" > "+n.join(""):n.join("")}(t.target)}catch(t){n="[hidden]",r="[hidden]",e._logger.error("Cross domain error when tracking click event. See https://docs.bugsnag.com/platforms/browsers/faq/#3-cross-origin-script-errors")}e.leaveBreadcrumb("UI click",{targetText:n,targetSelector:r},"user")},!0)},configSchema:{interactionBreadcrumbsEnabled:{defaultValue:function(){},validate:function(e){return!0===e||!1===e||void 0===e},message:"should be true|false"}}},Ce=function(e){var t,n,r=e.textContent||e.innerText||"";return r||"submit"!==e.type&&"button"!==e.type||(r=e.value),r=r.replace(/^\s+|\s+$/g,""),n=140,(t=r)&&t.length<=n?t:t.slice(0,n-"(...)".length)+"(...)"},we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee={init:function(e){e.config.collectUserIp||e.config.beforeSend.push(function(e){e.user=we({id:"[NOT COLLECTED]"},e.user),e.request=we({clientIp:"[NOT COLLECTED]"},e.request)})}},ke={init:function(e){if("addEventListener"in window){var t=function(t){return function(){return e.leaveBreadcrumb(t,{},"navigation")}};window.addEventListener("pagehide",t("Page hidden"),!0),window.addEventListener("pageshow",t("Page shown"),!0),window.addEventListener("load",t("Page loaded"),!0),window.document.addEventListener("DOMContentLoaded",t("DOMContentLoaded"),!0),window.addEventListener("load",function(){return window.addEventListener("popstate",t("Navigated back"),!0)}),window.addEventListener("hashchange",function(t){var n=t.oldURL?{from:xe(t.oldURL),to:xe(t.newURL),state:Se()}:{to:xe(window.location.href)};e.leaveBreadcrumb("Hash changed",n,"navigation")},!0),window.history.replaceState&&Oe(e,window.history,"replaceState"),window.history.pushState&&Oe(e,window.history,"pushState"),e.leaveBreadcrumb("Bugsnag loaded",{},"navigation")}},configSchema:{navigationBreadcrumbsEnabled:{defaultValue:function(){},validate:function(e){return!0===e||!1===e||void 0===e},message:"should be true|false"}}},xe=function(e){var t=document.createElement("A");return t.href=e,""+t.pathname+t.search+t.hash},Oe=function(e,t,n){var r=t[n];t[n]=function(o,i,a){e.leaveBreadcrumb("History "+n,function(e,t,n){var r=xe(window.location.href);return{title:t,state:e,prevState:Se(),to:n||r,from:r}}(o,i,a),"navigation"),"function"==typeof e.refresh&&e.refresh(),e.session&&e.startSession(),r.apply(t,[o,i].concat(void 0!==a?a:[]))},t[n]._restore=function(){t[n]=r}},Se=function(){try{return window.history.state}catch(e){}},Te={},Me="request",Pe="BUGSNAG:REQUEST_URL",Be="BUGSNAG:REQUEST_METHOD",De=void 0;Te.init=function(e){De=e,Ie(),Ne()},Te.configSchema={networkBreadcrumbsEnabled:{defaultValue:function(){},validate:function(e){return!0===e||!1===e||void 0===e},message:"should be true|false"}};var Ie=function(){if("addEventListener"in window.XMLHttpRequest.prototype){var e=window.XMLHttpRequest.prototype.open;window.XMLHttpRequest.prototype.open=function(t,n){this[Pe]=n,this[Be]=t,this["BUGSNAG:SETUP"]&&(this.removeEventListener("load",je),this.removeEventListener("error",Re)),this.addEventListener("load",je),this.addEventListener("error",Re),this["BUGSNAG:SETUP"]=!0,e.apply(this,arguments)}}};function je(){if(this[Pe]!==De.config.endpoint&&this[Pe]!==De.config.sessionEndpoint){var e={status:this.status,request:this[Be]+" "+this[Pe]};this.status>=400?De.leaveBreadcrumb("XMLHttpRequest failed",e,Me):De.leaveBreadcrumb("XMLHttpRequest succeeded",e,Me)}}function Re(){this[Pe]!==De.config.endpoint&&this[Pe]!==De.config.sessionEndpoint&&De.leaveBreadcrumb("XMLHttpRequest error",{request:this[Be]+" "+this[Pe]},Me)}var Ne=function(){if("fetch"in window){var e=window.fetch;window.fetch=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=n[0],i=n[1],a="GET";return i&&i.method&&(a=i.method),new Promise(function(t,r){e.apply(void 0,n).then(function(e){Fe(e,a,o),t(e)}).catch(function(e){Le(a,o),r(e)})})}}},Fe=function(e,t,n){var r={status:e.status,request:t+" "+n};e.status>=400?De.leaveBreadcrumb("fetch() failed",r,Me):De.leaveBreadcrumb("fetch() succeeded",r,Me)},Le=function(e,t){De.leaveBreadcrumb("fetch() error",{request:e+" "+t},Me)},Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze={init:function(e){e.config.beforeSend.unshift(function(e){e.request&&e.request.url||(e.request=Ue({},e.request,{url:window.location.href}))})}},qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We=o.map,He=o.isArray,Ye=o.includes,Ve={init:function(e){return e.sessionDelegate(Ge)}},Ge={startSession:function(e){var t=e;t.session=new e.BugsnagSession,We(t.beforeSession,function(e){return e(t)});var n=h(t);return He(t.config.notifyReleaseStages)&&!Ye(t.config.notifyReleaseStages,n)?(t._logger.warn("Session not sent due to releaseStage/notifyReleaseStages configuration"),t):(t._transport.sendSession(t._logger,t.config,{notifier:t.notifier,device:t.device,app:qe({releaseStage:n},t.app),sessions:[{id:t.session.id,startedAt:t.session.startedAt,user:t.user}]}),t)}},Ke={},Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xe=o.map,Qe=(Ke={init:function(e){e.config.beforeSend.push(function(e){e.stacktrace=Xe(e.stacktrace,function(e){return Ze({},e,{file:Qe(e.file)})})})}})._strip=function(e){return"string"==typeof e?e.replace(/\?.*$/,"").replace(/#.*$/,""):e},$e={},Je=o.reduce;$e.init=function(e){var t=function(t){var n=t.reason,r=!1;t.detail&&t.detail.reason&&(n=t.detail.reason,r=!0);var o={severity:"error",unhandled:!0,severityReason:{type:"unhandledPromiseRejection"}},i=void 0;n&&y(n)?(i=new e.BugsnagReport(n.name,n.message,m.parse(n),o),r&&(i.stacktrace=Je(i.stacktrace,tt(n),[]))):(i=new e.BugsnagReport(n&&n.name?n.name:"UnhandledRejection",n&&n.message?n.message:'Rejection reason was not an Error. See "Promise" tab for more detail.',[],o)).updateMetaData("promise","rejection reason",et(n)),e.notify(i)};"addEventListener"in window?window.addEventListener("unhandledrejection",t):window.onunhandledrejection=function(e,n){t({detail:{reason:e,promise:n}})}};var et=function(e){return null===e||void 0===e?"undefined (or null)":H(e)?((t={})[Object.prototype.toString.call(e)]={name:e.name,message:e.message,code:e.code,stack:e.stack},t):e;var t},tt=function(e){return function(t,n){return n.file===e.toString()?t:(n.method&&(n.method=n.method.replace(/^\s+/,"")),t.concat(n))}},nt={init:function(e){var t=window.onerror;window.onerror=function(n,r,o,i,a){if(0===o&&/Script error\.?/.test(n))e._logger.warn("Ignoring cross-domain or eval script error. See https://docs.bugsnag.com/platforms/browsers/faq/#3-cross-origin-script-errors");else{var s={severity:"error",unhandled:!0,severityReason:{type:"unhandledException"}},u=void 0;if(a)a.name&&a.message?u=new e.BugsnagReport(a.name,a.message,rt(e.BugsnagReport.getStacktrace(a),r,o,i),s):(u=new e.BugsnagReport("window.onerror",String(a),rt(e.BugsnagReport.getStacktrace(a,1),r,o,i),s)).updateMetaData("window onerror",{error:a});else if("object"!=typeof n||null===n||r||o||i||a)(u=new e.BugsnagReport("window.onerror",String(n),rt(e.BugsnagReport.getStacktrace(a,1),r,o,i),s)).updateMetaData("window onerror",{event:n});else{var c=n.type?"Event: "+n.type:"window.onerror",l=n.message||n.detail||"";(u=new e.BugsnagReport(c,l,e.BugsnagReport.getStacktrace(new Error,1).slice(1),s)).updateMetaData("window onerror",{event:n})}e.notify(u),"function"==typeof t&&t(n,r,o,i,a)}}}},rt=function(e,t,n,r){var o=e[0];return o?(o.fileName||o.setFileName(t),o.lineNumber||o.setLineNumber(n),o.columnNumber||(void 0!==r?o.setColumnNumber(r):window.event&&window.event.errorCharacter&&o.setColumnNumber(window.event&&window.event.errorCharacter)),e):e},ot=function(e,t,n){return JSON.stringify((r=[],o=0,function e(t,n){function i(){return n>st&&o>at}if(o++,void 0===n&&(n=0),n>it)return ut;if(i())return ut;if(null===t||"object"!=typeof t)return t;if(function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1}(r,t))return"[Circular]";if(r.push(t),"function"==typeof t.toJSON)try{o--;var a=e(t.toJSON(),n);return r.pop(),a}catch(e){return ct(e)}if(function(e){return"[object Array]"===Object.prototype.toString.call(e)}(t)){for(var s=[],u=0,c=t.length;u<c;u++){if(i()){s.push(ut);break}s.push(e(t[u],n+1))}return r.pop(),s}var l={};try{for(var f in t)if(Object.prototype.hasOwnProperty.call(t,f)){if(i()){l[f]=ut;break}l[f]=e(lt(t,f),n+1)}}catch(e){}return r.pop(),l}(e)),t,n);var r,o},it=20,at=25e3,st=8,ut="...";function ct(e){return"[Throws: "+(e?e.message:"?")+"]"}function lt(e,t){try{return e[t]}catch(e){return ct(e)}}var ft=function(e){var t=ot(e);if(t.length>1e6&&(delete e.events[0].metaData,e.events[0].metaData={notifier:"WARNING!\nThe serialized payload was "+t.length/1e6+"MB. The limit is 1MB.\nreport.metaData was stripped to make the payload of a deliverable size."},(t=ot(e)).length>1e6))throw new Error("payload exceeded 1MB limit");return t},dt={},pt=o.isoDate,ht=(dt={name:"XDomainRequest",sendReport:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=ht(t.endpoint,window.location.protocol)+"?apiKey="+encodeURIComponent(t.apiKey)+"&payloadVersion=4.0&sentAt="+encodeURIComponent(pt()),i=new window.XDomainRequest;i.onload=function(){r(null,i.responseText)},i.open("POST",o),setTimeout(function(){try{i.send(ft(n))}catch(t){e.error(t)}},0)},sendSession:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=ht(t.sessionEndpoint,window.location.protocol)+"?apiKey="+encodeURIComponent(t.apiKey)+"&payloadVersion=1.0&sentAt="+encodeURIComponent(pt()),i=new window.XDomainRequest;i.onload=function(){r(null,i.responseText)},i.open("POST",o),setTimeout(function(){try{i.send(ot(n))}catch(t){e.error(t)}},0)}})._matchPageProtocol=function(e,t){return"http:"===t?e.replace(/^https:/,"http:"):e},yt=o.isoDate,gt={name:"XMLHttpRequest",sendReport:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=t.endpoint,i=new window.XMLHttpRequest;i.onreadystatechange=function(){i.readyState===window.XMLHttpRequest.DONE&&r(null,i.responseText)},i.open("POST",o),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Bugsnag-Api-Key",n.apiKey||t.apiKey),i.setRequestHeader("Bugsnag-Payload-Version","4.0"),i.setRequestHeader("Bugsnag-Sent-At",yt());try{i.send(ft(n))}catch(t){e.error(t)}},sendSession:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=t.sessionEndpoint,i=new window.XMLHttpRequest;i.onreadystatechange=function(){i.readyState===window.XMLHttpRequest.DONE&&r(null,i.responseText)},i.open("POST",o),i.setRequestHeader("Content-Type","application/json"),i.setRequestHeader("Bugsnag-Api-Key",t.apiKey),i.setRequestHeader("Bugsnag-Payload-Version","1.0"),i.setRequestHeader("Bugsnag-Sent-At",yt());try{i.send(ot(n))}catch(t){e.error(t)}}},mt={},vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bt=o.map,_t=o.reduce,At=vt({},c.schema,ie),Ct=[nt,$e,ye,de,ze,te,se,Te,ke,Ae,ge,Ve,Ee,Ke],wt={XDomainRequest:dt,XMLHttpRequest:gt};mt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];"string"==typeof e&&(e={apiKey:e}),e.sessionTrackingEnabled&&(e.autoCaptureSessions=e.sessionTrackingEnabled);var n=_t([].concat(Ct).concat(t),function(e,t){return t.configSchema?vt({},e,t.configSchema):e},At),r=new ee({name:"Bugsnag JavaScript",version:"4.6.3",url:"https://github.com/bugsnag/bugsnag-js"},n);r.transport(window.XDomainRequest?wt.XDomainRequest:wt.XMLHttpRequest);try{r.configure(e)}catch(e){throw r._logger.warn(e),e.errors&&bt(e.errors,r._logger.warn),e}return r.use(ye),r.use(de),r.use(ze),r.use(ge),r.use(te),r.use(Ve),r.use(Ee),r.use(Ke),!1!==r.config.autoNotify&&(r.use(nt),r.use($e)),Et(r.config,"navigationBreadcrumbsEnabled")&&r.use(ke),Et(r.config,"interactionBreadcrumbsEnabled")&&r.use(Ae),Et(r.config,"networkBreadcrumbsEnabled")&&r.use(Te),Et(r.config,"consoleBreadcrumbsEnabled",!1)&&r.use(se),bt(t,function(e){return r.use(e)}),r.config.autoCaptureSessions?r.startSession():r};var Et=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return"boolean"==typeof e[t]?e[t]:e.autoBreadcrumbs&&(n||!/^dev(elopment)?$/.test(e.releaseStage))};return mt.Bugsnag={Client:ee,Report:O,Session:W,Breadcrumb:a},mt.default=mt,mt}()},function(e,t,n){"use strict";var r=f(n(400)),o=f(n(399)),i=f(n(0)),a=f(n(166)),s=n(15),u=f(n(28)),c=f(n(295)),l=f(n(192));function f(e){return e&&e.__esModule?e:{default:e}}var d=(0,r.default)({apiKey:"09cd7060698418978d6775e5822061af",releaseStage:"production",autoNotify:!0,user:{commit:"1403776"},logger:null}).use((0,o.default)(i.default)),p=function(){(0,l.default)().then(function(){a.default.render(i.default.createElement(d,null,i.default.createElement(s.Provider,{store:u.default},i.default.createElement(c.default,null))),document.getElementById("front-chat-container"))}).catch(function(e){console.error("[FrontChat]",e)})};"loading"!==document.readyState?p():document.addEventListener("DOMContentLoaded",function(){p()})},function(e,t,n){e.exports=n(401)}]);